(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a6d5c12","chunk-0e35ec23","chunk-c6b2ad44","chunk-47f03e34","chunk-2d230fe7"],{"0007":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑OTX文件":"新增OTX文件",width:"40%",isOkButLoading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"form",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"100px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"车型名称：",prop:"relationId"}},[i("el-input",{attrs:{readonly:"",filterable:"",clearable:"",placeholder:"点击进行车型选择"},nativeOn:{click:function(e){return t.selectCarType(e)}},model:{value:t.formInfo.carTypeName,callback:function(e){t.$set(t.formInfo,"carTypeName",e)},expression:"formInfo.carTypeName"}})],1),i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecuNames"}},[i("el-input",{attrs:{clearable:"",placeholder:"点击进行ECU选择"},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.formInfo.ecuNames,callback:function(e){t.$set(t.formInfo,"ecuNames",e)},expression:"formInfo.ecuNames"}})],1),i("el-form-item",{attrs:{label:"文件：",prop:"fileName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{data:t.formInfo,headers:{Authorization:t.token},action:"","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"http-request":t.uploadFile}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("上传文件")])],1)],1),i("el-col",{staticClass:"titleColor",attrs:{span:18}},[t._v("\n\t\t\t\t\t\t"+t._s(t.formInfo.fileName)+"\n\t\t\t\t\t")])],1)],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,state:1,carTypeData:t.carTypeData},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}}),i("app-car-type-list",{attrs:{visibles:t.carTypeListVisible,data:t.carTypeData},on:{"update:visibles":function(e){t.carTypeListVisible=e},carType:t.loadCarType}})],1)},n=[],s=(i("7f7f"),i("7514"),i("bd86")),o=i("5c83"),r=i("9123"),l=i("10aa"),c=i("40aa"),u=i("838f"),d=i("d9a7"),p=i("4360"),h={name:"addUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[l["a"],c["a"]],components:{AppEcuList:u["default"],AppCarTypeList:d["default"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},computed:{token:function(){return p["a"].getters.token}},watch:{visibles:{handler:function(t){t&&this.setCarTypeName()},immediate:!0}},data:function(){var t,e=this,i=function(t,i,a){if(!e.formInfo.relationId)return a(new Error("请选择车型"))},a=function(t,i,a){if(!e.formInfo.fileName)return a(new Error("请上传文件"))};return t={formInfo:{relationId:"",carTypeName:"",fileName:"",remark:"",ecuNames:""},rules:{relationId:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}],ecuNames:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请选择ECU",formObjName:"formInfo"}],fileName:[{required:!0,trigger:"blur",validator:a},{trigger:"change",validator:a}]},fileName:"",loading:!1,ecuListVisible:!1,carTypeList:[],carTypeListVisible:!1},Object(s["a"])(t,"carTypeList",[]),Object(s["a"])(t,"carTypeData",{}),t},methods:{setCarTypeName:function(){var t=this;Object(r["d"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},changeCarType:function(t){var e=this.carTypeList.find((function(e){return e.id==t}));this.formInfo.carTypeName=e.carTypeName},radioChange:function(t){this.formInfo.buttonPosition=t},closeDialog:function(){var t;this.formInfo=(t={ecuId:"",ecuNames:"",fileName:"",remark:"",ecuIds:""},Object(s["a"])(t,"ecuNames",""),Object(s["a"])(t,"carTypeName",""),t),this.carTypeData={},this.$emit("update:visibles",!1)},selectECU:function(){this.formInfo.carTypeName?this.ecuListVisible=!0:this.$message.warning({message:"请先选择车型"})},selectCarType:function(){this.carTypeListVisible=!0},loadCarType:function(t){this.carTypeData=t,this.formInfo.carTypeName=t.carTypeName,this.formInfo.relationId=t.id},uploadFile:function(t){var e=this,i=t.file,a=new FormData;a.append("file",i),a.append("relationId",this.formInfo.relationId),a.append("ecuIds",this.formInfo.ecuIds),a.append("carTypeName",this.formInfo.carTypeName),a.append("fileName",this.formInfo.fileName),a.append("remark",this.formInfo.remark),a.append("type",2),this.loading=!0,Object(r["a"])(a).then((function(t){var i=t.data;e.loading=!1,0===i.code?(e.closeDialog(),e.$emit("add-complete")):e.$message.error({message:i.message,duration:2e3})})).catch((function(){e.loading=!1}))},submitForm:function(){var t=this.checkForm({formName:"form",formList:["relationId","fileName","ecuNames"]});t&&this.$refs.upload.submit()},handleChange:function(t){if(!(t.name.indexOf(".xml")>-1))return this.$message.warning({message:"请上传后缀名为.xml格式的文件！",duration:2e3}),this.$refs.upload.clearFiles(),void(this.formInfo.fileName="");this.formInfo.fileName=t.name},loadECU:function(t){this.formInfo.ecuNames=t.ecuname,this.formInfo.ecuIds=t.ecuid}}},f=h,m=(i("58ec"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,"3b871d81",null);e["default"]=b.exports},"01dd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("b2f9"),c=i("7829"),u=i("f344"),d={name:"caronline",mixins:[s["a"],o["a"],r["a"],l["a"],c["a"]],components:{},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{vinNo:"",cartypeid:"",startTime:"",endTime:""},authouizeList:[],carmodellist:[],showfilter:!1,tableList:[{value:"VIN码",prop:"vin",position:"center",checked:!0,fixed:"left",width:160},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:120},{value:"诊断模块",prop:"moduleName",position:"center",checked:!0,width:120},{value:"诊断次数",prop:"dxCount",position:"center",checked:!0,width:120},{value:"成功次数",prop:"successCount",position:"center",checked:!0,width:120},{value:"失败次数",prop:"failCount",position:"center",checked:!0,width:120}],tableHeight:0,startDatePicker:this.beginDate(),endDatePicker:this.processDate(),cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1}},created:function(){var t=this;Object(u["g"])().then((function(e){0==e.data.code&&(t.carmodellist=e.data.data||[])}))},mounted:function(){},methods:{listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):(this.listLoading=!0,Object(u["k"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})))},hanleExport:function(){Object(u["d"])(this.listQuery)},beginDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.endTime?new Date(t.listQuery.endTime).getTime()<e.getTime():e.getTime()>Date.now()}}},processDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.startTime?new Date(t.listQuery.startTime).getTime()>e.getTime():e.getTime()>Date.now()}}},getstartTime:function(t){this.listQuery.startTime=t},getEtime:function(t){this.listQuery.endTime=t}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"dbecea8a",null);e["default"]=f.exports},"0279":function(t,e,i){"use strict";var a=i("a865"),n=i.n(a);n.a},"042f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[t._v("\n  故障管理界面111\n")])},n=[],s={name:"readFault",components:{},mixins:[],computed:{},filters:{},data:function(){return{}},mounted:function(){},methods:{}},o=s,r=i("2877"),l=Object(r["a"])(o,a,n,!1,null,"0835b2cb",null);e["default"]=l.exports},"05c0":function(t,e,i){"use strict";var a=i("2a00"),n=i.n(a);n.a},"05d7":function(t,e,i){},"070d":function(t,e,i){},"0874":function(t,e,i){"use strict";var a=i("5054"),n=i.n(a);n.a},"088f":function(t,e,i){"use strict";var a=i("4dad"),n=i.n(a);n.a},"090e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-dialog",{attrs:{visibles:t.visiblee,title:"以模板新增分系统",icon:"icon-base-data",top:"8vh",width:"40%",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleSubmit}},[i("el-form",{ref:"formInfo",attrs:{slot:"formContent",model:t.formInfo,rules:t.rules,"label-position":"right","label-width":"100px"},slot:"formContent"},[i("el-form-item",{attrs:{label:"选择模板：",prop:"templateId"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.changeTemplate},model:{value:t.formInfo.templateId,callback:function(e){t.$set(t.formInfo,"templateId",e)},expression:"formInfo.templateId"}},t._l(t.templateList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:{id:t.id,name:t.label}}})})),1)],1),i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.carTypeId,callback:function(e){t.$set(t.formInfo,"carTypeId",e)},expression:"formInfo.carTypeId"}},t._l(t.carNameList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1)],1)},n=[],s=(i("7f7f"),i("10aa")),o=i("e7d4"),r=i("f80b"),l=i("2c25"),c={mixins:[s["a"]],props:{visiblee:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){var t=function(t,e,i){if(!e)return i(new Error("请选车型名称"))},e=function(t,e,i){if(!e)return i(new Error("请选择模板"))};return{rules:{carTypeId:[{required:!0,trigger:"blur",validator:t},{trigger:"change",validator:t}],templateId:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},formInfo:{templateId:"",templateName:"",carTypeId:""},ecuidList:[],ecuListVisible:!1,carTypeList:[],templateList:[],carNameList:[]}},watch:{visiblee:function(t){t&&this.listLoade()}},mounted:function(){this.listLoade()},methods:{closeDialog:function(){this.ecuidList=[],this.templateList=[],this.carNameList=[],this.formInfo={templateId:"",templateName:"",carTypeId:""},this.$emit("update:visiblee",!1)},changeTemplate:function(t){console.log(t)},listLoade:function(){var t=this;Object(o["c"])({}).then((function(e){var i=e.data;console.log(i,"data"),t.templateList=i.data})),Object(r["h"])().then((function(e){var i=e.data;console.log(i,"data2"),t.carNameList=i.data}))},handleSubmit:function(){var t=this,e=this.checkForm({formName:"formInfo",formList:["templateId","carTypeId"]});if(e){var i={templateId:this.formInfo.templateId.id,templateName:this.formInfo.templateId.name,carTypeId:this.formInfo.carTypeId};Object(l["a"])(i).then((function(e){var i=e.data;console.log(i,"data3"),0==i.code&&(t.$message.success("添加完成"),t.closeDialog(),t.$emit("add-template"))}))}},handlecancle:function(){this.closeDialog()}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"5eda9816",null);e["default"]=p.exports},"0982":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"DBC参数授权",width:"750px",isDrawerFoot:!1,wrapperClosable:!0},on:{"close-drawer":t.closeDrawer}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{staticStyle:{width:"100%"},attrs:{model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"DBC文件名："}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入DBC文件名"},model:{value:t.listQuery.fullDbcName,callback:function(e){t.$set(t.listQuery,"fullDbcName",e)},expression:"listQuery.fullDbcName"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading,"is-collapse":!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap"},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,isPagination:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,tableHeights:t.tableHeight+20,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,isShowOperation:!0,buttonList:t.tableAction},on:{"click-setParam":t.handleSetParam,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1),i("set-param-dialog",{attrs:{visibles:t.setParamVisible,data:t.tableRow},on:{"update:visibles":function(e){t.setParamVisible=e},"add-complete":t.setParamComplete}})],1)])},n=[],s=i("fab6"),o=i("6d60"),r=i("c1fb"),l=i("7829"),c=i("4b1c"),u=i("c0c7"),d={name:"DBC",components:{setParamDialog:c["default"]},mixins:[s["a"],l["a"],o["a"],r["a"]],props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},data:function(){return{listQuery:{fullDbcName:"",pageSize:10,pageNum:1},tableRow:{},setParamVisible:!1,showfilter:!1,tableHeight:0,total:0,list:[],listLoading:!1,actionWidth:0,actionFixed:"right",tableList:[{value:"DBC文件名 ",prop:"fullDbcName",position:"center",checked:!0,width:"160px"},{value:"DBC参数",prop:"variablesCount",position:"center",width:"90px",checked:!0},{value:"已设置DBC参数",prop:"setCount",position:"center",width:"120px",checked:!0},{value:"创建时间",prop:"createdOn",position:"center",width:"140px",checked:!0}]}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"setParam"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},mounted:function(){this.authouizeList=[{functionName:"设置参数",functionNameEn:"设置参数",functionType:1,iconType:2,url:"setParam",icon:"setParam",isShow:1}]},methods:{setParamComplete:function(){this.listLoad(),this.$message.success({message:"设置成功",duration:2e3})},listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.userId=this.data.userId,this.listQuery.isAdmin=this.data.isAdmin,Object(u["v"])(this.listQuery).then((function(e){var i=e.data;t.list=[],0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},handleSetParam:function(t){this.tableRow=t,this.tableRow.userId=this.data.userId,this.setParamVisible=!0},closeDrawer:function(){this.listQuery={pageSize:10,pageNum:1,fullDbcName:""},this.list=[],this.total=0,this.$emit("update:visibles",!1)}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"a79cb96c",null);e["default"]=f.exports},"0c33":function(t,e,i){var a={"./blue/addUser.png":"47ba","./green/addUser.png":"3cfc","./red/addUser.png":"b674"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="0c33"},"0c56":function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"e",(function(){return u})),i.d(e,"h",(function(){return s})),i.d(e,"i",(function(){return o})),i.d(e,"c",(function(){return d})),i.d(e,"b",(function(){return p}));var a=i("b775");function n(t){return Object(a["a"])({url:"/diagnosisLog/getDxOperLog",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/onlineDiagnosis/getOnLineDxResult",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/onlineDiagnosis/getOnlineDxReport",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/diagnosisLog/exportDxOperLog",method:"post",responseType:"arraybuffer",data:t})}function l(t){return Object(a["a"])({url:"/operLog/getDxResult",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/diagnosisLog/getDxResultDataStream",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/diagnosisLog/getDxProtocolJson",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/diagnosisLog/exportDxResultDataStream",method:"post",responseType:"arraybuffer",data:t})}function p(t){return Object(a["a"])({url:"/onlineDiagnosis/exportDxReportNew",method:"post",responseType:"arraybuffer",data:t})}},"0ceb":function(t,e,i){"use strict";var a=i("dfd3"),n=i.n(a);n.a},"0dba":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"诊断命令："}},[i("el-input",{attrs:{placeholder:"请输入诊断命令",maxlength:"20",clearable:""},model:{value:t.listQuery.command,callback:function(e){t.$set(t.listQuery,"command",e)},expression:"listQuery.command"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("f344"),u=i("b2f9"),d={name:"diagnosis",mixins:[s["a"],o["a"],r["a"],u["a"],l["a"]],components:{},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{command:"",sTime:"",eTime:""},authouizeList:[],showfilter:!1,tableList:[{value:"诊断命令",prop:"moduleName",position:"center",checked:!0,fixed:"left",width:120},{value:"诊断次数",prop:"dxCount",position:"center",checked:!0,width:90},{value:"诊断车辆数量(辆)",prop:"carCount",position:"center",checked:!0,width:140},{value:"成功次数",prop:"successCount",position:"center",checked:!0,width:90},{value:"失败次数",prop:"failCount",position:"center",checked:!0,width:90}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1}},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(c["j"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},hanleExport:function(){Object(c["b"])(this.listQuery)},beginDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.etime?new Date(t.listQuery.etime).getTime()<e.getTime():e.getTime()>Date.now()}}},processDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.stime?new Date(t.listQuery.stime).getTime()>e.getTime():e.getTime()>Date.now()}}},getStime:function(t){this.listQuery.stime=t},getEtime:function(t){this.listQuery.etime=t}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"70ef0e6b",null);e["default"]=f.exports},"0dec":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑故障码":"新增故障码",width:"40%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"120px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"故障码：",prop:"faultCode"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入故障码",maxlength:"9"},model:{value:t.formInfo.faultCode,callback:function(e){t.$set(t.formInfo,"faultCode",e)},expression:"formInfo.faultCode"}})],1),i("el-form-item",{attrs:{label:"故障码描述：",prop:"codeDescription"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入故障码描述",maxlength:"20"},model:{value:t.formInfo.codeDescription,callback:function(e){t.$set(t.formInfo,"codeDescription",e)},expression:"formInfo.codeDescription"}})],1),i("el-form-item",{attrs:{label:"关联车型：",prop:"carTypeName"}},[i("el-input",{attrs:{placeholder:"点击进行选择关联车型",readonly:""},nativeOn:{click:function(e){return t.selectCarTypeId(e)}},model:{value:t.formInfo.carTypeName,callback:function(e){t.$set(t.formInfo,"carTypeName",e)},expression:"formInfo.carTypeName"}})],1),i("el-form-item",{attrs:{label:"ECU：",prop:"ecuName"}},[i("el-input",{attrs:{placeholder:"点击进行选择ECU",readonly:""},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.formInfo.ecuName,callback:function(e){t.$set(t.formInfo,"ecuName",e)},expression:"formInfo.ecuName"}})],1),i("el-form-item",{attrs:{label:"解决方案："}},[i("el-input",{attrs:{placeholder:"请输入解决方案",type:"textarea",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.solution,callback:function(e){t.$set(t.formInfo,"solution",e)},expression:"formInfo.solution"}})],1)],1),i("app-car-type-list",{attrs:{visibles:t.carTypeListVisible,data:t.formInfo},on:{"update:visibles":function(e){t.carTypeListVisible=e},carTypeId:t.loadCarTypeId}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,data:t.formInfo},on:{"update:visibles":function(e){t.ecuListVisible=e},ecuId:t.loadEcuId}})],1)])},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("5c83"),r=i("7089"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"选择车型",width:"70%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-input",{attrs:{placeholder:"请输入车型名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中车型",isShowTitle:!0,icon:"icon_select_subsystem",data:t.carTypeName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-50},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)],1)])},c=[],u=i("fab6"),d=i("babb"),p=i("6d60"),h=i("3ff2"),f={name:"carTypeListDialog",doNotInit:!0,mixins:[u["a"],d["a"],p["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.carTypeName=this.data.carTypeName,this.listLoad())}}},data:function(){return{listQuery:{carTypeName:""},tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:80},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:250},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,carTypeName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(h["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.carTypeId&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.carTypeName=e.carTypeName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("carTypeId",this.tableRow),this.closeDialog()):this.$alert("请选中车型","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},m=f,b=i("2877"),g=Object(b["a"])(m,l,c,!1,null,"f2bb88b6",null),v=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",width:"70%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"所属ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中ECU",isShowTitle:!0,icon:"icon_select_subsystem",data:t.ecuName}}),i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-50},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)],1)])},w=[],L=i("140c"),k={name:"carTypeListDialog",doNotInit:!0,mixins:[u["a"],d["a"],p["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.ecuName=this.data.ecuName,this.listLoad())}}},data:function(){return{listQuery:{ecuName:""},tableList:[{value:"ODX文件名",prop:"odxName",position:"center",checked:!0,width:300},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:220},{value:"所属ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:100},{value:"接收地址",prop:"responseAddress",position:"center",checked:!0,width:100},{value:"版本号",prop:"version",position:"center",checked:!0,width:60},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,ecuName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(L["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.ecuId&&t.$refs.singleTable1.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.ecuName=e.ecuName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("ecuId",this.tableRow),this.closeDialog()):this.$alert("请选中ECU","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},C=k,x=Object(b["a"])(C,y,w,!1,null,"45bc6f01",null),T=x.exports,S=i("10aa"),O=i("40aa");function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function I(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var D={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},components:{AppCarTypeList:v,AppEcuList:T},mixins:[S["a"],O["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){this.formInfo=I({},this.data)},immediate:!0}},data:function(){return{formInfo:{},carTypeListVisible:!1,ecuListVisible:!1,rules:{faultCode:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请输入故障码",formObjName:"formInfo"}],codeDescription:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请输入故障描述",formObjName:"formInfo"}],carTypeName:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请选择关联车型",formObjName:"formInfo"}],ecuName:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请选择ECU",formObjName:"formInfo"}]}}},methods:{loadCarTypeId:function(t){this.formInfo.carTypeId=t.id,this.formInfo.carTypeName=t.carTypeName},loadEcuId:function(t){this.formInfo.ecuId=t.id,this.formInfo.ecuName=t.ecuName},selectCarTypeId:function(){this.carTypeListVisible=!0},selectECU:function(){this.ecuListVisible=!0},closeDialog:function(){this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},_buttonAdd:function(t){var e=this;Object(r["a"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("add-complete"),e.closeDialog())}))},_buttonUpdate:function(t){var e=this;Object(r["e"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("update-complete"),e.closeDialog())}))},submitForm:function(){var t=this.checkForm({formName:"formCenter",formList:["faultCode","codeDescription","carTypeId","ecuId"]});if(t){var e=this.formInfo,i=e.id,a=e.faultCode,n=e.codeDescription,s=e.carTypeId,o=e.ecuId,r=e.solution,l={};this.isEdit?(l={id:i,faultCode:a,codeDescription:n,carTypeId:s,ecuId:o,solution:r},this._buttonUpdate(l)):(l={faultCode:a,codeDescription:n,carTypeId:s,ecuId:o,solution:r},this._buttonAdd(l))}}}},j=D,Q=Object(b["a"])(j,a,n,!1,null,"0cb626b6",null);e["default"]=Q.exports},"0ef3d":function(t,e,i){"use strict";i.r(e);var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择分系统：",prop:"subSystemName","label-width":"85px"}},[i("el-input",{attrs:{placeholder:"点击进行选择分系统",clearable:""},on:{clear:t.clearSubSystem},nativeOn:{click:function(e){return t.selectSubSystem(e)}},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",clearable:""},on:{clear:t.clearECU},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.listQuery.ecu,callback:function(e){t.$set(t.listQuery,"ecu",e)},expression:"listQuery.ecu"}})],1)],1)],1)],1)],1)]),i("app-command-radio-btn-group",{attrs:{slot:"footer",buttonList:t.authouize,rightButtonList:t.rightButtonList},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.handleExport,"click-startExecution":t.handleStartExecution,"click-radioBtn":t.handleRadioBtn},slot:"footer"},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-table",{directives:[{name:"show",rawName:"v-show",value:!t.reportVisible,expression:"!reportVisible"}],attrs:{slot:"table",tableHeights:t.tableHeight,isTableSelection:!1,list:t.list,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:12==t.digType1?t.tableAction1:t.tableAction,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:7==t.digType1||12==t.digType1?t.total:0,isShowOperation:1==t.digType1||12==t.digType1},on:{"click-viewSolution":t.viewSolution,"click-readFreezeFrame":t.readFreezeFrameResult,"click-detail":t.handleDetail,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["8"!==t.digType1&&"5"!==t.digType1||"result"!==e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])})],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,ecuClassId:t.ecuClassId,data:t.ecuData},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}}),i("sub-system-select",{attrs:{visibles:t.subSystemSelectVisible,carTypeId:t.carTypeId,data:t.subsystemData,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.subSystemSelectVisible=e},setSubSystemName:t.setSubSystemName}}),i("app-zhenduan-service",{attrs:{visibles:t.selectZhenServiceVisible,ecuList:t.ecuList,propServiceList:t.serviceIdList},on:{"update:visibles":function(e){t.selectZhenServiceVisible=e},setDigService:t.setZhenService}}),i("app-fault-list",{attrs:{visibles:t.faultListVisible,faultParamList:t.queryFaultParamList,faultTitle:t.faultTitle},on:{"update:visibles":function(e){t.faultListVisible=e},setFaultContentList:t.setFaultContentList,reloadDigLog:t.reloadDigLog}}),i("app-freeze-frame",{attrs:{visibles:t.freezeFrameVisible,faultParamList:t.queryFaultParamList},on:{"update:visibles":function(e){t.freezeFrameVisible=e},reloadDigLog:t.reloadDigLog}}),i("app-stream-list",{attrs:{visibles:t.streamListVisible,faultParamList:t.queryStreamParamList},on:{"update:visibles":function(e){t.streamListVisible=e},reloadDigLog:t.reloadDigLog}}),i("app-version",{attrs:{visibles:t.versionVisible,data:t.versionData},on:{"update:visibles":function(e){t.versionVisible=e}}}),i("dig-result",{attrs:{visibles:t.digResultVisible,list:t.list,digTitle:t.digTitle,digType:t.digType},on:{"update:visibles":function(e){t.digResultVisible=e}}}),i("writeInPartsDialog",{attrs:{visibles:t.writeInPartsVisible,data:t.carData,ecuData:t.ecuData,systemData:t.subsystemData},on:{"update:visibles":function(e){t.writeInPartsVisible=e}}}),i("viewSolutionDialog",{attrs:{visibles:t.viewSolutionVisible,data:t.tableRow,vinNo:t.queryFaultParamList.vin},on:{"update:visibles":function(e){t.viewSolutionVisible=e}}}),i("see-detail-drawer",{attrs:{visibles:t.detailVisible,data:t.tableRow},on:{"update:visibles":function(e){t.detailVisible=e}}})],1)},s=[],o=(i("8e6e"),i("456d"),i("2fdb"),i("75fc")),r=i("bd86"),l=(i("6762"),i("ac6a"),i("28a5"),i("fab6")),c=i("6d60"),u=i("10aa"),d=i("babb"),p=i("7829"),h=i("d0a1"),f=i("0c56"),m=i("cf45"),b=i("530f"),g=i("4adb"),v=i("95c0"),y=i("c3db"),w=i("3895"),L=i("9cad"),k=i("7341"),C=i("d61f"),x=i("e800"),T=i("df38"),S=i("d9b8"),O=i("756d"),N=i("5118");function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var j={name:"online",doNotInit:!0,mixins:[l["a"],c["a"],u["a"],d["a"],p["a"]],components:{AppCarList:b["a"],AppEcuList:g["a"],SubSystemSelect:v["a"],AppFaultList:y["default"],AppStreamList:w["default"],AppFreezeFrame:L["default"],AppVersion:k["default"],AppZhenduanService:S["default"],digResult:O["default"],writeInPartsDialog:C["default"],viewSolutionDialog:x["default"],seeDetailDrawer:T["default"]},filters:{getOperateState:function(t){var e="失败";return 1===t&&(e="成功"),e},getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},computed:{filterTableList:function(){this.reportVisible=!1;var t=0;switch(this.digType1){case"1":case"2":case"3":t=0;break;case"5":t=4;break;case"4":t=1;break;case"7":t=2;break;case"8":t=3;break;case"12":t=5;break}return this.otherTableList[t].filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"readFault"===t.url||"clearFault"===t.url||"readDataSteam"===t.url||"reprotdig"===t.url||"writeInParts"===t.url||"hardware"===t.url||"software"===t.url}))},rightButtonList:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"viewSolution"===t.url||"readFreezeFrame"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))},i=function(e,i,a){if(!t.listQuery.ecu)return a(new Error("请点击选择ECU"))},a=function(e,i,a){if(!t.listQuery.subSystemName)return a(new Error("请点击选择分系统"))};return{listQuery:{vin:"",ecuClassId:"",subSystemName:"",ecuId:"",serviceIds:"",ecu:"",serviceName:""},detailVisible:!1,tableAction1:[{functionName:"查看详情",functionNameEn:"查看详情",functionType:2,url:"detail",icon:"detail3",isShow:1}],actionWidth:0,actionFixed:"false",btnRow:{},digType1:"",reportVisible:!1,viewSolutionVisible:!1,authouizeList:[],componentAuthouizeList:[],showfilter:!1,reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],otherTableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}],[{value:"id",prop:"index",position:"center",checked:!1,needMerge:!0,width:120},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!0,width:120},{value:"故障码",prop:"content",position:"center",checked:!0,needMerge:!0,width:120},{value:"内容",prop:"name",position:"center",checked:!0,width:120},{value:"结果",prop:"value",position:"center",checked:!0,width:120}],[{value:"ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"读取内容",prop:"digContent",position:"center",checked:!0,width:120},{value:"读取结果",prop:"digResult",position:"center",checked:!0,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,width:120},{value:"失败描述",prop:"digNrcdes",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"写入内容",prop:"content",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:120},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断车辆",prop:"vinNo",position:"center",checked:!0,width:140},{value:"诊断ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码数量",prop:"errorCount",position:"center",checked:!0,width:120},{value:"读取数量",prop:"readCount",position:"center",checked:!0,width:120}]],tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,fixed:"left",width:120},{value:"故障码",prop:"result",position:"center",checked:!0},{value:"故障码描述",prop:"content",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:100},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:100},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:160}],tableList1:[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0},{value:"故障码描述",prop:"content",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:100},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:100},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:160}],tableList2:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"诊断时间",prop:"responseTime",position:"center",fixed:"left",checked:!0},{value:"是否成功",prop:"result",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0}],tableList3:[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"故障码",prop:"content",position:"center",checked:!0,width:140},{value:"内容",prop:"name",position:"center",checked:!0,width:140},{value:"结果",prop:"value",position:"center",checked:!0,width:140}],tableList4:[{value:"ECU",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:120},{value:"读取内容",prop:"digContent",position:"center",checked:!0,width:120},{value:"读取结果",prop:"digResult",position:"center",checked:!0,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,width:120},{value:"失败描述",prop:"digNRCDes",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140}],tableList5:[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"硬件版本号",prop:"wareVersion",position:"center",checked:!0,width:120},{value:"原始报文",prop:"content",position:"center",checked:!0,width:140},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}],tableList6:[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"软件版本号",prop:"wareVersion",position:"center",checked:!0,width:120},{value:"原始报文",prop:"content",position:"center",checked:!0,width:140},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}],tableList7:[{value:"故障码",prop:"content",position:"center",fixed:"left",checked:!0,width:140},{value:"故障描述",prop:"result",position:"center",checked:!0,width:240}],printTableVisible:!0,activeMessage:"",interval:null,tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,carListVisible:!1,ecuListVisible:!1,subSystemSelectVisible:!1,faultListVisible:!1,streamListVisible:!1,freezeFrameVisible:!1,writeInPartsVisible:!1,selectZhenServiceVisible:!1,versionVisible:!1,tableRow:{},rules:{vin:[{required:!0,trigger:"change",validator:e}],ecu:[{required:!1,trigger:"change",validator:i}],subSystemName:[{required:!1,trigger:"change",validator:a}]},queryFaultParamList:{},queryStreamParamList:{},faultTitle:"",faultContentList:"",ecuList:{},versionData:{},serviceIdList:[],carTypeId:"",ecuClassId:"",buttonListPommsion:[{icon:"icon_control_fault",buttonName:"读取当前故障",buttonEvent:"readFault"},{icon:"icon_control_history",buttonName:"读取历史故障",buttonEvent:"readHistoryFault"},{icon:"icon_control_freeze",buttonName:"读取冻结帧",buttonEvent:"readFreezeFrame"},{icon:"icon_control_clear",buttonName:"清除故障",buttonEvent:"clearFault"},{icon:"icon_control_stream",buttonName:"读取数据流",buttonEvent:"readDataSteam"},{icon:"search",buttonName:"一键读取硬件版本号",buttonEvent:"hardware"},{icon:"search",buttonName:"一键读取软件版本号",buttonEvent:"software"},{icon:"printReport",buttonName:"打印诊断报告",buttonEvent:"reprotdig"}],buttonList:[],digResultVisible:!1,digServiceId:"",digTitle:"",digType:"",timersjl:null,carData:{},subsystemData:{},ecuData:{},btnFlag:""}},mounted:function(){},beforeDestroy:function(){window.clearInterval(this.timersjl),this.timersjl=null},methods:(a={writeInParts:function(){this.writeInPartsVisible=!0},handleExport:function(){Object(h["c"])({operateType:""})},selectCar:function(){this.carListVisible=!0},selectECU:function(){""!==this.listQuery.vin?this.ecuListVisible=!0:this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.queryFaultParamList.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t,this.clearSubSystem(),this.clearECU()},loadECU:function(t){this.listQuery.ecu=t.ecuname,this.queryFaultParamList.ecuId=t.ecuid,this.listQuery.ecuId=t.ecuname,this.ecuList=t,this.faultContentList="",this.ecuData=t},clearSubSystem:function(){this.listQuery.subSystemName="",this.listQuery.ecuClassId="",this.queryFaultParamList.ecuClassId="",this.ecuClassId="",this.subsystemData={}},clearECU:function(){this.listQuery.ecu="",this.ecuList={},this.ecuData={},this.queryFaultParamList.ecuId="",this.faultContentList=""},selectSubSystem:function(){""!==this.listQuery.vin?this.subSystemSelectVisible=!0:this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},setSubSystemName:function(t){this.listQuery.subSystemName=t.subSystemName,this.listQuery.ecuClassId=t.id,this.queryFaultParamList.ecuClassId=t.id,this.ecuClassId=t.id,this.subsystemData=t,this.clearECU()},selectZhenService:function(){var t=this.checkForm({formName:"formLeft",formList:["vin","subSystemName","ecu"]});if(t){this.selectZhenServiceVisible=!0;var e=this.listQuery.serviceIds,i=this.listQuery.serviceName;if(""===e||""===i)this.serviceIdList=[];else{for(var a=e.split(","),n=i.split(","),s=[],o=0;o<a.length;o++)s.push({id:a[o],serviceName:n[o]});this.serviceIdList=s}}},setZhenService:function(t){var e=[],i=[];t.forEach((function(t){e.push(t.serviceName),i.push(t.id)})),this.listQuery.serviceName=e.join(","),this.listQuery.serviceIds=i.join(","),this.reprotdig()},getFaultContentList:function(t){var e="";if(t.length>0){var i=[];t.forEach((function(t){i.includes(t.appendContent)||i.push(t.appendContent)})),e=i.join(",")}return e},readFault:function(){this.validateData()&&(this.queryFaultParamList.dxIntType=2,this.printTableVisible=!0,this.tableList=this.tableList1,this.btnFlag=1,window.clearInterval(this.timersjl),this.currentFaultAjax(this.queryFaultParamList))},viewSolution:function(t){t&&(this.tableRow=t),this.viewSolutionVisible=!0},currentFaultAjax:function(t){var e=this,i=t;i&&i.vin&&i.dxIntType&&(this.listLoading=!0,Object(h["q"])(i).then((function(t){var i=t.data;0===i.code&&1==e.btnFlag&&e.loadData(),e.listLoading=!1})).catch((function(t){e.listLoading=!1})))},readHistoryFault:function(){this.validateData()&&(this.queryFaultParamList.dxIntType=3,this.printTableVisible=!0,this.tableList=this.tableList1,this.btnFlag=2,window.clearInterval(this.timersjl),this.historyFaultAjax(this.queryFaultParamList))},historyFaultAjax:function(t){var e=this,i=t;i&&i.vin&&i.dxIntType&&(this.listLoading=!0,Object(h["b"])(i).then((function(t){var a=t.data;if(0===a.code&&2==e.btnFlag){e.list=a.data;var n=i.dxIntType;2!==n&&3!==n||e.setFaultContentList(e.getFaultContentList(a.data))}e.listLoading=!1})).catch((function(t){e.listLoading=!1})))},clearFault:function(){this.validateData()&&(this.queryFaultParamList.dxIntType=6,this.printTableVisible=!0,this.tableList=this.tableList2,this.btnFlag=3,window.clearInterval(this.timersjl),this.clearFaultAjax(this.queryFaultParamList))},clearFaultAjax:function(t){var e=this,i=t;i&&i.vin&&i.dxIntType&&(this.listLoading=!0,Object(h["a"])(i).then((function(t){var i=t.data;0===i.code&&3==e.btnFlag&&e.loadData(),e.listLoading=!1})).catch((function(t){e.listLoading=!1})))},setFaultContentList:function(t){this.faultContentList=t},readFreezeFrame:function(t){var e=this;if(this.validateData())if(t.result){this.queryFaultParamList.dxIntType=4,t.result?this.queryFaultParamList.withParams=t.appendContent:this.queryFaultParamList.withParams=this.faultContentList,this.printTableVisible=!0,this.tableList=this.tableList3,window.clearInterval(this.timersjl);var i=this.queryFaultParamList;i&&i.vin&&i.dxIntType&&(this.btnFlag=4,this.listLoading=!0,Object(h["b"])(i).then((function(t){var i=t.data;0===i.code&&4==e.btnFlag&&(e.digType1="4",e.list=e.createNewData(i.data)),e.listLoading=!1})).catch((function(t){e.listLoading=!1})))}else this.$alert("请先读取故障码","提示",{confirmButtonText:"确定"})},createNewData:function(t){if(0!==t.length){var e=[],i=0;return t.forEach((function(t){if(""===t.result||null===t.result){var a={isStartMultiRow:!0,rowCount:1};a.ecuName=t.ecuName,a.content=t.content,a.index=i,a.name="",a.value=t.errorMessage,e.push(a)}else for(var n=JSON.parse(t.result),s=n.length,o=0;o<s;o++){var r={};r.isStartMultiRow=0===o,r.rowCount=s,r.ecuName=t.ecuName,r.content=t.content,r.index=i,r.name=n[o].NAME,r.value=n[o].VALUE,e.push(r)}i++})),e}},readDataSteam:function(){this.validateData()&&(this.queryFaultParamList.dxIntType=7,this.queryStreamParamList=this.queryFaultParamList,this.printTableVisible=!0,this.tableList=this.tableList4,this.btnFlag=5,this.streamListAjax(this.queryFaultParamList))},streamListAjax:function(t){var e=this,i=Object(m["c"])(),a=D({},t,{},{token:i});this.listLoading=!0,Object(h["r"])(a).then((function(t){var i=t.data;0===i.code&&5==e.btnFlag?(e.$message.success({message:"命令下发成功，等待结果上报……",duration:2e3}),null!=e.timersjl&&(window.clearInterval(e.timersjl),e.timersjl=null),e.timersjl=window.setInterval((function(){e.loadData()}),5e3)):e.$message.warning({message:i.message,duration:2e3}),e.listLoading=!1})).catch((function(t){e.listLoading=!1}))},get_DxResultDataStream:function(t){var e=this;Object(f["g"])({token:t}).then((function(t){var i=t.data;0===i.code&&(e.list=i.data.result||[])}))},handleFilter:function(t){var e=this;this.resultStr="";var i=this.checkForm({formName:"formLeft",formList:["vin"]});if(i){this.printTableVisible=!0;var a={vin:this.listQuery.vin};this.isTableVisible=!0,this.exportData={},this.listLoading=!0,1===t?(this.tableList=this.tableList6,this.versionTitle="软件版本号",Object(h["t"])(a).then((function(t){var i=t.data;0===i.code?(e.listQuery.addressA="",e.listQuery.addressB="",e.isShow=!1,e.$message.success({message:"命令下发成功，数据上报中……",duration:2e3}),e.versionData=JSON.parse(i.data),getVersionAjax(e.versionData)):(e.listLoading=!1,e.$message.warning({message:"命令下发失败！",duration:2e3}))}))):(this.tableList=this.tableList5,this.versionTitle="硬件版本号",Object(h["s"])(a).then((function(t){var i=t.data;0===i.code?(e.listQuery.addressA="",e.listQuery.addressB="",e.isShow=!1,e.$message.success({message:"命令下发成功，数据上报中……",duration:2e3}),e.versionData=JSON.parse(i.data),getVersionAjax(e.versionData)):(e.listLoading=!1,e.$message.warning({message:"命令下发失败！",duration:2e3}))})))}},getVersionAjax:function(t){var e=this,i=0;this.interval=setInterval((function(){var a={token:t.token,pageNum:1,pageSize:100};Object(h["m"])(a).then((function(t){var a=t.data;if(a.data){var n=[];n=Object(o["a"])(e.list),e.list=a.data,n.length==e.list.length?(i++,10==i&&(Object(N["clearInterval"])(e.interval),e.$message.success({message:"数据上报完毕",duration:2e3}))):i=0}else i++,10==i&&(e.$message.warning({message:"暂无数据",duration:2e3}),Object(N["clearInterval"])(e.interval));e.listLoading=!1})).catch((function(t){e.listLoading=!1,e.$message.warning({message:"数据上报失败！",duration:2e3})}))}),3e3)},reprotdig:function(){var t=this;if(this.validateData2()){this.listLoading=!0,this.printTableVisible=!1,this.tableList=this.tableList7,this.btnFlag=6,window.clearInterval(this.timersjl);var e={vin:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,ecuClassId:this.queryFaultParamList.ecuClassId,serviceIds:this.listQuery.serviceIds};this.isTableVisible=!0,this.exportData={},Object(h["p"])(e).then((function(e){var i=e.data;if(0===i.code&&6==t.btnFlag){var a=i.data.dtcList,n=i.data.readList,s=a.length,r=n.length;if(0===s&&0===r)return void(t.listLoading=!1);0===s&&(a=[{content:"暂无数据",result:""}]),0===r&&(n=[{content:"暂无数据",result:""}]),t.exportData={vin:t.listQuery.vin,ecuName:t.listQuery.ecu,dtcCount:s,readCount:r,dtcList:a,readList:n};var l=[{content:"诊断车辆："+t.listQuery.vin+";诊断ECU："+t.listQuery.ecu,result:"故障码数量："+s+";读取数量："+r},{result:"故障码",content:"故障描述"}],c=[{content:"读取内容",result:"读取结果"}];t.list=[].concat(l,Object(o["a"])(a),c,Object(o["a"])(n))}t.listLoading=!1})).catch((function(e){t.listLoading=!1}))}},validateData:function(){var t=this.checkForm({formName:"formLeft",formList:["vin"]});return t},validateData2:function(){var t=this.checkForm({formName:"formLeft",formList:["vin","subSystemName","ecu"]});return t},reloadDigLog:function(){},reset:function(){this.ecuList={},this.handleClear()},queryResult:function(t){this.digServiceId=t.token,this.digResultVisible=!0;var e=t.operateModule,i="";switch(t.operateModule){case"清除整车故障":e="清除整车故障",i="8";break;case"读取当前故障":i="2";break;case"读取历史故障":i="3";break;case"读取冻结帧":i="4";break;case"读取整车数据流":i="7";break}e+="结果",this.digTitle=e,this.digType=i},readFreezeFrameResult:function(t){this.readFreezeFrame(t)}},Object(r["a"])(a,"handleExport",(function(){})),Object(r["a"])(a,"handleStartExecution",(function(){if(this.digType1)switch(this.digType1){case"1":this.readFault();break;case"6":this.clearFault();break;case"7":this.readDataSteam();break;case"12":this.selectZhenService();break;case"8":this.writeInParts();break;default:return}else this.$message.warning({message:"请选择诊断服务",duration:2e3})})),Object(r["a"])(a,"handleRadioBtn",(function(t){t&&(this.btnRow=t),this.loadData()})),Object(r["a"])(a,"handleSizeChange",(function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.loadData()})),Object(r["a"])(a,"handleCurrentChange",(function(t){this.listQuery.pageNum=t,this.loadData()})),Object(r["a"])(a,"handleDetail",(function(t){t&&(this.tableRow=t),this.detailVisible=!0})),Object(r["a"])(a,"loadData",(function(){var t=this,e=this.checkForm({formName:"formLeft",formList:["vin"]});if(e){this.digType1=this.urlChange(this.btnRow),this.listLoading=!0;var i={};7==this.digType1?(i={vinNo:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,systemId:this.queryFaultParamList.ecuClassId,operateType:this.digType1,pageSize:this.listQuery.pageSize,pageNum:this.listQuery.pageNum},Object(h["g"])(i).then((function(e){var i=e.data;t.listLoading=!1,0===i.code&&(t.list=i.data.records,t.total=i.total)})).catch((function(){t.listLoading=!1}))):12==this.digType1?(this.listQuery.pageNum=1,i={vinNo:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,systemId:this.queryFaultParamList.ecuClassId,operateType:this.digType1,pageSize:this.listQuery.pageSize,pageNum:this.listQuery.pageNum},Object(h["f"])(i).then((function(e){var i=e.data;t.listLoading=!1,0===i.code&&(t.list=i.data||[],t.list.map((function(t){var e=JSON.parse(t.result).dtcList.length||0,i=JSON.parse(t.result).readList.length||0;t.errorCount=e,t.readCount=i})),t.total=i.total||0)})).catch((function(){t.listLoading=!1}))):(this.listQuery.pageNum=1,i={vinNo:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,systemId:this.queryFaultParamList.ecuClassId,operateType:this.digType1},Object(h["h"])(i).then((function(e){var i=e.data;if(t.listLoading=!1,0===i.code){var a=[];if(i.data.result){a=i.data.result.map((function(t){return JSON.parse(t)}));var n=i.data.dxType;if(4===n&&(a=t.createNewData(a)),12===n)return t.setReport(a),void(t.listLoading=!1)}t.list=a,console.log(a)}})).catch((function(){t.listLoading=!1})))}})),Object(r["a"])(a,"createNewData",(function(t){if(0!==t.length){var e=[];return t.forEach((function(t){if(""===t.result||null===t.result){var i={};i.ecuName=t.ecuName,i.content=t.content,i.name="",i.value=t.errorMessage,e.push(i)}else for(var a=JSON.parse(t.result),n=a.length,s=0;s<n;s++){var o={};o.ecuName=t.ecuName,o.content=t.content,o.name=a[s].NAME,o.value=a[s].VALUE+a[s].UNIT,e.push(o)}0})),this.setData(e),e}})),Object(r["a"])(a,"setData",(function(t){for(var e=0,i=0,a=[],n=[],s=1,o=0;o<t.length;o++){if(a.includes(t[o].ecuName)||(a=[],a.push(t[o].ecuName),t[o].ecuStartMultiRow=!0,t[o].index=s,n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0&&(t[o-e].rowCountEcu=e,t[o-i].rowCountFault=i),s++,e=0,i=0),!n.includes(t[o].content)){if(n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0){t[o-i].rowCountFault=i}i=0}e++,i++,t.length===o+1&&(t[o+1-e].rowCountEcu=e,t[o+1-i].rowCountFault=i)}return t})),Object(r["a"])(a,"setReport",(function(t){var e=t.dtcList||"",i=t.readList||"",a=e.length,n=i.length;if(0!==a||0!==n){var s="";a>0?s=e[0]["ecuName"]:e=[{content:"暂无数据",result:""}],n>0?s=""===s?i[0]["ecuName"]:s:i=[{content:"暂无数据",result:""}];var r=[{content:"诊断车辆："+this.vin+";诊断ECU："+s,result:"故障码数量："+a+";读取数量："+n},{content:"故障描述",result:"故障码"}],l=[{content:"读取内容",result:"读取结果"}];this.reportList=[].concat(r,Object(o["a"])(e),l,Object(o["a"])(i))}})),Object(r["a"])(a,"urlChange",(function(t){switch(t.url){case"readFault":return"1";case"clearFault":return"6";case"readFreezeFrame":return"4";case"readDataSteam":return"7";case"reprotdig":return"12";case"writeInParts":return"8";default:return"2"}})),a)},Q=j,E=(i("ffcb"),i("2877")),_=Object(E["a"])(Q,n,s,!1,null,"d87d9212",null);e["default"]=_.exports},"10c9":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"menuManager app-container"},[i("div",{staticClass:"section-wrap systemp-wrap"},[i("div",{staticClass:"systemp-left"},[i("div",{staticClass:"organization-name-search"},[i("div",{staticClass:"or-name-input"},[i("el-input",{attrs:{placeholder:"请输入模块名称",clearable:"",maxlength:"20"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1)]),i("div",{staticClass:"menu_btnlist"},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"update_menu menu_btn tab-class",on:{click:function(e){return t._addMenu(1)}}},[i("i",{staticClass:"iconfont icon-add-xtmb"}),i("span",[t._v(" 新增系统模板")])])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"remove_menu menu_btn tab-class",class:{clickclass:t.isClick},on:{click:function(e){return t._addMenu(0)}}},[i("i",{staticClass:"iconfont icon-add-fxt",class:{clickclass:t.isClick}}),i("span",{class:{clickclass:t.isClick}},[t._v(" 新增分系统")])])])],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"update_menu menu_btn tab-class",on:{click:t.updateMenu}},[i("i",{staticClass:"iconfont icon-ic_edit"}),i("span",[t._v(" 编辑")])])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"remove_menu menu_btn tab-class",on:{click:t.deletaMenu}},[i("i",{staticClass:"iconfont icon-ic_delete"}),i("span",[t._v(" 删除")])])])],1)],1),i("div",{staticClass:"scroll_list"},[i("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("el-tree",{ref:"tree",attrs:{data:t.treeData,"expand-on-click-node":!1,"default-expand-all":!0,"highlight-current":t.treeLight,"filter-node-method":t.filterNode,"node-key":"id"},on:{"node-click":t.treeClick,"node-expand":t.InitializeId,"node-collapse":t.InitializeId},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var a=e.data;return i("div",{staticClass:"custom-region",staticStyle:{flex:"1"}},[i("span",{staticClass:"tree-span"},[i("svg-icon",{style:{fontSize:a.parentId?"14px":"16px"},attrs:{"icon-class":a.parentId?"icon_select_subsystem":"icon-base-data"}}),i("span",{staticStyle:{"margin-left":"3px"}},[t._v(t._s(a.label))])],1)])}}])})],1)],1)]),i("div",{staticClass:"box-list systemp-right"},[i("div",{staticClass:"transfer-box"},[i("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,titles:["全部ECU列表","已选中ECU列表"],filterable:!0},on:{change:t.transferChange},model:{value:t.pitchOnList,callback:function(e){t.pitchOnList=e},expression:"pitchOnList"}},[i("el-button",{staticClass:"transfer-footer",staticStyle:{"margin-left":"20px"},attrs:{slot:"right-footer",type:"primary",size:"small"},on:{click:t.submit},slot:"right-footer"},[t._v("提交\n          ")])],1)],1)])]),i("menu-add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,"add-type":t.addType,data:(t.isEdit,t.addUpdateObj),oldUnitName:t.isEdit?t.addUpdateObj.label:""},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}})],1)},n=[],s=(i("8e6e"),i("456d"),i("75fc")),o=(i("96cf"),i("3b8d")),r=(i("55dd"),i("bd86")),l=(i("ac6a"),i("6b54"),i("140c")),c=i("e7d4"),u=i("f80b"),d=i("2c25"),p=i("fab6"),h=i("6d60"),f=i("91f1");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={name:"subsystemTemplate",components:{menuAddUpdateDialog:f["default"]},filters:{isDisabled:function(t){switch(t){case 0:return"否";case 1:return"是"}},switchText:function(t,e){if("carNatureName"===e)switch(t){case"1":return"商品车";case"2":return"试制车";case"3":return"对标车"}}},mixins:[p["a"],h["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},data:function(){return{addType:1,showfilter:!1,authouizeList:[],dialogTableVisible:!0,listQuery:{vinNo:"",licensePlate:"",stationId:""},carList:[],addressList:[],listLoading:!1,tableHeight:0,total:0,list:[],tableRow:{},isEdit:!1,loading:!1,treeData:[],treeLight:!0,id:"",choiceTreeNode:null,choiceTreeData:null,filterText:"",menuInfo:{parentMenu:"",menuName:"",menuUrl:"",orderNo:"",isDisabled:1},addUpdateVisible:!1,addUpdateObj:{},pageButtonList:[],addCarVisible:!1,visibles:!1,existList:[],pitchOnList:[],upExistList:[],isClick:!1}},doNotInit:!0,watch:{filterText:function(t){this.$refs.tree.filter(t)}},mounted:function(){this.getOrganization()},methods:{submit:function(){var t=this,e={ecuIds:this.upExistList.join(","),subSystemId:this.addUpdateObj.id,subSystemName:this.addUpdateObj.label,carTypeId:"",carTypeName:""};Object(d["e"])(e).then((function(e){var i=e.data;0==i.code&&(t.$message.success(i.message),t.listLoad())}))},transferChange:function(t){console.log(t),this.upExistList=t},sortorderNo:function(t,e){return t.orderNo-e.orderNo},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},treeClick:function(t){this.addUpdateObj=t,console.log(this.addUpdateObj,"addUpdate"),this.id=t.id,this.choiceTreeData=this.$refs.tree.getNode(t.id).data,this.choiceTreeNode=this.$refs.tree.getNode(t.id),t.parentId?(this.listQuery.id=t.id.toString(),this.listLoad(),this.isClick=!0):(this.listQuery.id="",this.listQuery.name="",this.list=[],this.total=0,this.isClick=!1)},InitializeId:function(){this.id="",this.addUpdateObj.unitType=""},getOrganization:function(){var t=this;this.loading=!0,Object(c["c"])({}).then((function(e){var i=e.data;0===i.code&&(t.treeData=i.data||[],t.treeData.forEach((function(t){return{id:t.templateId,label:t.templateName}}))),t.loading=!1})).catch((function(){t.loading=!1}))},_addMenu:function(t){0!=t||this.addUpdateObj.id?(this.addType=t,this.addUpdateVisible=!0,this.isEdit=!1):this.$alert("请选中需要添加的模板","提示",{confirmButtonText:"确定"})},addComplete:function(t){this.getOrganization(),this.$message.success({message:"新增成功"})},updateMenu:function(){this.id?(this.addUpdateVisible=!0,this.isEdit=!0):this.$alert("请选中需要修改的模块","提示",{confirmButtonText:"确定"})},updateComplete:function(t){this.$message.success({message:"编辑成功"}),this.getOrganization()},deletaMenu:function(){var t=this;this.id?this.$confirm("您确定删除".concat(this.addUpdateObj.label,"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])({id:t.id,name:t.addUpdateObj.label,parentId:t.addUpdateObj.parentId||""}).then((function(e){var i=e.data;0===i.code&&(t.getOrganization(),t.$message.success({message:"删除成功"}),t.list=[],t.total=0,t.listQuery.stationId="")}))})).catch((function(){})):this.$alert("请选中需要删除的模块","提示",{confirmButtonText:"确定"})},updateTreeData:function(t,e){var i=this;t.forEach((function(a){a.id===i.id&&(a.orderNo=e.orderNo,a.label=e.unitName,a.remark=e.remark,i.addUpdateObj=b({},i.addUpdateObj,{},{orderNo:e.orderNo,unitName:e.unitName,remark:e.remark}),i.$forceUpdate()),a.children||t.sort((function(t,e){return t.orderNo-e.orderNo})),a.children&&a.children.length>0&&(a.children.sort((function(t,e){return t.orderNo-e.orderNo})),i.updateTreeData(a.children,e))}))},listLoad:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listQuery.pageSize=100,this.listLoading=!0,e=b({},this.listQuery),e.id="",e.ecuClassId="",t.next=7,Object(l["d"])(e).then((function(t){var e=t.data;if(0===e.code){if(e.data){var i=e.data.map((function(t){return t.disabled=!1,t.key=t.id,t.label=t.ecuName,t}));a.list=Object(s["a"])(i),a.total=e.total}a.listLoading=!1}}));case 7:return i=b({},this.listQuery),i.ecuClassId=this.listQuery.id,t.next=11,Object(u["f"])(i).then((function(t){var e=t.data;0===e.code&&(a.existList=[],a.pitchOnList=[],e.data&&(a.existList=e.data,a.existList.forEach((function(t){a.pitchOnList.push(t.id)}))))}));case 11:this.OdxList();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),OdxList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),hanleExport:function(){},handleClear:function(){for(var t in this.listQuery)"pageNum"!==t&&"pageSize"!==t&&"stationId"!==t&&(this.listQuery[t]="")}}},v=g,y=(i("2754"),i("2877")),w=Object(y["a"])(v,a,n,!1,null,"59484f76",null);e["default"]=w.exports},1105:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"查看服务内容",wrapperClosable:!0,width:"65%",isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-table",{attrs:{slot:"table",listLoading:t.listLoading,size:"mini",isTableSelection:!1,list:t.list,pageObj:t.listQuery,isTableNumber:!0,filterTableList:t.filterTableList,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight+150},on:{"row-click":t.rowClick,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n          ")])]}}])})],1)])},n=[],s=i("fab6"),o=i("6d60"),r=i("c1fb"),l=i("31a9"),c={name:"QueryECUDialog",mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},configId:{type:String,default:""}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"服务名称",prop:"serviceName",position:"center",checked:!0,width:140},{value:"诊断命令",prop:"content",position:"center",checked:!0,width:140},{value:"服务描述",prop:"description",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,tablerow:null,tableHeight:0}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.configId=this.configId,Object(l["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowClick:function(t){this.tablerow=t},closeDialog:function(){this.listQuery.ecuName="",this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"414d0d95",null);e["default"]=p.exports},1201:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"新增",width:"500px",loading:t.loading,isOkButLoading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"form",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"60px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"文件：",prop:"fileName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{data:t.formInfo,headers:{Authorization:t.token},action:"","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"http-request":t.uploadFile}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("上传文件")])],1)],1),i("el-col",{staticClass:"titleColor",attrs:{span:18}},[t._v("\n\t\t\t\t\t\t"+t._s(t.formInfo.fileName)+"\n\t\t\t\t\t")])],1)],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{rows:6,maxlength:200,autosize:{minRows:3,maxRows:3},resize:"none",placeholder:"请输入备注","show-word-limit":"",type:"textarea"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1)],1)},n=[],s=(i("7f7f"),i("5c83")),o=i("f668"),r=i("10aa"),l=i("4360"),c={name:"addUpdateDialog",directives:{elDragDialog:s["a"]},mixins:[r["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},computed:{token:function(){return l["a"].getters.token}},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.fileName)return a(new Error("请上传文件"))};return{formInfo:{fileName:"",remark:""},rules:{fileName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},fileName:"",loading:!1}},methods:{closeDialog:function(){this.$refs.upload.clearFiles(),this.formInfo.fileName="",this.formInfo.remark="",this.$emit("update:visibles",!1)},uploadFile:function(t){var e=this,i=t.file,a=new FormData;a.append("file",i),a.append("dbcName",this.formInfo.fileName),a.append("remark",this.formInfo.remark),this.loading=!0,Object(o["e"])(a).then((function(t){var i=t.data;e.loading=!1,0===i.code?(e.closeDialog(),e.$emit("add-complete")):e.$message.error({message:response.message,duration:2e3})})).catch((function(){e.loading=!1}))},submitForm:function(){var t=this.checkForm({formName:"form",formList:["fileName"]});t&&this.$refs.upload.submit()},handleChange:function(t){if(!(t.name.indexOf(".dbc")>-1))return this.$message.warning({message:"请上传后缀名为.dbc格式的文件！",duration:2e3}),this.$refs.upload.clearFiles(),void(this.formInfo.fileName="");this.formInfo.fileName=t.name}}},u=c,d=(i("f8c1"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"6407b972",null);e["default"]=p.exports},1282:function(t,e,i){},"133d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("div",{staticClass:"search_list search_list_border bottom_search"},[i("app-command-radio-btn-group",{attrs:{slot:"footer",buttonList:t.authouize,rightButtonList:t.rightButtonList,startExecutionDisabled:t.startExecutionDisabled},on:{"click-startExecution":t.handleStartExecution,"click-radioBtn":t.handleRadioBtn},slot:"footer"},[i("el-form",{ref:"formLeft",attrs:{slot:"search","label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"80px"},slot:"search"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:18!=t.digType1,expression:"digType1 != 18"}],staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-search",{staticStyle:{border:"none","margin-bottom":"0px"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择分系统：",prop:"subSystemName","label-width":"85px"}},[i("el-input",{attrs:{placeholder:"点击进行选择分系统",clearable:""},on:{clear:t.clearSubSystem},nativeOn:{click:function(e){return t.selectSubSystem(e)}},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",clearable:""},on:{clear:t.clearECU},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.listQuery.ecu,callback:function(e){t.$set(t.listQuery,"ecu",e)},expression:"listQuery.ecu"}})],1)],1)],1)],1)],1)]),i("app-table",{attrs:{slot:"table",tableHeights:t.tableHeight+20,isTableSelection:!1,list:t.list,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"click-detail":t.queryResult,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["status"==e.item.prop?i("span",[i("el-tag",{attrs:{type:1==e.row.status?"success":0==e.row.status?"danger":2==e.row.status?"dark":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row.status?"执行成功":0==e.row.status?"失败":2==e.row.status?"诊断中":"-")+"\n\t\t\t\t\t")])],1):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,ecuClassId:t.ecuClassId,data:t.ecuData,carTypeId:t.carTypeId,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}}),i("sub-system-select",{attrs:{visibles:t.subSystemSelectVisible,carTypeId:t.carTypeId,data:t.subsystemData,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.subSystemSelectVisible=e},setSubSystemName:t.setSubSystemName}}),i("dig-result",{attrs:{visibles:t.digResultVisible,digServiceId:t.digServiceId,digTitle:t.digTitle,digType:t.digType1,data:t.tableRow},on:{"update:visibles":function(e){t.digResultVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("10aa"),l=i("babb"),c=i("7829"),u=i("d0a1"),d=i("0c56"),p=i("d10c"),h=i("530f"),f=i("4adb"),m=i("95c0"),b=i("3b55"),g={name:"versionNumber",doNotInit:!0,mixins:[s["a"],o["a"],r["a"],l["a"],c["a"]],components:{AppCarList:h["a"],AppEcuList:f["a"],SubSystemSelect:m["a"],digResult:b["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"softwareVersionNumber"===t.url||"hardwareVersionNumber"===t.url}))},rightButtonList:function(){return[]},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))};return{listQuery:{vin:"",ecuClassId:"",subSystemName:"",ecuId:"",serviceIds:"",ecu:"",serviceName:""},tableRow:{},digResultVisible:!1,startExecutionDisabled:!1,tableList:[{value:"用户姓名",prop:"userName",position:"center",checked:!0,fixed:"left",width:140},{value:"操作时间",prop:"operateTime",position:"center",checked:!0,width:140},{value:"受控车辆",prop:"vin",position:"center",checked:!0,width:180},{value:"操作模块",prop:"operateModule",position:"center",checked:!0,width:120},{value:"分系统/ECU名称",prop:"subSysName",position:"center",checked:!0,width:140},{value:"任务状态",prop:"status",position:"center",checked:!0,width:100}],actionWidth:0,actionFixed:"false",btnRow:{},digType1:"",authouizeList:[],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,carListVisible:!1,ecuListVisible:!1,subSystemSelectVisible:!1,rules:{vin:[{required:!0,trigger:"change",validator:e}]},queryFaultParamList:{},ecuList:{},carTypeId:"",ecuClassId:"",buttonList:[],digServiceId:"",digTitle:"",digType:"",carData:{},subsystemData:{},ecuData:{}}},mounted:function(){},methods:{selectCar:function(){this.carListVisible=!0},selectECU:function(t){""!==this.listQuery.vin?"INPUT"==t.target.tagName&&(this.ecuListVisible=!0):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.queryFaultParamList.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t,this.clearSubSystem(),this.clearECU(),this.digType1&&this.loadData()},loadECU:function(t){this.listQuery.ecu=t.ecuname,this.queryFaultParamList.ecuId=t.ecuid,this.listQuery.ecuId=t.ecuname,this.ecuList=t,this.ecuData=t,this.digType1&&this.loadData()},clearSubSystem:function(){this.listQuery.subSystemName="",this.listQuery.ecuClassId="",this.queryFaultParamList.ecuClassId="",this.ecuClassId="",this.subsystemData={},this.digType1&&this.loadData()},clearECU:function(){this.listQuery.ecu="",this.ecuList={},this.ecuData={},this.queryFaultParamList.ecuId="",this.digType1&&this.loadData()},selectSubSystem:function(t){""!==this.listQuery.vin?"INPUT"==t.target.tagName&&(this.subSystemSelectVisible=!0):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},setSubSystemName:function(t){this.listQuery.subSystemName=t.subSystemName,this.listQuery.ecuClassId=t.id,this.queryFaultParamList.ecuClassId=t.id,this.ecuClassId=t.id,this.subsystemData=t,this.clearECU(),this.digType1&&this.loadData()},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.queryFaultParamList.vin};setTimeout((function(){Object(p["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},readSoftwareVersion:function(){var t=this;if(this.validateData()){this.disabledTimeClick(),this.queryFaultParamList.dxIntType=15,this.digTitle="一键读取软件版本号结果";var e=this.queryFaultParamList;e&&e.vin&&e.dxIntType&&(this.listLoading=!0,Object(u["t"])(e).then((function(e){var i=e.data;405===i.code&&t.createSTask(),t.loadData(),i.code,t.listLoading=!1})).catch((function(){t.loadData(),t.listLoading=!1})))}},readHardwareVersion:function(){var t=this;if(this.validateData()){this.disabledTimeClick(),this.queryFaultParamList.dxIntType=16,this.digTitle="一键读取硬件版本号结果";var e=this.queryFaultParamList;e&&e.vin&&e.dxIntType&&(this.listLoading=!0,Object(u["s"])(e).then((function(e){var i=e.data;405===i.code&&t.createSTask(),t.loadData(),i.code,t.listLoading=!1})).catch((function(){t.loadData(),t.listLoading=!1})))}},validateData:function(){var t=this.checkForm({formName:"formLeft",formList:["vin"]});return t},queryResult:function(t){this.tableRow=t,this.digServiceId=t.token,this.digResultVisible=!0;var e=t.operateModule;e+="结果",this.digTitle=e},disabledTimeClick:function(){var t=this;this.startExecutionDisabled=!0,setTimeout((function(){t.startExecutionDisabled=!1}),5e3)},handleStartExecution:function(){if(this.digType1)switch(this.digType1){case"15":this.readSoftwareVersion();break;case"16":this.readHardwareVersion();break;default:return}else this.$message.warning({message:"请选择诊断服务",duration:2e3})},handleRadioBtn:function(t){t&&(this.btnRow=t),this.digType1=this.urlChange(this.btnRow),this.digType1&&(this.listQuery.pageNum=1,this.listQuery.pageSize=10,this.loadData())},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.digType1&&this.loadData()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.digType1&&this.loadData()},loadData:function(){var t=this,e=this.checkForm({formName:"formLeft",formList:["vin"]});e&&(this.listLoading=!0,Object(d["h"])({operateType:this.digType1,vinNo:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,subSystemId:this.queryFaultParamList.ecuClassId,pageSize:this.listQuery.pageSize,pageNum:this.listQuery.pageNum}).then((function(e){var i=e.data;t.listLoading=!1,0==i.code&&(t.list=i.data,t.total=i.total)})).catch((function(){t.listLoading=!1})))},urlChange:function(t){switch(t.url){case"softwareVersionNumber":return"15";case"hardwareVersionNumber":return"16";default:return"-"}}}},v=g,y=(i("e181"),i("7e32"),i("2877")),w=Object(y["a"])(v,a,n,!1,null,"2e489b2b",null);e["default"]=w.exports},"13f0":function(t,e,i){"use strict";var a=i("b7e8"),n=i.n(a);n.a},"140c":function(t,e,i){"use strict";i.d(e,"e",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"f",(function(){return r})),i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return c}));var a=i("b775");function n(t){return Object(a["a"])({url:"odx/odxAnalysis",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"odx/getOdxList",method:"POST",data:t})}function o(t){return Object(a["a"])({url:"odx/createOdxData",method:"post",data:t})}function r(t){return Object(a["a"])({url:"odx/updateOdxData",method:"POST",data:t})}function l(t){return Object(a["a"])({url:"odx/getOdxData",method:"GET",params:t})}function c(t){return Object(a["a"])({url:"odx/deleteOdxData",method:"delete",data:t})}},"141b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"refForm",attrs:{"label-position":"right",model:t.listQuery,rules:t.rules}},[i("el-row",{staticStyle:{position:"relative"},attrs:{gutter:10,type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin","label-width":"69px"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecu","label-width":"70px"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",readonly:""},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.listQuery.ecu,callback:function(e){t.$set(t.listQuery,"ecu",e)},expression:"listQuery.ecu"}})],1)],1),i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{label:"写入内容：",prop:"writeContent","label-width":"93px"}},[i("el-select",{attrs:{multiple:"",placeholder:"请选择","collapse-tags":"",filterable:"",clearable:""},on:{change:t.changeItem},model:{value:t.listQuery.writeContent,callback:function(e){t.$set(t.listQuery,"writeContent",e)},expression:"listQuery.writeContent"}},t._l(t.contentList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.serviceName,value:t.id}})})),1)],1)],1),i("el-col",{attrs:{span:1}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.listQuery.writeContent&&t.listQuery.writeContent.length,expression:"listQuery.writeContent && listQuery.writeContent.length"}],staticStyle:{position:"absolute",right:"5px",top:"0"}},[i("span",{on:{click:function(e){t.collapse=!t.collapse}}},[i("i",{class:t.collapse?"iconfont icon-up":"iconfont icon-down"})])])],1)],1),t._l(t.rowList,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],key:a},[i("h1",[t._v(t._s(e.serviceName))]),i("el-row",{attrs:{gutter:10}},t._l(e.formulaList,(function(e,a){return i("el-col",{key:a,attrs:{span:6}},[i("el-form-item",{attrs:{label:e.shortName+"：",prop:e.shortName}},[0===e.formulaDropdown.length?i("el-input",{attrs:{placeholder:"请输入"+e.shortName,clearable:""},model:{value:t.listQuery[e.shortName],callback:function(i){t.$set(t.listQuery,e.shortName,i)},expression:"listQuery[items.shortName]"}}):i("el-select",{attrs:{placeholder:"请选择"+e.shortName,clearable:""},model:{value:t.listQuery[e.shortName],callback:function(i){t.$set(t.listQuery,e.shortName,i)},expression:"listQuery[items.shortName]"}},t._l(e.formulaDropdown,(function(t,e){return i("el-option",{key:e,attrs:{label:t.textConst,value:t.value}})})),1)],1)],1)})),1)],1)}))],2)],1)]),i("app-command-btn",{attrs:{slot:"footer",buttonList:t.authouize,disabled:t.listLoading},on:{"click-filter":t.handleFilter},slot:"footer"}),i("div",{staticClass:"section-wrap"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["result"===e.item.prop?i("div",[i("span",[t._v(t._s(t._f("getResult")(e.row[e.item.prop])))])]):i("div",[i("span",[t._v(t._s(e.row[e.item.prop]))])])]}}])})],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,data:t.ecuList,carTypeId:t.carTypeId,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}})],1)},n=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("bd86")),o=(i("ac6a"),i("fab6")),r=i("6d60"),l=i("10aa"),c=i("babb"),u=i("1ad5"),d=i("7829"),p=i("d0a1"),h=i("f80b"),f=i("d10c"),m=i("530f"),b=i("dfc2");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var y={name:"writeData",doNotInit:!0,mixins:[o["a"],r["a"],l["a"],c["a"],u["a"],d["a"]],components:{AppCarList:m["a"],AppEcuList:b["a"]},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},props:{carObj:{type:Object,default:function(){return{}}},ecuObj:{type:Object,default:function(){return{}}},systemObj:{type:Object,default:function(){return{}}}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"filter"===t.url}))}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))},i=function(e,i,a){if(!t.listQuery.ecu)return a(new Error("请点击选择ECU"))};return{listQuery:{vin:"",ecuId:"",writeContent:[]},authouizeList:[],showfilter:!1,tableList:[{value:"诊断时间",prop:"responseTime",position:"center",fixed:"left",checked:!0},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"写入内容",prop:"content",position:"center",checked:!0},{value:"是否成功",prop:"result",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,carListVisible:!1,ecuListVisible:!1,tableRow:{},ecuList:{},subSystem:[{label:"区域一",value:"1"},{label:"区域二",value:"2"},{label:"区域三",value:"3"}],rules:{vin:[{required:!0,trigger:["blur","change"],validator:e}],ecu:[{required:!0,trigger:["blur","change"],validator:i}],writeContent:[{required:!0,type:"array",min:1,message:"请选择写入内容",trigger:["blur","change"]}]},contentList:[],rowList:[],writeFieldValidateList:[],serviceList:[],carTypeId:"",carData:{},ecuData:{}}},mounted:function(){this.carData=this.carObj,this.listQuery.vin=this.carObj.vinNo?this.carObj.vinNo:"",this.carTypeId=this.carObj.carTypeId?this.carObj.carTypeId:"";var t=this.ecuObj,e=t.ecuname,i=t.ecuid,a=this.systemObj.id;this.listQuery.ecu=e,this.listQuery.ecuId=i,this.listQuery.ecuClassId=a,this.contentList=[],this.rowList=[],this.listQuery.writeContent=[],this.ecuList={ecuName:e,ecuId:i,ecuClassId:a,subId:a},this.loadWriteContent({ecuId:i,ecuClassId:a})},methods:{handleExport:function(){if(0!==this.list.length){var t=[];this.list.forEach((function(e){var i=v({},e);i.result="1"===i.result?"成功":"失败",t.push(i)})),Object(h["a"])(this.getExportData("写入零部件结果",this.tableList,t))}else this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.listQuery.vin};setTimeout((function(){Object(f["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},listLoad:function(){var t=this;this.list=[],this.listLoading=!0;var e="";this.rowList.forEach((function(t){e+=t.id+","})),this.listQuery.serviceIds=e.substring(0,e.lastIndexOf(",")),this.listQuery.serviceFormulaList=[],console.log(this.rowList,"this.rowList"),this.rowList.forEach((function(e){e.formulaList.forEach((function(e){t.listQuery.serviceFormulaList.push({instructStructureId:e.instructStructureId,ecuServiceId:e.ecuServiceId,formulaValue:t.listQuery[e.shortName]})}))})),Object(p["w"])(this.listQuery).then((function(e){var i=e.data;405===i.code&&t.createSTask(),0===i.code&&(t.list=i.data,t.total=i.total),-1===i.code&&t.$alert(i.message,"提示",{confirmButtonText:"确定"}),t.listLoading=!1})).catch((function(e){t.listLoading=!1}))},rowClick:function(t){this.$refs.table.toggleRowSelection(t),this.list.some((function(e,i){e.buttonId===t.buttonId&&(t.$index=i)})),this.tableRow=t},selectCar:function(){this.carListVisible=!0},selectECU:function(){""!==this.carTypeId?this.ecuListVisible=!0:this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.deleteListQueryValue(),this.listQuery.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t},deleteListQueryValue:function(){for(var t in this.listQuery)"vin"!==t&&"pageNum"!==t&&"pageSize"!==t&&("writeContent"===t?this.listQuery[t].length>0&&(this.listQuery[t]=[],delete this.listQuery[t]):(this.listQuery[t]="",delete this.listQuery[t]))},loadECU:function(t){this.deleteListQueryValue(),this.listQuery.ecu=t.ecuName,this.listQuery.ecuId=t.ecuId,this.listQuery.ecuClassId=t.ecuClassId,this.contentList=[],this.rowList=[],this.listQuery.writeContent=[],this.ecuList=t,this.loadWriteContent({ecuId:t.ecuId,ecuClassId:t.ecuClassId})},loadWriteContent:function(t){var e=this;Object(p["n"])(t).then((function(t){var i=t.data;0===i.code&&(e.contentList=i.data)}))},handleFilter:function(){var t=["vin","ecu","writeContent"];this.serviceList.forEach((function(e){t.push(e)}));var e=this.checkForm({formName:"refForm",formList:t});e&&(this.listQuery.pageNum=1,this.listLoad())},changeItem:function(t){var e=this;if(console.log(t),this.collapse=!0,this.rowList=[],this.listQuery.serviceFormulaList=[],t!==[]){var i=[];this.contentList.forEach((function(e){t.includes(e.id)&&i.push(e)})),this.rowList=i,i.forEach((function(t){t.formulaList.forEach((function(t){e.setWriteFieldRules(t.shortName,0,t.shortName),e.serviceList.push(t.shortName)}))}))}},setWriteFieldValidateList:function(t,e){this.writeFieldValidateList.push({fieldName:t,length:e})},setWriteFieldRules:function(t,e,i){this.rules[t]=[{required:!0,message:"请输入"+i,trigger:["blur","change"]}]}}},w=y,L=i("2877"),k=Object(L["a"])(w,a,n,!1,null,"23770dca",null);e["default"]=k.exports},1522:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"s3Box"},[i("el-tabs",{staticClass:"unsetHeight",on:{"tab-click":t.tabsClick},model:{value:t.carTypeActiveName,callback:function(e){t.carTypeActiveName=e},expression:"carTypeActiveName"}},[i("el-tab-pane",{attrs:{label:"按项目代号添加",name:"first"}},[4!==t.isEdit?i("el-input",{staticClass:"borderRadius borderInput",attrs:{placeholder:"请输入车型/项目代号搜索",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getBatchListFc(e)}},model:{value:t.carTypeValue,callback:function(e){t.carTypeValue=e},expression:"carTypeValue"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search",type:"primary"},on:{click:t.getBatchListFc},slot:"append"})],1):t._e(),i("div",{staticClass:"divScroll firstCot",style:3===t.isEdit?"max-height: calc(100vh - 273px);":"max-height: calc(100vh - 358px);"},[t.carTypeData.length&&4!=t.isEdit?i("el-checkbox",{staticClass:"allCheckBox",staticStyle:{"margin-left":"24px"},attrs:{indeterminate:t.isIndeterminate},on:{change:t.allCheckedChange},model:{value:t.isAllChecked,callback:function(e){t.isAllChecked=e},expression:"isAllChecked"}},[t._v("全选")]):t._e(),i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.carTypeLoading,expression:"carTypeLoading"}],ref:"carTypeTree",attrs:{data:t.carTypeData,"node-key":"id",props:t.carTypeDefaultProps,"expand-on-click-node":!1,"default-expand-all":!0,"check-on-click-node":!0,"show-checkbox":""},on:{"check-change":t.carTypeCheckChange}})],1)],1),i("el-tab-pane",{attrs:{label:"按车辆添加",name:"second"}},[i("div",{staticClass:"divScroll tabs2Content",style:3===t.isEdit?"max-height: calc(100vh - 203px);":"max-height: calc(100vh - 288px);"},[i("app-search",{staticStyle:{margin:"12px 0"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{staticStyle:{width:"100%"},attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listLoad(e)}},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"终端编号："}},[i("el-input",{attrs:{placeholder:"请输入终端编号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listLoad(e)}},model:{value:t.listQuery.terminalCode,callback:function(e){t.$set(t.listQuery,"terminalCode",e)},expression:"listQuery.terminalCode"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.getBatchByCarTypeFc},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}},t._l(t.carTypeNameList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"项目代号："}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.listQuery.carBatchCode,callback:function(e){t.$set(t.listQuery,"carBatchCode",e)},expression:"listQuery.carBatchCode"}},t._l(t.carBatchCodeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carBatchCode,value:t.carBatchCode}})})),1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("app-table",{ref:"carTable",staticClass:"secondTable",attrs:{slot:"table",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,rowKey:"carId",selectable:t.selectable,cellClass:t.cellClass,isClickRowSelected:4!==t.isEdit},on:{"row-click":t.rowClick,select:t.select,"select-all":t.selectAll,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n                "+t._s(e.row[e.item.prop]||(0===e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n              ")])]}}])}),i("div",{staticClass:"selectedCarBox"},[i("div",{staticClass:"leftText"},[t._v("已选车辆")]),i("div",{staticClass:"rightContent divScroll"},t._l(t.q.userCarList,(function(e,a){return i("el-tag",{key:a,staticStyle:{margin:"3px"},attrs:{closable:4!==t.isEdit,type:"info","disable-transitions":!1},on:{close:function(i){return t.handleClose(e)}}},[t._v("\n                "+t._s(e.vinNo)+"\n              ")])})),1)])],1)])],1)],1),i("div",{staticClass:"footerBut"},[3===t.isEdit?i("div",[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:t.close}},[t._v("取消")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{loading:t.setCarButLoading,type:"primary",disabled:!1},on:{click:t.setUserCarOk}},[t._v("确认")])],1):t._e(),3!==t.isEdit?i("div",[i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:t.preStep}},[t._v("上一步")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",loading:t.butLoading,disabled:!1},on:{click:t.nextStep}},[t._v(t._s(4===t.isEdit?"关闭":"下一步"))])],1):t._e()])])},n=[],s=i("768b"),o=(i("ac4d"),i("8a81"),i("6762"),i("2fdb"),i("ac6a"),i("c5f6"),i("c0c7")),r=i("fab6"),l=i("c1fb"),c=i("7829"),u={name:"step3",mixins:[r["a"],l["a"],c["a"]],props:{active:{type:Number},q:{type:Object},isEdit:{type:Number,default:0},reLoad:{type:Object}},doNotInit:!0,watch:{active:function(t){console.log("watch3",t),2==t&&2===this.active&&this.reLoad.step3&&(this.isEdit&&this.q.userCarList&&this.q.userCarList.length>0&&(this.q.carIdList=this.q.userCarList.map((function(t){return t.carId}))),this.getBatchListFc(),this.getCarTypeFc(),this.listLoad())}},created:function(){console.log("created3",this.active,this.reLoad.step3),2===this.active&&this.reLoad.step3&&(this.isEdit&&this.q.userCarList&&this.q.userCarList.length>0&&(this.q.carIdList=this.q.userCarList.map((function(t){return t.carId}))),this.getBatchListFc(),this.getCarTypeFc(),this.listLoad())},data:function(){return{carTypeActiveName:"first",carTypeValue:"",carTypeLoading:!1,isAllChecked:!1,isIndeterminate:!1,treeLength:0,carTypeData:[],carTypeDefaultProps:{label:"label",children:"children"},batchIdList:[],carIdList:[],carTypeNameList:[],carBatchCodeList:[],listLoading:!1,isFirstIn:!0,listQuery:{vinNo:"",terminalCode:"",carTypeName:"",carBatchCode:""},total:0,list:[],tableList:[{value:"VIN码",prop:"vinNo",width:170,checked:!0,fixed:"left",position:"center"},{value:"终端编号",prop:"terminalCode",width:100,checked:!0,position:"center"},{value:"车型名称",prop:"carTypeName",width:100,checked:!0,position:"center"},{value:"项目代号",prop:"carBatchCode",width:70,checked:!0,position:"center"},{value:"营运区域",prop:"area",width:70,checked:!0,position:"center"}],butLoading:!1,setCarButLoading:!1}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},mounted:function(){},methods:{tabsClick:function(t){},getBatchListFc:function(){var t=this,e={name:this.carTypeValue};this.carTypeLoading=!0,this.carTypeData=[],Object(o["k"])(e).then((function(e){var i=e.data;t.carTypeLoading=!1,0===i.code&&(console.log("获取项目信息-tab1-树结构",i.data),i.data&&i.data.length>0&&(t.carTypeData=i.data,t.treeLength=t.carTypeData.length,t.carTypeData.forEach((function(e,i){e.label=e.carTypeName,e.id=i,e.children=e.batchList,e.batchList&&e.batchList.length>0&&e.batchList.forEach((function(e){e.label=e.carBatchCode,e.id=e.carBatchId,t.treeLength=t.treeLength+1}))})),4==t.isEdit&&t.setDisable(t.carTypeData),t.isEdit&&t.q.batchIdList&&t.$nextTick((function(){this.$refs.carTypeTree.setCheckedKeys(this.q.batchIdList),this.changeState()}))))})).catch((function(){t.carTypeLoading=!1}))},carTypeCheckChange:function(t){this.changeState(),this.batchIdList=this.$refs.carTypeTree.getCheckedKeys().filter((function(t){return t.length>10})),this.q.batchIdList=this.batchIdList},allCheckedChange:function(t){if(this.isIndeterminate=!1,t){var e=[];this.carTypeData.forEach((function(t){t.children&&t.children.forEach((function(t){e.push(t.id)}))})),this.$refs.carTypeTree.setCheckedKeys(e)}else this.$refs.carTypeTree.setCheckedKeys([])},changeState:function(){var t=this.$refs.carTypeTree.getCheckedKeys().length;this.isAllChecked=t===this.treeLength,this.isIndeterminate=t>0&&t<this.treeLength},getCarTypeFc:function(){var t=this;Object(o["m"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeNameList=i.data||[])}))},getBatchByCarTypeFc:function(t){var e=this;if(this.carBatchCodeList=[],this.listQuery.carBatchCode="",t){this.carTypeNameList.forEach((function(i){i.carTypeId==t&&(e.listQuery.carTypeName=i.carTypeName)}));var i={carTypeId:t};Object(o["j"])(i).then((function(t){var i=t.data;0===i.code&&(e.carBatchCodeList=i.data||[])}))}},handleClear:function(){this.listQuery.vinNo="",this.listQuery.terminalCode="",this.listQuery.carTypeName="",this.listQuery.carBatchCode="",this.carBatchCodeList=[],this.listLoad()},listLoad:function(){var t=this;this.list=[],this.listLoading=!0,Object(o["l"])(this.listQuery).then((function(e){var i=e.data;if(t.listLoading=!1,0===i.code&&(t.list=i.data||[],t.total=i.total,t.isEdit&&t.q.userCarList.length)){var a=t.q.userCarList.map((function(t){return t.carId}));t.list.forEach((function(e){a.includes(e.carId)?t.$nextTick((function(){t.$refs.carTable.refTable().toggleRowSelection(e,!0)})):t.$nextTick((function(){t.$refs.carTable.refTable().toggleRowSelection(e,!1)}))}))}})).catch((function(){t.listLoading=!1}))},setDisable:function(t){var e=this;t.forEach((function(t){t.disabled=!0,t.batchList&&t.batchList.length>0&&e.setDisable(t.batchList)}))},selectAll:function(t){var e=this,i=this.q.userCarList.map((function(t){return t.carId})),a=Array.isArray(t)?t.map((function(t){return t.carId})):[];this.list.forEach((function(t){a.includes(t.carId)?i.includes(t.carId)||e.addItem(t):i.includes(t.carId)&&e.removeItem(t)}))},rowClick:function(t){if(4===this.isEdit)return!0;var e=this.q.userCarList.map((function(t){return t.carId}));if(e.length){var i=-1==e.indexOf(t.row.carId);i?this.addItem(t.row):this.removeItem(t.row)}else this.addItem(t.row)},handleClose:function(t){var e=this;this.q.userCarList.forEach((function(i,a){i.carId==t.carId&&(e.q.userCarList.splice(a,1),e.q.carIdList=e.q.userCarList.map((function(t){return t.carId})))})),this.list.forEach((function(i){i.carId==t.carId&&(console.log(4444,i.vinNo),e.$refs.carTable.refTable().toggleRowSelection(i,!1))}))},select:function(t,e){var i=t.length&&-1!==t.indexOf(e);i?this.addItem(e):this.removeItem(e)},addItem:function(t){this.q.userCarList.push(t),this.q.carIdList=this.q.userCarList.map((function(t){return t.carId}))},removeItem:function(t){var e=!0,i=!1,a=void 0;try{for(var n,o=this.q.userCarList.entries()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var r=Object(s["a"])(n.value,2),l=r[0],c=r[1];if(c.carId===t.carId){this.removeItemByIndex(l);break}}}catch(u){i=!0,a=u}finally{try{e||null==o.return||o.return()}finally{if(i)throw a}}},removeItemByIndex:function(t){this.q.userCarList.splice(t,1),this.q.carIdList=this.q.userCarList.map((function(t){return t.carId}))},cellClass:function(t){if((4===this.isEdit||0==this.list.length)&&0===t.columnIndex)return"disabledSelection"},selectable:function(t,e){return 4!==this.isEdit},handleSelectionChange:function(t){},close:function(){this.$emit("closeDrawer")},preStep:function(){this.reLoad.step3=0,this.$emit("update:active",1)},nextStep:function(){var t=this;if(console.log("step3-nextStep-this.q",this.q),4!==this.isEdit){this.butLoading=!0,this.batchIdList=this.$refs.carTypeTree.getCheckedKeys().filter((function(t){return t.length>10})),this.q.batchIdList=this.batchIdList;var e=this.q,i=e.email,a=e.loginName,n=e.mobile,s=e.userType,r=e.isAdmin,l=e.expiredTime,c=e.isSmsLoginVerif,u=e.userIdList,d=e.roleIdList,p=e.batchIdList,h=e.carIdList,f={email:i,loginName:a,mobile:n,userType:s,isAdmin:r,expiredTime:l,isSmsLoginVerif:c,userIdList:u,roleIdList:d,batchIdList:p,carIdList:h};if(this.isEdit){var m={id:this.q.userId,data:f};console.log("step3-nextStep-params",m),Object(o["D"])(m).then((function(e){var i=e.data;t.butLoading=!1,0===i.code&&(t.reLoad.step3=0,t.$emit("update:active",3))})).catch((function(){t.butLoading=!1}))}else console.log("step3-nextStep-obj",f),Object(o["d"])(f).then((function(e){var i=e.data;t.butLoading=!1,0===i.code&&(t.reLoad.step3=0,t.$emit("update:active",3))})).catch((function(){t.butLoading=!1}))}else this.$emit("closeDrawer")},setUserCarOk:function(){var t=this;this.setCarButLoading=!0,this.batchIdList=this.$refs.carTypeTree.getCheckedKeys().filter((function(t){return t.length>10}));var e={userId:this.q.userId,carIdList:this.q.carIdList,batchIdList:this.batchIdList};Object(o["A"])(e).then((function(e){var i=e.data;t.setCarButLoading=!1,0===i.code&&t.$emit("addUpdateClose")})).catch((function(){t.setCarButLoading=!1}))}}},d=u,p=(i("255f"),i("2877")),h=Object(p["a"])(d,a,n,!1,null,"b495cc02",null);e["default"]=h.exports},"15cb":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"s2Box"},[i("div",{staticClass:"s2Left",style:2===t.isEdit?"height: calc( 100vh - 165px );":"height: calc( 100vh - 251px );"},[4!==t.isEdit?i("el-input",{staticClass:"input-with-select borderInput",staticStyle:{padding:"8px"},attrs:{placeholder:"请输入"},model:{value:t.inputRoleValue,callback:function(e){t.inputRoleValue=e},expression:"inputRoleValue"}},[i("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:t.roleByType,callback:function(e){t.roleByType=e},expression:"roleByType"}},[i("el-option",{attrs:{label:"角色名称",value:"角色名称"}}),i("el-option",{attrs:{label:"工作邮箱",value:"工作邮箱"}})],1),i("el-button",{attrs:{slot:"append",icon:"el-icon-search",type:"primary"},on:{click:t.searchFc},slot:"append"})],1):t._e(),4==t.isEdit?i("div",{staticClass:"see input-with-select"},[t._v("所选角色")]):t._e(),i("el-scrollbar",{staticStyle:{"padding-top":"8px"},style:2===t.isEdit?"height: calc( 100vh - 230px );":"height: calc( 100vh - 314px );",attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.leftLoading,expression:"leftLoading"}],ref:"leftTree",attrs:{data:t.leftData,"node-key":"id",props:t.leftDefaultProps,"expand-on-click-node":!1,"check-on-click-node":!0,"show-checkbox":""},on:{"check-change":t.leftCheckChange}})],1)],1),i("div",{staticClass:"s2Right",style:2===t.isEdit?"height: calc( 100vh - 165px );":"height: calc( 100vh - 251px );"},[t._m(0),i("div",{staticClass:"divScroll",style:2===t.isEdit?"height: calc( 100vh - 237px );":"height: calc( 100vh - 321px );"},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.rightLoading,expression:"rightLoading"}],ref:"rightTree",attrs:{data:t.rightData,"node-key":"functionId",props:t.rightDefaultProps,"default-checked-keys":t.rightDefaultCheckedKeys,"default-expand-all":!1,"show-checkbox":""}})],1)])]),i("div",{staticClass:"footerBut"},[2===t.isEdit?i("div",[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:t.close}},[t._v("取消")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{loading:t.butLoading,type:"primary",disabled:!1},on:{click:t.setRoleOk}},[t._v("确认")])],1):t._e(),2!==t.isEdit?i("div",[i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:t.preStep}},[t._v("上一步")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",disabled:!1},on:{click:t.nextStep}},[t._v("下一步")])],1):t._e()])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rightTop"},[i("span",{staticStyle:{color:"#272727","font-weight":"bold"}},[t._v("权限展示")]),t._v("（勾选左侧角色名称后显示菜单权限）")])}],s=(i("5df3"),i("4f7f"),i("75fc")),o=(i("28a5"),i("ac6a"),i("c5f6"),i("c0c7")),r=i("3528"),l=i("cf45"),c={name:"step2",props:{active:{type:Number},q:{type:Object},isEdit:{type:Number,default:0},reLoad:{type:Object}},watch:{active:function(t){var e=this;console.log("watch2",this.active,this.reLoad.step2),1==t&&1===this.active&&this.reLoad.step2&&(this.leftLoading=!0,Object(r["d"])().then((function(t){var i=t.data;e.leftLoading=!1,0===i.code&&(console.log("data.data",i.data),e.treeDataBase=i.data,e.hasAuthority(e.treeDataBase),e.searchFc())})))}},created:function(){var t=this;console.log("created2",this.active,this.reLoad.step2),1===this.active&&this.reLoad.step2&&(this.leftLoading=!0,Object(r["d"])().then((function(e){var i=e.data;t.leftLoading=!1,0===i.code&&(console.log("data.data",i.data),t.treeDataBase=i.data,t.hasAuthority(t.treeDataBase),t.searchFc())})))},data:function(){return{leftData:[],leftDefaultProps:{label:"label"},roleByType:"角色名称",inputRoleValue:"",leftLoading:!1,isRole:!0,leftSelectedIdArr:[],treeDataBase:[],rightData:[],rightDefaultProps:{label:"functionName",children:"children"},rightLoading:!1,isFirst:!0,rightDefaultCheckedKeys:[],butLoading:!1}},mounted:function(){},methods:{setDisable:function(t){var e=this;t.forEach((function(t){t.disabled=!0,t.children&&t.children.length>0&&e.setDisable(t.children)}))},getTreeId:function(t,e){var i=this;t.forEach((function(t){e.push(t.functionId),t.children&&t.children.length>0&&i.getTreeId(t.children,e)}))},searchFc:function(){console.log("roleByType:",this.roleByType),this.rightData=[],"角色名称"==this.roleByType?(this.isRole=!0,this.getRoleByNameFc()):"工作邮箱"==this.roleByType&&(this.isRole=!1,this.getUserByEmailFc())},getRoleByNameFc:function(){var t=this,e={roleName:this.inputRoleValue};this.leftLoading=!0,this.leftData=[],Object(r["f"])(e).then((function(e){var i=e.data;t.leftLoading=!1,0===i.code&&(console.log("角色列表",i.data),t.leftData=i.data,t.leftData.forEach((function(t){t.label=t.roleName,t.id=t.roleId})),4==t.isEdit&&t.setDisable(t.leftData),t.leftSelectedIdArr=[],t.$refs.leftTree.setCheckedKeys(t.leftSelectedIdArr),t.isEdit&&t.isFirst&&(t.isFirst=!1,t.leftSelectedIdArr=t.q.userRoleList.map((function(t){return t.roleId})),t.$nextTick((function(){this.$refs.leftTree.setCheckedKeys(this.leftSelectedIdArr)}))))})).catch((function(){t.leftLoading=!1}))},getUserByEmailFc:function(){var t=this,e={email:this.inputRoleValue};this.leftLoading=!0,this.leftData=[],Object(o["t"])(e).then((function(e){var i=e.data;t.leftLoading=!1,0===i.code&&(console.log("邮箱列表",i.data),t.leftData=i.data,t.leftData.forEach((function(t){t.label=t.email,t.id=t.userId})))})).catch((function(){t.leftLoading=!1}))},leftCheckChange:function(t,e,i){this.leftSelectedIdArr=this.$refs.leftTree.getCheckedKeys(),this.rightData=[],this.leftSelectedIdArr.length>0&&(this.isRole?(this.q.roleIdList=this.leftSelectedIdArr,this.q.userIdList=[],this.getRoleFunctionByRoleFC()):(this.q.userIdList=this.leftSelectedIdArr,this.q.roleIdList=[],this.getRoleFunctionByUserFC()))},getRoleFunctionByRoleFC:function(){var t=this;this.rightLoading=!0,Object(o["q"])(this.leftSelectedIdArr).then((function(e){var i=e.data;if(t.rightLoading=!1,0===i.code&&i.data){t.rightData=JSON.parse(JSON.stringify(t.treeDataBase));var a=[];i.data.forEach((function(t){a.push(t.functionId);var e=t.parentIds?t.parentIds.split(","):[];a=Object(s["a"])(new Set(a.concat(e)))})),t.detNoSelect(t.rightData,a),t.rightDefaultCheckedKeys=a,t.$nextTick((function(){this.$refs.rightTree.setCheckedKeys(this.rightDefaultCheckedKeys)}))}})).catch((function(){t.rightLoading=!1}))},getRoleFunctionByUserFC:function(){var t=this;this.rightLoading=!0,Object(o["r"])(this.leftSelectedIdArr).then((function(e){var i=e.data;if(t.rightLoading=!1,0===i.code){t.rightData=JSON.parse(JSON.stringify(t.treeDataBase)),console.log("多选邮箱用户获取合并菜单权限",i.data);var a=[];i.data?(i.data.forEach((function(t){a.push(t.functionId);var e=t.parentIds?t.parentIds.split(","):[];a=Object(s["a"])(new Set(a.concat(e)))})),t.detNoSelect(t.rightData,a)):t.getTreeId(t.treeDataBase,a),t.rightDefaultCheckedKeys=a,t.$nextTick((function(){this.$refs.rightTree.setCheckedKeys(this.rightDefaultCheckedKeys)}))}})).catch((function(){t.rightLoading=!1}))},hasAuthority:function(t){if(Object(l["f"])(t))for(var e=t.length-1;e>=0;e--)t[e].disabled=!0,0==t[e].isDisabled?t.splice(e,1):this.hasAuthority(t[e].children)},detNoSelect:function(t,e){if(Object(l["f"])(t))for(var i=t.length-1;i>=0;i--)e.every((function(e){return e!=t[i].functionId}))?t.splice(i,1):this.detNoSelect(t[i].children,e)},close:function(){this.$emit("closeDrawer")},preStep:function(){this.reLoad.step2=0,this.$emit("update:active",0)},nextStep:function(){console.log("step2--this.q",this.q),0==this.$refs.leftTree.getCheckedKeys().length?this.$message.warning({message:"角色列表不能为空！",duration:2e3}):(this.reLoad.step2=0,this.$emit("update:active",2))},setRoleOk:function(){var t=this;this.butLoading=!0;var e={userId:this.q.userId,userIdList:this.q.userIdList,roleIdList:this.q.roleIdList};Object(o["B"])(e).then((function(e){var i=e.data;t.butLoading=!1,0===i.code&&t.$emit("addUpdateClose")})).catch((function(){t.butLoading=!1}))}}},u=c,d=(i("a110"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"da84cc92",null);e["default"]=p.exports},"16da":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"查看详情",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableNumber:!0,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)])},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("f668"),c={name:"detailDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{name:""},tableList:[{value:"服务名称",prop:"name",position:"center",checked:!0,width:300}],total:0,list:[],listLoading:!1,name:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.id=this.data.id,Object(l["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"a6a8a38a",null);e["default"]=p.exports},1775:function(t,e,i){},1884:function(t,e,i){},1983:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑诊断周期配置":"新增诊断周期配置",width:"60%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"150px"}},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.carTypeId,callback:function(e){t.$set(t.formInfo,"carTypeId",e)},expression:"formInfo.carTypeId"}},t._l(t.carTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1),i("el-form-item",{attrs:{label:"诊断周期名称：",prop:"configName"}},[i("el-input",{attrs:{placeholder:"请输入诊断周期名称",clearable:"",maxlength:"20"},model:{value:t.formInfo.configName,callback:function(e){t.$set(t.formInfo,"configName",e)},expression:"formInfo.configName"}})],1),i("el-form-item",{attrs:{label:"选择诊断服务：",prop:"serviceNameList"}},[i("el-row",[i("el-col",{attrs:{span:18}},[i("el-input",{attrs:{placeholder:"点击选择诊断服务",readonly:""},nativeOn:{click:function(e){return t.selectDigService(e)}},model:{value:t.formInfo.serviceNameList,callback:function(e){t.$set(t.formInfo,"serviceNameList",e)},expression:"formInfo.serviceNameList"}})],1),i("el-col",{attrs:{span:6}},[t._v("\r\n              "+t._s(t.serviceMessage)+"\r\n          ")])],1)],1),i("el-form-item",{attrs:{label:"OTX文件：",prop:"otxFileId"}},[i("el-input",{attrs:{placeholder:"点击进行选择OTX文件"},nativeOn:{click:function(e){return t.selectOTXFile(e)}},model:{value:t.formInfo.otxFileName,callback:function(e){t.$set(t.formInfo,"otxFileName",e)},expression:"formInfo.otxFileName"}})],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"诊断次数（次）：",prop:"dxNum"}},[i("el-input-number",{attrs:{min:1,max:999999999},model:{value:t.formInfo.dxNum,callback:function(e){t.$set(t.formInfo,"dxNum",e)},expression:"formInfo.dxNum"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"车速（公里/小时）：",prop:"speed"}},[i("el-input-number",{attrs:{min:0,max:999999999},model:{value:t.formInfo.speed,callback:function(e){t.$set(t.formInfo,"speed",e)},expression:"formInfo.speed"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"延迟时间（分钟）：",prop:"delay"}},[i("el-input-number",{attrs:{min:0,max:999999999},model:{value:t.formInfo.delay,callback:function(e){t.$set(t.formInfo,"delay",e)},expression:"formInfo.delay"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"诊断间隔时间（秒）：",prop:"intervalTime"}},[i("el-input-number",{attrs:{min:0,max:999999999},model:{value:t.formInfo.intervalTime,callback:function(e){t.$set(t.formInfo,"intervalTime",e)},expression:"formInfo.intervalTime"}})],1)],1)],1),i("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1)]),i("app-dig-service",{attrs:{visibles:t.selectDigServiceVisible,propServiceList:t.serviceIdList},on:{"update:visibles":function(e){t.selectDigServiceVisible=e},setDigService:t.setDigService}}),i("otx-list-dialog",{attrs:{visibles:t.OTXListVisible,data:{fileName:t.formInfo.otxFileName,id:t.formInfo.otxFileId}},on:{"update:visibles":function(e){t.OTXListVisible=e},OTXId:t.loadOTXId}})],1)},n=[],s=(i("8e6e"),i("456d"),i("28a5"),i("ac6a"),i("bd86")),o=i("5c83"),r=i("31a9"),l=i("10aa"),c=i("78a0"),u=i("f80b"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择诊断服务",width:"60%",top:"2vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:""},model:{value:t.listQuery.serviceName,callback:function(e){t.$set(t.listQuery,"serviceName",e)},expression:"listQuery.serviceName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务别名："}},[i("el-input",{attrs:{placeholder:"请输入服务别名",clearable:""},model:{value:t.listQuery.aliasName,callback:function(e){t.$set(t.listQuery,"aliasName",e)},expression:"listQuery.aliasName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:""},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"诊断服务",isShowTitle:t.isShowTitle,icon:"icon_ecu_title",data:t.rowDigService}}),i("app-table",{ref:"historyTable",attrs:{slot:"table",rowKey:"id",tableHeights:t.tableHeight-50,isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)],1)])},p=[],h=i("fab6"),f=i("babb"),m=i("6d60"),b=(i("dee4"),i("d0a1")),g={doNotInit:!0,name:"selectMultiDigService",mixins:[h["a"],f["a"],m["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},propServiceList:{type:Array,default:function(){return[]}},ecuList:{default:function(){return{}}},ecuClassId:{type:String,default:""}},filters:{},watch:{visibles:function(t){t&&(this.selectionDataList=this.propServiceList,this.changdu=this.selectionDataList.length,this.listQuery.pageNum=1,this.listLoad(),this.rowDigService="已选中"+this.selectionDataList.length+"个")}},data:function(){return{listQuery:{serviceName:"",aliasName:"",ecuName:""},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"服务名称",prop:"serviceName",position:"center",checked:!0,width:120},{value:"服务别名",prop:"aliasName",position:"center",checked:!0,width:120},{value:"指令内容",prop:"content",position:"center",checked:!0,width:120}],total:0,changdu:0,list:[],listLoading:!1,rowDigService:"",tablerow:null,serviceList:[],serviceIdList:[],cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),isShowTitle:!0,selectionDataList:[],getRowKeys:function(t){return t.id}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.ecuId=this.ecuList.ecuid,this.listQuery.ecuClassId=this.ecuList.ecuClassId,Object(b["l"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.$nextTick((function(){t.selectionDataList.length>0&&t.toggleSelection(t.selectionDataList)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},handleSelectionChange:function(t){this.selectionDataList=t,t!==[]&&(this.rowDigService="已选中"+this.selectionDataList.length+"个")},toggleSelection:function(t){var e=this;t?t.forEach((function(t){for(var i=0;i<e.list.length;i++)t.id==e.list[i].id&&e.$refs.historyTable.refTable().toggleRowSelection(e.list[i],!0)})):this.$refs.historyTable.refTable().clearSelection()},rowClick:function(t){t.row},handleConfirm:function(){this.selectionDataList.length?(this.$emit("setDigService",this.selectionDataList),this.closeDialog()):this.$alert("请选择诊断服务","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.selectionDataList=[],this.listQuery={serviceName:"",aliasName:"",ecuName:"",pageSize:10,pageNum:1},this.changdu=0,this.list=[],this.total=0,this.$emit("update:visibles",!1)}}},v=g,y=i("2877"),w=Object(y["a"])(v,d,p,!1,null,"4205e6e9",null),L=w.exports;i("4360");function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[l["a"]],components:{AppDigService:L,otxListDialog:c["a"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){if(t){this._getSupportCarTypeList();var e={};if(this.isEdit)this.formInfo=C({},this.data),this.setServiceName(this.data.id);else{var i=new Date;e={configName:"pkg_"+this.$store.state.user.loginName+i.format("yyyyMMddhhmmss")},this.formInfo=C({},this.data,{},e)}}},immediate:!0}},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.carTypeId)return a(new Error("请选择车型名称"))},i=function(t,e,i){if(!e)return i(new Error("请输入诊断周期名称"))},a=function(e,i,a){if(!t.formInfo.serviceNameList)return a(new Error("请选择诊断服务"))},n=function(t,e,i){return e?e<1||e>999999999?i(new Error("只能输入1-999999999")):void 0:i(new Error("请输入诊断次数"))},s=function(t,e,i){return 0==e||e?e<0||e>999999999?i(new Error("只能输入0-999999999")):void 0:i(new Error("请输入车速"))},o=function(t,e,i){return 0==e||e?e<0||e>999999999?i(new Error("只能输入0-999999999")):void 0:i(new Error("请输入延迟时间"))},r=function(t,e,i){return 0==e||e?e<0||e>999999999?i(new Error("只能输入0-999999999")):void 0:i(new Error("请输入诊断间隔时间"))};return{formInfo:{carTypeId:"",serviceList:"",configName:"",speed:"",delay:"",intervalTime:"",remark:""},carTypeList:[],selectDigServiceVisible:!1,serviceIdList:[],OTXListVisible:!1,serviceMessage:"",rules:{carTypeId:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],configName:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}],serviceNameList:[{required:!0,trigger:"blur",validator:a},{trigger:"change",validator:a}],dxNum:[{required:!0,trigger:"blur",validator:n},{trigger:"change",validator:n}],speed:[{required:!0,trigger:"blur",validator:s},{trigger:"change",validator:s}],delay:[{required:!0,trigger:"blur",validator:o},{trigger:"change",validator:o}],intervalTime:[{required:!0,trigger:"blur",validator:r},{trigger:"change",validator:r}]}}},methods:{selectOTXFile:function(){this.OTXListVisible=!0},loadOTXId:function(t){this.formInfo.otxFileId=t.id,this.formInfo.otxFileName=t.fileName},setServiceName:function(t){var e=this,i={configId:t,pageNum:1,pageSize:1e3};Object(r["e"])(i).then((function(t){var i=t.data;e.formInfo.serviceNameList="",0===i.code&&e.setDigService(i.data)}))},_getSupportCarTypeList:function(){var t=this;Object(u["h"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},setDigService:function(t){var e=[],i=[];t.forEach((function(t){e.push(t.serviceName),i.push(t.id)})),this.formInfo.serviceNameList=e.join(","),this.formInfo.serviceList=i.join(","),this.serviceMessage="已选择"+t.length+"个服务"},selectDigService:function(){this.selectDigServiceVisible=!0;var t=this.formInfo.serviceList,e=this.formInfo.serviceNameList;if(void 0===t||void 0===e)this.serviceIdList=[];else{for(var i=t.split(","),a=e.split(","),n=[],s=0;s<i.length;s++)n.push({id:i[s],serviceName:a[s]});this.serviceIdList=n}},closeDialog:function(){this.$emit("update:visibles",!1),this.serviceIdList=[],this.serviceMessage=""},headleCancel:function(){this.closeDialog()},_createConfig:function(t){var e=this;Object(r["a"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("add-complete"),e.closeDialog())}))},_updateConfig:function(t){var e=this;Object(r["f"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("update-complete"),e.closeDialog())}))},submitForm:function(){var t=this.checkForm({formName:"form",formList:["carTypeId","configName","serviceList","dxNum","speed","delay","intervalTime"]});if(t){var e=this.formInfo,i=e.id,a=e.carTypeId,n=e.configName,s=e.dxNum,o=e.serviceList,r=e.remark,l=e.speed,c=e.delay,u=e.intervalTime,d=e.otxFileId,p=e.otxFileName,h={id:i,carTypeId:a,configName:n,dxNum:s,serviceList:o,remark:r,speed:l,delay:c,intervalTime:u,otxFileId:d,otxFileName:p};this.isEdit?this._updateConfig(h):this._createConfig(h)}}}},T=x,S=(i("4d39"),Object(y["a"])(T,a,n,!1,null,"93ef2b46",null));e["default"]=S.exports},"1ad5":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a481"),i("ac6a");var a={methods:{getExportData:function(t,e,i){return this.setExportData(t,e,i)},setExportData:function(t,e,i){console.log("开始导出");var a=[];e.forEach((function(t){var e={headField:t.prop,headName:t.value},i=!!t.needMerge&&t.needMerge;e.needMerge=i,a.push(e)}));var n=[];i.forEach((function(t){var e={};a.forEach((function(i){var a=t[i.headField];"content"===a&&(a=a.replace(/[\r\n]/g,"")),e[i.headField]=a})),n.push(e)}));var s={title:t,head:a,data:n};return s}}}},"1da0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"js-system-user app-container",staticStyle:{background:"#fff"}},[a("div",{staticClass:"add-btn"},[a("span",{on:{mouseenter:function(e){return t.enterSvgOpen()},mouseleave:function(e){return t.enterSvgClose()}}},[a("el-button",{staticStyle:{margin:"0 8px 3px 8px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.adds({})}}},[a("i",{staticClass:"iconfont icon-ic_add",staticStyle:{"font-size":"12px"}}),t._v("\n      新增\n    ")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"menu",staticStyle:{width:"100%"},attrs:{data:t.treeData,"max-height":t.maxTableHeight,"row-key":"functionId",size:"mini",border:"",fit:"","header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"functionName",label:"菜单名称(中文)",width:"240",fixed:"left"}}),a("el-table-column",{attrs:{align:"center",prop:"url",label:"链接",width:"220"}}),a("el-table-column",{attrs:{align:"center",prop:"functionType","min-width":"80",label:"菜单类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n          "+t._s(1===e.row["functionType"]?"菜单":2===e.row["functionType"]?"按钮":3===e.row["functionType"]?"层级路由":"-")+"\n        ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"icon","min-width":"120",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row["icon"]||"-"))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序号"}}),a("el-table-column",{attrs:{align:"center",prop:"isDisabled","min-width":"80",label:"是否禁用"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("el-tag",{staticStyle:{width:"50px"},attrs:{type:1==e.row.isDisabled?"success":"info",effect:"dark"}},[t._v("\n            "+t._s(1===e.row["isDisabled"]?"启用":"禁用")+"\n          ")])],1)]}}])}),a("el-table-column",{attrs:{align:"center",prop:"isShow","min-width":"80",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("el-tag",{staticStyle:{width:"50px"},attrs:{type:1==e.row.isShow?"success":"info",effect:"dark"}},[t._v("\n            "+t._s(1===e.row["isShow"]?"显示":"隐藏")+"\n          ")])],1)]}}])}),a("el-table-column",{attrs:{width:"140",label:"操作",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",[a("el-tooltip",{staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:"新增",placement:"top"}},[a("span",{staticClass:"card-action",on:{click:function(i){return t.adds(e.row)}}},[a("i",{staticClass:"iconfont icon-ic_add",staticStyle:{"font-size":"14px !important"}})])]),a("el-tooltip",{staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:"编辑",placement:"top"}},[a("span",{staticClass:"card-action",on:{click:function(i){return t.updates(e.row)}}},[a("i",{staticClass:"iconfont icon-ic_edit",staticStyle:{"font-size":"14px !important"}})])]),a("el-tooltip",{staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:"删除",placement:"top"}},[a("span",{staticClass:"card-action",on:{click:function(i){return t.deletes(e.row)}}},[a("i",{staticClass:"iconfont icon-ic_delete",staticStyle:{"font-size":"14px !important"}})])])],1)]}}])}),a("template",{slot:"empty"},[a("img",{staticStyle:{"margin-bottom":"20px"},attrs:{src:i("f0e4"),alt:""}}),a("div",{staticStyle:{display:"inline-block","margin-left":"-105px"}},[t._v("暂无数据")])])],2),a("add-update-dialog",{attrs:{visibles:t.visibles,"is-edit":t.isEdit,data:t.tableRow},on:{"update:visibles":function(e){t.visibles=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}})],1)},n=[],s=i("a8db"),o=(i("ac6a"),i("20d6"),i("28a5"),i("55dd"),i("c1fb")),r=i("6d60"),l=i("7829"),c=i("35b3"),u=i("5d4a"),d={name:"function",components:{addUpdateDialog:u["default"]},filters:{},mixins:[o["a"],r["a"],l["a"]],data:function(){return{treeData:[],visibles:!1,loading:!1,isEdit:!1,tableRow:{},selectTableRow:null,maxTableHeight:window.innerHeight-260,tableHeight:0,enterSvg:!1}},computed:{lang:function(){return this.$store.getters.language}},created:function(){this._getAllMenu()},methods:{enterSvgOpen:function(){this.enterSvg=!0},enterSvgClose:function(){this.enterSvg=!1},_getAllMenu:function(){var t=this;this.loading=!0,Object(c["c"])().then((function(e){var i=e.data;t.loading=!1,0===i.code&&(t.treeData=i.data||[])})).catch((function(){t.loading=!1}))},sort:function(t,e){return t.sort-e.sort},adds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isEdit=!1,this.visibles=!0,this.selectTableRow=t;var e="zh"==this.lang?t.functionName:t.functionNameEn;this.tableRow={parentId:t.functionId?t.functionId:"",parentMenu:e||"顶层菜单"}},addComplete:function(t){this.$message.success({message:"新增成功",duration:2e3}),t.parentId?(this.selectTableRow.children||this.$set(this.selectTableRow,"children",[]),this.selectTableRow.children.push(t),this.selectTableRow.children.sort(this.sort)):(this.treeData.push(t),this.treeData.sort(this.sort))},updates:function(t){if(t.functionId){this.isEdit=!0,this.visibles=!0,this.selectTableRow=t,this.tableRow=t;var e=t.functionNames?t.functionNames.split("/"):[],i=e.length,a=e.findIndex((function(e){return e==t.functionName||e==t.functionNameEn}));if(a>-1){var n=i>1?e[a-1]:"顶层菜单";this.tableRow.parentMenu=n}}else this.$alert("请选中需要编辑项","提示",{confirmButtonText:"确定"})},updateComplete:function(t){var e=t.parentId,i=t.functionId;this.setTreeData(this.treeData,e,i,t),this.$message.success({message:"编辑成功",duration:2e3})},setTreeData:function(t,e,i,a){var n=this;t.forEach((function(s){if(s.functionId===e){var o=s.children.findIndex((function(t){return t.functionId===i}));if(o>-1){for(var r in a)a[r]!==s.children[o][r]&&n.$set(s.children[o],r,a[r]);s.children.sort(n.sort)}}else if(!s.parentId){var l=t.findIndex((function(t){return t.functionId===i}));if(l>-1){for(var c in a)a[c]!==n.treeData[l][c]&&n.$set(n.treeData[l],c,a[c]);n.treeData.sort(n.sort)}}s.children&&s.children.length>0&&n.setTreeData(s.children,e,i,a)}))},deletes:function(t){var e=this;t.functionId?this.$confirm("是否删除此项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=t.functionId,a=t.parentId,n=Object(s["a"])(t,["functionId","parentId"]),o={id:i,data:n};Object(c["b"])(o).then((function(t){var n=t.data;0===n.code&&(e.deleteTreeData(e.treeData,a,i),e.$message.success({message:"删除成功",duration:2e3}))}))})).catch((function(){})):this.$alert("请选中需要删除项","提示",{confirmButtonText:"确定"})},deleteTreeData:function(t,e,i){var a=this;t.forEach((function(n){if(n.functionId===e){var s=n.children.findIndex((function(t){return t.functionId===i}));s>-1&&n.children.splice(s,1)}else if(!n.parentId){var o=t.findIndex((function(t){return t.functionId===i}));o>-1&&a.treeData.splice(o,1)}n.children&&n.children.length>0&&a.deleteTreeData(n.children,e,i)}))},rowClick:function(t){this.tableRow=t}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"37c7861a",null);e["default"]=f.exports},"1e49":function(t,e,i){t.exports=i.p+"assets/img/400.3e959ca8.png"},"1e67":function(t,e,i){t.exports=i.p+"assets/img/red_finish.5e452dd9.png"},"1fa9":function(t,e,i){"use strict";var a=i("d6dda"),n=i.n(a);n.a},2118:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"65px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"工作邮箱："}},[i("el-input",{attrs:{placeholder:"请输入工作邮箱",clearable:""},model:{value:t.listQuery.email,callback:function(e){t.$set(t.listQuery,"email",e)},expression:"listQuery.email"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间：",prop:"endTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"用户类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.userType,callback:function(e){t.$set(t.listQuery,"userType",e)},expression:"listQuery.userType"}},t._l(t.commontData.usertypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"手机号："}},[i("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作描述："}},[i("el-input",{attrs:{filterable:"",clearable:"",placeholder:"请输入操作描述"},model:{value:t.listQuery.operateMessage,callback:function(e){t.$set(t.listQuery,"operateMessage",e)},expression:"listQuery.operateMessage"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"日志类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.logType,callback:function(e){t.$set(t.listQuery,"logType",e)},expression:"listQuery.logType"}},t._l(t.logtypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["userType"==e.item.prop?i("span",[t._v("\n          "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n        ")]):"operateBy"===e.item.prop?i("span",[t._v("\n          "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n        ")]):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fab6"),r=i("6d60"),l=i("c1fb"),c=i("7829"),u=i("dee4"),d=i("2f62"),p=i("a457");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"lifecycleLog",filters:{switchText:function(t,e){if("userType"===e)return 0===t?"内部用户":" 外部用户"}},mixins:[o["a"],r["a"],l["a"],c["a"]],data:function(){return{listQuery:{email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),operateMessage:"",logType:"",userType:""},showfilter:!1,listLoading:!1,authouizeList:[],tableHeight:0,total:0,list:[],logtypeList:[],tableRow:{},tableList:[{value:"工作邮箱",prop:"email",width:125,checked:!0,fixed:"left",position:"center"},{value:"手机号",prop:"mobile",width:100,checked:!0,position:"center"},{value:"日志类型",prop:"logType",position:"center",width:100,checked:!0},{value:"操作时间",prop:"operateOn",position:"center",width:140,checked:!0},{value:"操作人",prop:"operateBy",position:"center",width:90,checked:!0},{value:"用户类型",prop:"userType",position:"center",width:100,checked:!0},{value:"操作描述",prop:"operateMessage",position:"center",width:150,checked:!0}]}},watch:{},computed:f({filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},Object(d["c"])(["commontData"])),mounted:function(){this.getLogTypeFc()},methods:{getLogTypeFc:function(){var t=this;Object(p["b"])().then((function(e){var i=e.data;0===i.code&&(t.logtypeList=i.data)}))},handleClear:function(){this.listQuery={pageNum:1,pageSize:10,email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),operateMessage:"",logType:"",userType:""},this.listLoad()},rowClick:function(t){var e=t.row;this.tableRow={},this.list.some((function(t,i){t.id===e.id&&(e.$index=i)})),this.tableRow=e},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):(this.listLoading=!0,this.list=[],Object(p["a"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.tableRow={}),t.listLoading=!1})).catch((function(){t.listLoading=!1})))}}},b=m,g=i("2877"),v=Object(g["a"])(b,a,n,!1,null,"0af2c633",null);e["default"]=v.exports},2228:function(t,e,i){"use strict";i.d(e,"g",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return u})),i.d(e,"c",(function(){return d})),i.d(e,"h",(function(){return l}));var a=i("b775");function n(t){return Object(a["a"])({url:"offTask/getTaskList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"offTask/getSubTaskList",method:"post",data:t})}function o(t){return Object(a["a"])({url:"offTask/createTask",method:"post",data:t})}function r(t){return Object(a["a"])({url:"offTask/deleteTask",method:"delete",data:t})}function l(t){return Object(a["a"])({url:"/offTask/stopOfflineDiag",method:"post",data:t})}function c(t){return Object(a["a"])({url:"offTask/getConfigData",method:"post",data:t})}function u(t){return Object(a["a"])({url:"offTask/getResult",method:"post",data:t})}function d(){return Object(a["a"])({url:"/offlineConfig/downloadTemplate",method:"get",responseType:"arraybuffer"})}},2389:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"100px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"DBC文件名称："}},[i("el-input",{attrs:{placeholder:"请输入DBC文件名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"click-detail":t.handleDetail,"click-dbcDetail":t.handledbcDetail,"click-download":t.handleDownload,"click-end":t.handleEnd,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["status"===e.item.prop?i("span",[i("el-tag",{attrs:{type:1==e.row[e.item.prop]?"success":0==e.row[e.item.prop]?"danger":(e.row[e.item.prop],"dark"),effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"成功":0==e.row[e.item.prop]?"失败":2==e.row[e.item.prop]?"上传中":"-")+"\n\t\t\t\t\t")])],1):"freq"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||t.processData)+"ms\n\t\t\t\t")]):"size"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"kb\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}},{key:"tableOperation",fn:function(e){return t._l(t.tableAction,(function(a,n){return i("el-tooltip",{key:n,staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:a.functionName,placement:"top"}},["end"===a.url&&2==e.row.status?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleEnd(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),"detail"===a.url?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleDetail(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),"dbcDetail"===a.url?i("span",{staticClass:"card-action",on:{click:function(i){return t.handledbcDetail(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),"download"===a.url?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleDownload(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),"delete"===a.url?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleDelete(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e()])}))}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}}),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("detail-dialog",{attrs:{visibles:t.lookFunctionVisible,data:t.tableRow},on:{"update:visibles":function(e){t.lookFunctionVisible=e}}}),i("dbc-detail-dialog",{attrs:{visibles:t.lookdbcVisible,data:t.tableRow},on:{"update:visibles":function(e){t.lookdbcVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("43d0"),u=i("530f"),d=i("eca5"),p=i("f9a7"),h=i("ee1f"),f={name:"emergencyWriteManage",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:d["default"],AppCarList:u["a"],detailDialog:p["default"],dbcDetailDialog:h["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url||"detail"===t.url||"dbcDetail"===t.url||"download"===t.url||"end"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{vin:"",taskName:"",fileName:"",taskStatus:""},carData:{},lookdbcVisible:!1,carListVisible:!1,actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"任务名称",prop:"taskName",position:"center",checked:!0,width:100,fixed:"left"},{value:"DBC文件名称",prop:"dbcName",position:"center",checked:!0,width:300},{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:300},{value:"抽样频率",prop:"freq",position:"center",checked:!0,width:100},{value:"容量上限",prop:"size",position:"center",checked:!0,width:140},{value:"截止时间",prop:"duration",position:"center",checked:!0,width:140},{value:"创建时间",prop:"createTime",position:"center",checked:!0,width:140},{value:"上传状态",prop:"status",position:"center",checked:!0,width:140},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){},methods:{handleEnd:function(t){var e=this;this.tableRow=t,this.$confirm("是否结束该TBUS日志?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["f"])({token:e.tableRow.token}).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"结束成功"}),e.listLoad())}))})).catch((function(){}))},handleDetail:function(t){this.tableRow=t,this.lookFunctionVisible=!0},handledbcDetail:function(t){this.tableRow=t,this.lookdbcVisible=!0},handleDownload:function(t){var e=this;this.listLoading=!0,Object(c["c"])({token:t.token}).then((function(){e.listLoading=!1})).catch((function(){e.listLoading=!1}))},selectCar:function(){this.carListVisible=!0},loadCarVinno:function(t){this.listQuery.vin=t.vinNo},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["d"])(this.listQuery).then((function(e){var i=e.data;t.listLoading=!1,0===i.code&&(t.list=i.data,t.total=i.total)})).catch((function(){t.listLoading=!1}))},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this,i={id:t.id};this.$confirm("确定要删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},m=f,b=i("2877"),g=Object(b["a"])(m,a,n,!1,null,"d3c739aa",null);e["default"]=g.exports},"255f":function(t,e,i){"use strict";var a=i("be10d"),n=i.n(a);n.a},2582:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"登录账户："}},[i("el-input",{attrs:{placeholder:"请输入登录账户",clearable:"",maxlength:"20"},model:{value:t.listQuery.loginName,callback:function(e){t.$set(t.listQuery,"loginName",e)},expression:"listQuery.loginName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"用户姓名："}},[i("el-input",{attrs:{placeholder:"请输入用户姓名",clearable:"",maxlength:"20"},model:{value:t.listQuery.realName,callback:function(e){t.$set(t.listQuery,"realName",e)},expression:"listQuery.realName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作描述："}},[i("el-input",{attrs:{placeholder:"请输入操作描述",clearable:"",maxlength:"50"},model:{value:t.listQuery.operateMessage,callback:function(e){t.$set(t.listQuery,"operateMessage",e)},expression:"listQuery.operateMessage"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["userName"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t")]):i("span",[t._v(t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("b775");function u(t){return Object(c["a"])({url:"/operatingLog/getOperatingLog",method:"post",data:t})}function d(t){return Object(c["a"])({url:"/operatingLog/exportOperatingLog",method:"post",responseType:"arraybuffer",data:t})}var p={name:"operLog",mixins:[s["a"],o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{},authouizeList:[],showfilter:!1,tableList:[{value:"登录账户",prop:"loginName",position:"center",checked:!0,width:100,fixed:"left"},{value:"用户姓名",prop:"userName",position:"center",checked:!0,width:80},{value:"操作模块",prop:"operateModule",position:"center",checked:!0,width:80},{value:"操作时间",prop:"operateTime",position:"center",checked:!0,width:140},{value:"操作类型",prop:"operateType",position:"center",checked:!0,width:80},{value:"客户端IP",prop:"operateIp",position:"center",checked:!0,width:120},{value:"操作描述",prop:"operateMessage",position:"center",checked:!0,width:280}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},methods:{hanleExport:function(){d(this.listQuery)},listLoad:function(){var t=this;this.listLoading=!0,u(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"dbeeb55e",null);e["default"]=m.exports},"25e6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"75px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"分系统名称："}},[i("el-input",{attrs:{placeholder:"请输入分系统名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-add":t.handleAdd,"click-create-by-template":t.createByTemplate,"click-import":function(e){t.importVisible=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["subSystemName"===e.item.prop?i("span",{staticClass:"vinNo",on:{click:function(i){return t.queryEcuList(e.row)}}},[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t")]):"createdBy"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visible:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visible":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}}),i("query-ecu-list",{attrs:{visibles:t.ecuListVisible,ecuClassId:t.ecuClassId,data:t.tableRow},on:{"update:visibles":function(e){t.ecuListVisible=e}}}),i("create-by-template-dialog",{attrs:{visiblee:t.templateVisible},on:{"update:visiblee":function(e){t.templateVisible=e},"add-template":t.addTemplate}}),i("import-dialog",{attrs:{action:"api/diagnosis/subsystem/importSubSystem","template-url":"file/template/subsystemImport.xlsx",visibles:t.importVisible,maxNumber:5e3},on:{"update:visibles":function(e){t.importVisible=e},"upload-success":t.reloadList}},[i("result-dialog",{attrs:{visibles:t.resultVisible,data:t.importResult,text:"分系统名称",isShow:!1,keys:"name"},on:{"update:visibles":function(e){t.resultVisible=e}}})],1)],1)},n=[],s=(i("8e6e"),i("bd86")),o=(i("ac6a"),i("456d"),i("fab6")),r=i("6d60"),l=i("babb"),c=i("7829"),u=i("2c25"),d=i("f80b"),p=i("7961"),h=i("5ef7"),f=i("090e"),m=i("cf29"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"异常信息列表",width:"60%",top:"5vh",confirmText:"导出失败数据",isFooter:t.isShow},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleExport}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("div",{staticStyle:{"max-height":"65vh"}},[i("p",{staticClass:"sim-import-result"},[i("i",{staticClass:"iconfont icon-gantanhao-yuankuang"}),t._v("\n        导入成功\n        "),i("span",{staticClass:"green"},[t._v(t._s(t.data.successedCount?t.data.successedCount:t.successList&&t.successList.length?t.successList.length:"0"))]),t._v("\n        条，导入失败\n        "),i("span",{staticClass:"red"},[t._v(t._s(t.failedList&&t.failedList.length?t.failedList.length:"0"))]),t._v("\n        条\n      ")]),t.data.failedList&&t.data.failedList.length?i("ul",{staticClass:"all-content-info all-statistics-info"},[i("li",{staticClass:"table-header flex-li"},[i("p",[t._v("\n            "+t._s(t.text)+"\n          ")]),i("p",{staticClass:"table-border-p-left"},[t._v("\n            失败原因\n          ")])]),i("div",{staticClass:"statistics-scroll EmergencyContact"},t._l(t.data.failedList,(function(e,a){return i("li",{key:a,staticClass:"flex-li content-info-li"},[i("p",[t._v("\n              "+t._s(e[t.keys])+"\n            ")]),i("p",{staticClass:"table-border-p-left"},[t._v("\n              "+t._s(e.message)+"\n            ")])])})),0)]):i("div",{staticStyle:{margin:"10px",display:"flex","justify-content":"center"}},[i("h2",[t._v("无失败数据")])])])])])},g=[],v={name:"ResultDialog",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},text:{type:String,default:""},keys:{type:String,default:""},message:{type:String,default:"无失败信息"},isShow:{type:Boolean,default:!0}},data:function(){return{}},computed:{failedList:function(){return this.data.failedList},successList:function(){return this.data.successList}},watch:{},methods:{closeDialog:function(){this.$emit("close"),this.$emit("update:visibles",!1)},handleCancel:function(){this.closeDialog()},handleExport:function(){if(0===this.data.failedList.length)return this.$message.warning({message:this.message,duration:2e3}),!1;var t=this.data.failedList;this.$emit("export-fail",t)}}},y=v,w=(i("5c52"),i("2877")),L=Object(w["a"])(y,b,g,!1,null,"4f6953b6",null),k=L.exports;function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var T={name:"subsystem",components:{addUpdateDialog:p["default"],queryEcuList:h["default"],createByTemplateDialog:f["default"],importDialog:m["a"],resultDialog:k},filters:{disableText:function(t){return t?"启用":"禁用"}},mixins:[o["a"],r["a"],l["a"],c["a"]],data:function(){return{listQuery:{subSystemName:"",ecuName:""},authouizeList:[],importVisible:!1,showfilter:!1,resultVisible:!1,importResult:{},tableList:[{value:"分系统名称",prop:"subSystemName",position:"center",checked:!0,width:220,fixed:"left"},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:80},{value:"车型配置",prop:"configLevel",position:"center",checked:!0,width:100},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:80}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],tableRow:{},listLoading:!1,addUpdateVisible:!1,templateVisible:!1,isEdit:!1,formInfo:{},ecuListVisible:!1,ecuClassId:"",carmodellist:[],actionWidth:0,actionFixed:""}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url||"import"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},mounted:function(){var t=this;Object(d["h"])().then((function(e){var i=e.data;0==i.code&&(t.carmodellist=i.data||[])}))},methods:{reloadList:function(t,e){t&&t.length>0?(this.importResult={successedCount:e.total,failedList:t&&t.map((function(t){return{name:Object.keys(t)[0],message:t[Object.keys(t)[0]]}}))},this.resultVisible=!0):(this.resultVisible=!1,this.importVisible=!1),this.listLoad()},createByTemplate:function(){this.templateVisible=!0},addTemplate:function(){this.listLoad()},hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(u["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.id===t.row.id&&(t.row.$index=i)})),this.tableRow=t.row},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleUpdate:function(t){this.tableRow=t,this.addUpdateVisible=!0,this.isEdit=!0,this.tableRow=x({},this.tableRow,{},this.list[this.tableRow.$index]),this.formInfo=x({},this.formInfo,{},this.tableRow)},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0,this.formInfo={}},handleDelete:function(t){var e=this;this.tableRow=t;var i={subSystemId:this.tableRow.id,subSystemName:this.tableRow.subSystemName};this.$confirm("是否删除".concat(this.tableRow.subSystemName,"分系统?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u["c"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}))}))})).catch((function(){}))},queryEcuList:function(t){this.tableRow=t,this.ecuClassId=t.id,this.ecuListVisible=!0}}},S=T,O=Object(w["a"])(S,a,n,!1,null,"7da66f87",null);e["default"]=O.exports},2754:function(t,e,i){"use strict";var a=i("ef4a"),n=i.n(a);n.a},2920:function(t,e,i){},"29f9":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-scrollbar",{staticStyle:{height:"calc(100% - 90px)"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("div",{staticClass:"js-input-control app-container"},[i("div",{staticClass:"ioconfig_list"},[i("div",{staticClass:"kzq"},[i("span",{staticClass:"kzq-title"},[t._v("控制区:")])]),i("el-tabs",{attrs:{type:"card"}},t._l(t.ioControlList,(function(e,a){return i("el-tab-pane",{key:a,attrs:{name:a+""},model:{value:t.activeModel,callback:function(e){t.activeModel=e},expression:"activeModel"}},[i("span",{staticClass:"deng-title",attrs:{slot:"label"},slot:"label"},[i("span",{staticClass:"light-bg"},[i("i",{class:"iconfont icon-"+t.iconList[a]})]),i("span",{staticClass:"tab-content"},[t._v(t._s(e.equipmentType))])]),i("div",[i("el-row",{attrs:{gutter:10}},t._l(e.equipmentSubtypeList,(function(a,n){return i("el-col",{key:n,staticStyle:{"padding-bottom":"17px"},attrs:{span:e.equipmentSubtypeList.length<3?24/e.equipmentSubtypeList.length:8}},[i("div",{staticClass:"control-setting"},[i("div",{staticClass:"control-title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a.equipmentSubtype)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"control-content"},[i("el-row",{attrs:{gutter:20}},t._l(a.equipmentName,(function(a,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px"},attrs:{span:e.equipmentSubtypeList.length>=3?a.equipmentName.length<=4?12:24:8}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"itemData.checked"}}),i("svg-icon",{attrs:{"icon-class":(a.state?"icon_io_success":"icon_io_default")+"_red"}}),i("span",[t._v(t._s(a.equipmentName)+": ")]),i("el-switch",{attrs:{"true-label":1,"false-label":0,"active-color":"#13ce66","inactive-color":"#8398ae"},model:{value:a.state,callback:function(e){t.$set(a,"state",e)},expression:"itemData.state"}})],1)})),1)],1)])])})),1)],1)])})),1),i("app-command-btn",{attrs:{slot:"footer",buttonList:[],showEmpty:!0},on:{"click-clear":t.handleClear},slot:"footer"})],1),i("div",{staticClass:"table-list"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,tableHeights:t.tableHeight,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"click-detail":t.queryResult,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["status"==e.item.prop?i("span",[i("el-tag",{attrs:{type:1==e.row.status?"success":0==e.row.status?"danger":2==e.row.status?"dark":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(1==e.row.status?"执行成功":0==e.row.status?"失败":2==e.row.status?"诊断中":"-")+"\n\t\t\t\t\t\t")])],1):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])})],1)])])},n=[],s=(i("c5f6"),i("75fc")),o=(i("ac6a"),i("fab6")),r=i("6d60"),l=i("babb"),c=i("7829"),u=i("0c56"),d=i("d10c"),p=i("d0a1"),h={name:"ioControl",doNotInit:!0,mixins:[o["a"],r["a"],l["a"],c["a"]],props:{vin:{type:String,default:""},authouizeList1:{type:Array}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},tableAction:function(){var t=[];return t=this.authouizeList1.filter((function(t){return"detail"===t.url})),t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{iconList:["icon_light_off","icon_direct_off","yuguaxidi","fuzhushebei","zhongkongmensuo"],tableList:[{value:"用户姓名",prop:"userName",position:"center",checked:!0,fixed:"left",width:140},{value:"操作时间",prop:"operateTime",position:"center",checked:!0,width:140},{value:"受控车辆",prop:"vin",position:"center",checked:!0,width:180},{value:"操作模块",prop:"operateModule",position:"center",checked:!0,width:120},{value:"分系统/ECU名称",prop:"subSysName",position:"center",checked:!0,width:140},{value:"任务状态",prop:"status",position:"center",checked:!0,width:100}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],total:0,vins:"",actionWidth:60,actionFixed:"right",listLoading:!1,carListVisible:!1,configList:[],ioControlList:[],carTypeId:"",activeModel:"1",carData:{}}},mounted:function(){this._getIoEquipment()},methods:{_getIoEquipment:function(){var t=this;Object(p["j"])({}).then((function(e){var i=e.data;0===i.code&&(t.ioControlList=i.data,t.ioControlList.forEach((function(e){e.equipmentSubtypeList.forEach((function(e){e.equipmentName.forEach((function(e){t.$set(e,"checked",!1),t.$set(e,"state",0)}))}))})))}))},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.vin};setTimeout((function(){Object(d["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},listLoad:function(){var t=this;console.log(this.vins),this.vins&&(this.listLoading=!0,Object(u["h"])({operateType:"10",vinNo:this.vins,pageSize:this.listQuery.pageSize,pageNum:this.listQuery.pageNum}).then((function(e){var i=e.data;t.listLoading=!1,0==i.code&&(console.log(i.data),t.list=i.data,t.total=i.total)})).catch((function(){t.listLoading=!1})))},queryResult:function(t){this.$parent.tableRow=t,this.$parent.digServiceId=t.token,this.$parent.digResultVisible=!0;var e=t.operateModule;e+="结果",this.$parent.digTitle=e},ioControlFn:function(){var t=this;this.listLoading=!0,Object(p["o"])({vin:this.vin,withParams:this.getParams()}).then((function(e){var i=e.data;405===i.code&&t.createSTask()})).finally((function(){t.listLoad(),t.listLoading=!1}))},getParams:function(){var t="",e=[];this.ioControlList.forEach((function(t,i){e.push([]),t.equipmentSubtypeList.forEach((function(t){var a;(a=e[i]).push.apply(a,Object(s["a"])(t.equipmentName.filter((function(t){return t.checked}))))}))}));var i=[];return e.forEach((function(t,e){i.push([]),t.forEach((function(t){i[e].push(t.id+":"+Number(t.state))}))})),i.map((function(t){return t.join(",")})).forEach((function(e){t+=e?e+";":"0:0;"})),t=t.slice(0,t.length-1),t},handleClear:function(){var t=this;this.vin="",this.ioControlList.forEach((function(e){e.equipmentSubtypeList.forEach((function(e){e.equipmentName.forEach((function(e){t.$set(e,"checked",!1),t.$set(e,"state",0)}))}))}))},handleFilter:function(){this.ioControlFn()}}},f=h,m=(i("8bba"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,null,null);e["default"]=b.exports},"2a00":function(t,e,i){},"2ab7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"诊断结果",width:"70%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"box-list box-container",attrs:{slot:"formContent"},slot:"formContent"},[i("div",{staticClass:"box1"},[i("div",[t._v("任务名称："+t._s(t.data.taskName))]),i("div",[t._v("诊断周期配置名称："+t._s(t.data.configName))]),i("div",[t._v("创建时间："+t._s(t.data.createdOn))]),i("div",[t._v("VIN码："+t._s(t.data.vinNo))])]),i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",rules:t.rules,model:t.listQuery,"label-width":"90px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"诊断内容：",prop:"content"}},[i("el-input",{attrs:{placeholder:"请输入诊断内容",clearable:""},model:{value:t.listQuery.content,callback:function(e){t.$set(t.listQuery,"content",e)},expression:"listQuery.content"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"次数序号："}},[i("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.listQuery.countNum,callback:function(e){t.$set(t.listQuery,"countNum",e)},expression:"listQuery.countNum"}},t._l(t.countNumOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间：",prop:"endTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!0,buttonName:"搜索",showEmpty:!1},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter},slot:"bottom"})],1),i("h4",[t._v("\n          诊断次数："+t._s(t.configData.dxCount)+" 诊断服务数："+t._s(t.configData.serviceCount)+"\n        ")]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!1},on:{"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)])},n=[],s=(i("8e6e"),i("456d"),i("bd86")),o=(i("6762"),i("ac6a"),i("fab6")),r=i("10aa"),l=i("babb"),c=i("1ad5"),u=i("2228"),d=i("f80b");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={name:"QuerySubTask",doNotInit:!0,mixins:[o["a"],r["a"],l["a"],c["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},subTaskId:{type:String,default:""},authouizeList:{type:Array,default:[]},data:{type:Object,default:{}}},filters:{switchText:function(t){return-1==t?"失效(被替换)":1==t?"待下发":2==t?"已下发":3==t?"执行中":4==t?"执行完成":"执行异常"}},watch:{visibles:{handler:function(t){t&&(this.clearData(),this._getConfigData())}}},data:function(){return{listQuery:{content:"",countNum:"",startTime:"",endTime:""},tableList:[{value:"次数序号",prop:"dxNum",position:"center",checked:!0,needMerge:!0,width:80},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!1,width:120},{value:"诊断内容",prop:"content",position:"center",checked:!0,needMerge:!1,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,needMerge:!1,width:200},{value:"诊断结果",prop:"result",position:"center",checked:!0,needMerge:!1,width:120},{value:"上报时间",prop:"responseTime",position:"center",checked:!0,needMerge:!1,width:120},{value:"异常描述",prop:"errorMessage",position:"center",checked:!0,needMerge:!1,width:120}],list:[],configData:{},listLoading:!1,rowECUName:"",tablerow:null,digResult:"已上报0周期，每周期执行0次，每次执行0个诊断服务",periodNumOptions:[],countNumOptions:[],rules:{},isFirst:!0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.subTaskId=this.subTaskId,this.listQuery.uploadTime=this.data.uploadTime,Object(u["e"])(this.listQuery).then((function(e){var i=e.data;t.list=[],0===i.code&&(t.isFirst&&(t.isFirst=!1,t.setCountNumOptions(parseInt(i.total/t.configData.serviceCount))),t.list=t.getNewData(i.data)),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},clearData:function(){this.periodNumOptions.length=0,this.countNumOptions.length=0,this.list=[]},rowClick:function(t){this.tablerow=t},closeDialog:function(){this.isFirst=!0,this.listQuery.countNum="",this.$emit("update:visibles",!1)},_getConfigData:function(){var t=this;Object(u["d"])({subTaskId:this.subTaskId}).then((function(e){var i=e.data;if(0===i.code){t.configData=i.data;var a=i.data;""!=a.uploadPeriodCount&&t.setPeriodNumOptions(a.uploadPeriodCount),t.setCountNumOptions(a.dxCount),t.digResult="已上报"+a.uploadPeriodCount+"周期，每周期执行"+a.dxCount+"次，每次执行"+a.serviceCount+"个诊断服务",a.uploadPeriodCount>0&&t.listLoad()}}))},setPeriodNumOptions:function(t){if(t>0)for(var e=1;e<=t;e++){var i={};i.value=e,i.label="第".concat(e,"周期"),this.periodNumOptions.push(i)}},setCountNumOptions:function(t){if(this.countNumOptions=[],t>0)for(var e=1;e<=t;e++){var i={};i.value=e,i.label=e,this.countNumOptions.push(i)}},handleFilter:function(){this.listLoad()},getNewData:function(t){var e=[],i=0,a={};return t.forEach((function(t){var n=!1;e.includes(t.dxNum)||(i=0,n=!0,e.push(t.dxNum)),i++,a.dxNum=i,t.isStartMultiRow=n})),t.forEach((function(t){t.isStartMultiRow&&(t.rowCount=a.dxNum)})),t},objectSpanMethod:function(t){var e=t.row,i=(t.column,t.rowIndex,t.columnIndex);if(0===i)return e.isStartMultiRow?{rowspan:e.rowCount,colspan:1}:{rowspan:0,colspan:0}},handleExport:function(){if(0!==this.list.length){var t=[];this.list.forEach((function(e){var i=h({},e);t.push(i)})),Object(d["a"])(this.getExportData("离线任务诊断结果",this.filterTableList,t))}else this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})}}},m=f,b=(i("4b3e"),i("2877")),g=Object(b["a"])(m,a,n,!1,null,"ea4c67ba",null);e["default"]=g.exports},"2c1d":function(t,e,i){t.exports=i.p+"assets/img/400.524bdaab.png"},"2c25":function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return l}));var a=i("b775");function n(t){return Object(a["a"])({url:"subsystem/getSubsystem",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"subsystem/updateSubsystem",method:"PUT",data:t})}function o(t){return Object(a["a"])({url:"subsystem/createSubsystem",method:"POST",data:t})}function r(t){return Object(a["a"])({url:"subsystem/deleteSubsystem",method:"DELETE",data:t})}function l(t){return Object(a["a"])({url:"/subsystem/createByTemplate",method:"POST",data:t})}},"2e33":function(t,e,i){"use strict";var a=i("7195"),n=i.n(a);n.a},"2f21":function(t,e,i){"use strict";var a=i("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},3061:function(t,e,i){"use strict";var a=i("f5c4"),n=i.n(a);n.a},"31a9":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return n})),i.d(e,"f",(function(){return s}));var a=i("b775");function n(t){return Object(a["a"])({url:"offlineConfig/createNewConfig",method:"post",data:t})}function s(t){return Object(a["a"])({url:"offlineConfig/updateNewConfig",method:"put",data:t})}function o(t){return Object(a["a"])({url:"offlineConfig/deleteConfig",method:"delete",data:t})}function r(t){return Object(a["a"])({url:"offlineConfig/getConfigList",method:"post",data:t})}function l(t){return Object(a["a"])({url:"offlineConfig/getConfigServiceList",method:"post",data:t})}function c(t){return Object(a["a"])({url:"offlineConfig/exportNewConfig",method:"post",responseType:"arraybuffer",data:t})}},"32a6":function(t,e,i){var a=i("241e"),n=i("c3a1");i("ce7e")("keys",(function(){return function(t){return n(a(t))}}))},3528:function(t,e,i){"use strict";i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return s})),i.d(e,"h",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"f",(function(){return d}));var a=i("b775");function n(t){return Object(a["a"])({url:"/role/list",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/role",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/role/".concat(t.roleId),method:"put",data:t})}function r(t){return Object(a["a"])({url:"/role/".concat(t.id),method:"delete",data:t})}function l(){return Object(a["a"])({url:"/role/function/get/all",method:"get"})}function c(t){return Object(a["a"])({url:"/role/function/get/set/".concat(t),method:"get"})}function u(){return Object(a["a"])({url:"/role/allRole",method:"GET"})}function d(t){return Object(a["a"])({url:"/role/getRoleByName",method:"POST",data:t})}},3580:function(t,e,i){"use strict";var a=i("8fe2"),n=i.n(a);n.a},"35b3":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("b775");function n(){return Object(a["a"])({url:"/function/list",method:"get"})}function s(t){return Object(a["a"])({url:"/function",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/function/".concat(t.id),method:"put",data:t.data})}function r(t){return Object(a["a"])({url:"/function/".concat(t.id),method:"delete"})}},3611:function(t,e,i){},"364c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,icon:"icon_import",title:"导入",width:"35%",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.submitForm}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"50px"}},[i("el-form-item",{attrs:{label:"文件：",prop:"fileName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{placeholder:"点击选择文件",clearable:"",maxlength:"20"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),i("el-col",{attrs:{span:2}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:{Authorization:t.token},action:"/api/diagnosis/offlineConfig/importNewConfig","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"on-success":t.handleSuccess,"on-error":t.handleError}},[i("el-button",{staticClass:"import-btn",attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("浏览")])],1)],1)],1)],1)],1)],1)])},n=[],s=(i("7f7f"),i("5c83")),o=i("10aa"),r=i("2228"),l=i("4360"),c={name:"ButtonAddUpdateDialog",directives:{elDragDialog:s["a"]},mixins:[o["a"]],props:{visibles:{type:Boolean,default:!1}},computed:{token:function(){return l["a"].getters.token}},watch:{visibles:{handler:function(t){this.fileName=""},immediate:!0}},data:function(){var t=this,e=function(e,i,a){if(!t.fileName)return a(new Error("请选择文件"))};return{formInfo:{},fileName:"",isError:!1,rules:{fileName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]}}},methods:{closeDialog:function(){this.$emit("update:visibles",!1)},submitForm:function(){var t=this.checkForm({formName:"form",formList:["fileName"]});t&&(-1!==this.fileName.indexOf(".xlsx")||-1!==this.fileName.indexOf(".xls")?this.isError?this.$message.warning({message:"请重新导入"}):this.$refs.upload.submit():this.$message.warning({message:"您选择的文件格式不正确！"}))},download:function(){Object(r["c"])()},handleChange:function(t){t.response&&t.response.code?this.isError=!0:(this.fileName=t.name,this.isError=!1)},handleSuccess:function(t,e){0===t.code?(this.$emit("upload-success",t.data),this.closeDialog()):this.$message.warning({message:t.message})},handleError:function(t,e){this.$message.warning("系统繁忙，请稍后再试")}}},u=c,d=(i("e2ee"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"887c7c92",null);e["default"]=p.exports},3895:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"数据流获取结果",width:"62.5%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"js-system-user app-container",attrs:{slot:"formContent"},slot:"formContent"},[i("div",{staticClass:"active-msg"},[t._v("    \n     "+t._s(t.activeMessage)+"\n   ")]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!0,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n           "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n         ")])]}}])})],1)])},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fab6"),r=i("6d60"),l=i("babb"),c=i("d0a1"),u=i("cf45");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={name:"ReadStreamDialog",mixins:[o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},faultParamList:{default:function(){return{}}},ecuId:{type:String,default:""}},watch:{visibles:{handler:function(t){t&&(this.list=[],this.activeMessage="通道连接成功，等待命令下发……",this.excuteCommand())}}},data:function(){return{timer:null,listQuery:{},showfilter:!1,tableList:[{value:"读取时间",prop:"st",position:"center",checked:!0,width:140},{value:"ECU",prop:"ecu",position:"center",checked:!0,width:120},{value:"读取内容",prop:"readcontent",position:"center",checked:!0,width:140},{value:"读取结果",prop:"result",position:"center",checked:!0,width:140},{value:"原始数据流",prop:"rawdata",position:"center",checked:!0,width:140},{value:"失败描述",prop:"nrcdes",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],listLoading:!1,activeMessage:"",websocketSendFinish:!1,tableRow:{}}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{excuteCommand:function(){var t=this,e=Object(u["c"])(),i=p({},this.faultParamList,{},{token:e});this.activeMessage="正在下发命令...",this.listLoading=!0,Object(c["r"])(i).then((function(e){var i=e.data;0===i.code?(t.activeMessage="命令下发成功，等待结果上报……",t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout((function(){t.activeMessage="等待结果已超时",t.listLoading=!1}),12e4)):t.activeMessage=i.message,t.listLoading=!1,t.$emit("reloadDigLog")})).catch((function(e){t.listLoading=!1,t.$emit("reloadDigLog")}))},listLoad:function(){},rowClick:function(t,e){this.tableRow=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]}}},f=h,m=(i("0874"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,"440b7db7",null);e["default"]=b.exports},"3b18":function(t,e,i){},"3b55":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.digTitle,width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-authorize-button",{attrs:{data:t.buttonList,showFilterButton:!1},on:{"click-export":t.handleExport}}),i("div",{},[i("app-table",{attrs:{slot:"table",tableHeights:t.tableHeight,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,actionWidth:t.actionWidth,actionFixed:t.actionFixed,isShowOperation:!1},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)])},n=[],s=i("c1fb"),o=i("fab6"),r=i("9190"),l=i("1ad5"),c=i("d0a1"),u={name:"queryDigResult",doNotInit:!0,mixins:[o["a"],s["a"],r["a"],l["a"]],computed:{filterTableList:function(){var t=0;switch(this.digType){case"15":t=0;break;case"16":t=1;break}return this.tableList[t].filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},digServiceId:{type:String,default:""},digTitle:{type:String,default:""},digType:{type:String,default:""},data:{type:Object,default:function(){}}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},buttonList:[{functionName:"导出",url:"export",icon:"export",iconType:2}],queryFaultParam:{},actionWidth:0,actionFixed:"false",detailVisible:!1,showfilter:!1,tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"软件版本号",prop:"wareVersion",position:"center",checked:!0,width:200},{value:"原始报文",prop:"content",position:"center",checked:!0,width:200},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}],[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"硬件版本号",prop:"wareVersion",position:"center",checked:!0,width:200},{value:"原始报文",prop:"content",position:"center",checked:!0,width:200},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}]],tableHeight:0,list:[],exportData:{},listLoading:!1,tableRow:{}}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.tableHeight=.6*window.innerHeight})),window.onresize=function(){e.$nextTick((function(){e.tableHeight=.6*window.innerHeight}))}},methods:{handleExport:function(){Object(c["e"])({token:this.digServiceId,vin:this.data.vin})},listLoad:function(){var t=this;this.listLoading=!0,Object(c["m"])({token:this.digServiceId,vin:this.data.vin}).then((function(e){var i=e.data;0===i.code&&(t.list=i.data),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"c868d45e",null);e["default"]=h.exports},"3c93":function(t,e,i){},"3cfc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAABoVJREFUeF7tXF1oHUUU/s7cG3Jze1u1JdpWrVqp1FKqoII+SVWqRCESw7IpWGgfK7QPovj3IPgH/jwooj6oD/EhZb0J5sEgKhbf/ClipdZiqdjW2tqo1DY/N2R3jpy6iTfJ3Z3de3dvknbndc+cOfPtnDNnzpwzhKzVRIAyXGoj0HRghoaGWiuVSmliYqLY0tJScF23VSmV11orEVEppbXWbj6fn5icnKy0traOFQqFkY6Ojolm/sTUgREgRkZGluVyuaXMXNJat9QzQaXUJBGNeJ53rlQqnU0bqFSAcRwnB2C5UmqF1npJPUCY+iilRrXWfwH427Isz0Qf93uiwAgguVxuFTO3T6lGXIHi0ovqEdGw53knkwQoMWD6+vpWE1G72Iu4k0uCXuwSMw/39PT8ngS/hoHp7e1dUigUrgHQloRACfAYr1QqR7dt2zbaCK+GgHEcZyWAKxsRIMW+JyzLOlUv/7qAkZ1mbGxsjdZ6Wb0DN6OfUupssVg8Vs8OFhsYx3FKSql19RpXZr6CiG4FsAGAqOBqAJcCKAAQecYBnAEgtuIogIPMvI+I/qgHTN8vOmxZ1kic/rGAcRznEq319UqpWP0ArCSiB5h5C4C1cQSsov2FiD4F8DEzn4zDQ2vNSqkjlmX9E7Vf5AkODg4uHR8fXxcHFGa+gYh2ALhLnNqoQhnoNIAvmPl9Ivo5Kk8Bp62t7XBnZ+e5KH0iAePblA0x1Gc5gF0A7vfVI4oscWlYVg+AN8TJi9JZ1KpYLB6MYnMiAVMul8WmRDK0zHwPET0NYGkUYROgOcfMLxDR51F4iUHu7u4+bKI1AhN1S5YzkFLqUQDdpkFT+t6vtX5VzlQR+Bu38lBgfOdtvWkgIioy88sAbjfRpvz9KyJ6nJnHTONUKpVDYU5gKDCO48iWGurRMnOBiN4CsMkkTJO+/8DMO4moYhhv3LKsg0E0gcA4jiMerXi2gc1XHzF+tzVp0lGH+UZrvTuCWp2yLOtELaY1gdm7d29+eHh4IwAJH4S1J+bRpphA6gfwkoHIa29vP7B582Z3Nl1NYPr6+q7O5XKXhzEloi3M/KJJuvn8TkRPMbM4hYHN87zTPT09x43ASExFa32TwZFrB+A0cUuuF19x5iwAw0EMfK94/+xYzpwV4ziOTHqNQZLnAdxXr7RN7vcJgGfCxszn88e7urpOV9PMAaZcLq8PC0cS0Xpm/iBFjzZp3JiIHmbmQyGrZsy27Z8CgfED12J0w9prAO5MWvqU+X0JQJzPwFYqlQ5UHxVmrBiTGhGRxHMHEzwQpozHNHvNzA8SUWDYc7Y6zQCmv79/red5lwVJy8w7iGhns2aT5DjM/C4RvROiTmds2z4y9X0GMOVyeZPh3udDANclKXATeR0D0BUCjGvb9v45wJjsix95k2P+Ym6dAGp6ujKp0dHRH7dv337+KDG9YgYGBla4rntt0Kz9CNyzixkVInrOt5E1p+G67tGtW7f+OQMYx3HEdxEfpmbzT63iLC3aRkSOHwUImsOwZVmicv+vmAjBqDcXQFih0Z/yNYBHgphUB7GmVWnPnj0blVKtISN/BOCqRiWb5/6/AXgwxABP2LZ9YLYq3Ww4TYuTlMoFfRPBkluCu6PsTNMrxnGcWwwC7mviBNIaSsKed4QAw7Ztfzd7xWTAaF0TmItBlc76d1xBi8azLOv7GSsmM76A1nqu8c226/P5f9N3TtXGN3PwgLkOXnYkAGoeCbJDZMAhUixxFnaoEXYQYC7kQBWA9wC8HeLcBQeqTKFNZpbMTDkzJZXrkpaHO5tvY6FNk53xR7sgg+HVQaoZDt4UxKbrE2a+kYh6L6rrEwHHpE4+gBffhVt2Rfvfr88u9aNe6gtaMdJAngTwULO2lpjjDAAwZWPESwPxbc1iThz6Vmu9K/HEoak/k6WaBazRLDkxRHljprM+FnYNGtNGxCUf0Fq/EkF9hG9j6axVTt+CToD2jexnUZBMLAFaBqszZX43gI4UPWRJmR8C8Pq8pcwLOFmRRbi9abQs594G0kh+JSLJp1tYZTlVW3hDhVx+7dL5Qi5mlkKuVX4hV9EfQ9LdpZDrJBFNF3IBqKuMrymFXFPgZKV/BjMfdSuPslukQGPcksPGNJblmATOyosNCGUF6eG7VvaEQdgCyh69MBkg32vOnkmJCJQ8rOO67hJJbQt7WEeyD/L5/OgF+bBOBKwWJEnD2/WCnFUCQv0LSRbMdKxh3fUAAAAASUVORK5CYII="},"3d7f":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/wholeNumberSetting/getWholeNumberSettingList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/wholeNumberSetting/createWholeNumberSetting",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/wholeNumberSetting/updateWholeNumberSetting",method:"put",data:t})}function r(t){return Object(a["a"])({url:"/wholeNumberSetting/deleteWholeNumberSetting",method:"delete",data:t})}},"3dac":function(t,e,i){"use strict";var a=i("88a7"),n=i.n(a);n.a},"3e7d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"任务名称："}},[i("el-input",{attrs:{placeholder:"请输入任务名称",clearable:""},model:{value:t.listQuery.taskName,callback:function(e){t.$set(t.listQuery,"taskName",e)},expression:"listQuery.taskName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"文件名称："}},[i("el-input",{attrs:{placeholder:"请输入文件名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"任务状态："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.taskStatus,callback:function(e){t.$set(t.listQuery,"taskStatus",e)},expression:"listQuery.taskStatus"}},t._l(t.statusList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.text,value:t.value}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["taskStatus"===e.item.prop?i("span",[i("el-tag",{attrs:{type:0==e.row[e.item.prop]?"success":"dark",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(0==e.row[e.item.prop]?"执行完成":"正在执行")+"\n\t\t\t\t\t")])],1):"resultCode"===e.item.prop?i("span",[i("el-tag",{attrs:{type:0==e.row[e.item.prop]?"success":1==e.row[e.item.prop]?"danger":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(0==e.row[e.item.prop]?"成功":1==e.row[e.item.prop]?"失败":"-")+"\n\t\t\t\t\t")])],1):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("e75f"),u=i("bbd7"),d={name:"emergencyWriteManage",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{taskName:"",fileName:"",taskStatus:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"任务名称",prop:"taskName",position:"center",checked:!0,width:100,fixed:"left"},{value:"VIN码",prop:"vin",position:"center",checked:!0,width:180},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"OTX文件",prop:"otxFile",position:"center",checked:!0,width:280},{value:"升级包文件",prop:"upgradeFile",position:"center",checked:!0,width:280},{value:"文件名称",prop:"fileName",position:"center",checked:!0,width:280},{value:"任务状态",prop:"taskStatus",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:100},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"执行结果",prop:"resultCode",position:"center",checked:!0,width:100},{value:"异常描述",prop:"exceptionMsg",position:"center",checked:!0,width:200}],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{},statusList:[{text:"进行中",value:"1"},{text:"已完成",value:"0"}]}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this,i={id:t.id,taskName:t.taskName};this.$confirm("确定要删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"6e0ad313",null);e["default"]=f.exports},"3f0f":function(t,e,i){},"3f42":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"82px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行车辆选择",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",readonly:""},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.listQuery.ecu,callback:function(e){t.$set(t.listQuery,"ecu",e)},expression:"listQuery.ecu"}})],1)],1),i("el-col",{staticClass:"tips",attrs:{span:6}},[i("span",[t._v(t._s(t.tipText))])])],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{"padding-top":"15px"},attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"存储路径：",prop:"addressA"}},[i("el-input",{attrs:{placeholder:"请输入存储路径",maxlength:"50"},model:{value:t.listQuery.addressA,callback:function(e){t.$set(t.listQuery,"addressA",e)},expression:"listQuery.addressA"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"存储长度：",prop:"addressB"}},[i("el-input",{attrs:{placeholder:"请输入存储长度",maxlength:"20"},model:{value:t.listQuery.addressB,callback:function(e){t.$set(t.listQuery,"addressB",e)},expression:"listQuery.addressB"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{buttonName:"执行命令",isCollapse:!1,showEmpty:!1},on:{"click-filter":t.handleFilter}})],1)]),i("app-authorize-button",{attrs:{data:t.authouizeList,showFilter:!1},on:{"click-export":t.handleExport}}),i("div",{staticClass:"report-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[i("el-table-column",{attrs:{type:"index",width:"50"}}),i("el-table-column",{attrs:{prop:"vin",label:"VIN"}}),i("el-table-column",{attrs:{prop:"resultcontent",label:"原始数据流"}}),i("el-table-column",{attrs:{prop:"resultcode",label:"负响应代码"}}),i("el-table-column",{attrs:{prop:"createon",label:"读取时间"}})],1)],1),i("app-car-list",{attrs:{visibles:t.carListVisible},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,carTypeId:t.carTypeId,type:"readLog"},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}})],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("75fc")),o=i("bd86"),r=i("d0a1"),l=i("530f"),c=i("dfc2"),u=i("2f62");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={name:"readLog",components:{AppCarList:l["a"],AppEcuList:c["a"]},computed:p({},Object(u["c"])(["toolBarButton"]),{str1:function(){return"诊断ECU："+this.listQuery.ecu}}),data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))},i=function(e,i,a){if(!t.listQuery.ecuId)return a(new Error("请点击选择ECU"))};return{listQuery:{vin:"",ecuId:"",ecu:"",resultStr:"",addressA:"",addressB:""},authouizeList:[],exportData:{},listLoading:!1,carListVisible:!1,ecuListVisible:!1,rules:{vin:[{required:!0,trigger:"change",validator:e}],ecu:[{required:!0,trigger:"change",validator:i}]},ecuList:"",isTableVisible:!1,carTypeId:"",serviceAddress:"2344",net:"",isShow:!1,list:[],interval:null,tipText:""}},beforeDestroy:function(){clearInterval(this.interval),this.list=[],this.tipText=""},mounted:function(){clearInterval(this.interval),this.list=[],this.tipText=""},methods:{handleExport:function(){},listLoad:function(){},selectCar:function(){this.carListVisible=!0},selectECU:function(){""!==this.carTypeId?(this.ecuListVisible=!0,this.listQuery.serviceName=""):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.carTypeId=t.carTypeId},loadECU:function(t){"1"===t.net?this.isShow=!0:this.isShow=!1,this.listQuery.ecu=t.ecuname,this.listQuery.ecuId=t.ecuid,this.ecuList=t,this.net=t.net},handleFilter:function(){var t=this;if(this.resultStr="",""!==this.listQuery.vin)if(""!==this.listQuery.ecu){"1"===this.net&&(this.serviceAddress=this.serviceAddress+this.listQuery.addressA+this.listQuery.addressB);var e={vin:this.listQuery.vin,ecuId:this.listQuery.ecuId,serviceAddress:this.serviceAddress};this.tipText="命令下发中……",this.isTableVisible=!0,this.exportData={},this.listLoading=!0,Object(r["u"])(e).then((function(e){var i=e.data;0===i.code?(t.listQuery.addressA="",t.listQuery.addressB="",t.isShow=!1,t.tipText="命令下发成功,数据上报中……",t.serviceAddress="2344",t.getList(JSON.parse(i.data))):(t.listLoading=!1,t.tipText="命令下发失败！")})).catch((function(e){t.tipText="命令下发失败！",t.listLoading=!1}))}else this.$alert("请先选择ecu","提示",{confirmButtonText:"确定"});else this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},qinkong:function(){console.log("清空"),clearInterval(this.interval)},getList:function(t){var e=this;console.log(t);var i=0;this.interval=setInterval((function(){var a={pageNum:1,pageSize:100,token:t.token};Object(r["k"])(a).then((function(t){var a=t.data;if(0===a.code){if(a.data){console.log(a);var n=[];n=Object(s["a"])(e.list),e.list=a.data,n.length==e.list.length?(i++,10==i&&(e.qinkong(),e.tipText="数据上报完毕")):i=0}else i++,10==i&&(e.qinkong(),e.tipText="暂无数据");e.listLoading=!1}else e.listLoading=!1,e.tipText="数据上报失败！",e.qinkong()})).catch((function(){e.listLoading=!1}))}),3e3)}}},f=h,m=(i("a215"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,"de8d19c2",null);e["default"]=b.exports},"3ff2":function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return l}));var a=i("b775");function n(t){return Object(a["a"])({url:"/carType/getList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/carType/createSupportCarType",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/carType/NoFileUpdateSupportCarTypePdx",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/carType/deleteSupportCarType",method:"delete",data:t})}function l(t){return Object(a["a"])({url:"/carType/getExportResultList",method:"post",data:t})}},4094:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{staticStyle:{width:"100%"},attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("vin-select",{attrs:{"is-vin":!0},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"文件类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.fileType,callback:function(e){t.$set(t.listQuery,"fileType",e)},expression:"listQuery.fileType"}},t._l(t.commontData.fileTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"文件名称："}},[i("el-input",{attrs:{placeholder:"请输入文件名称",clearable:""},model:{value:t.listQuery.sourceFileName,callback:function(e){t.$set(t.listQuery,"sourceFileName",e)},expression:"listQuery.sourceFileName"}})],1)],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"结束时间：",prop:"endTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"解析状态："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.isAnalysis,callback:function(e){t.$set(t.listQuery,"isAnalysis",e)},expression:"listQuery.isAnalysis"}},t._l(t.commontData.analysisStatus,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0,isTableNumber:!0},on:{"click-analysis":t.handleAnalysis,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["isAnalysis"===e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"55px"},attrs:{type:"0"==e.row.isAnalysis?"info":"1"==e.row.isAnalysis?"success":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.commontData.analysisStatus.find((function(t){return t.value==e.row[e.item.prop]})).label)+"\n\t\t\t\t\t")])],1):"analysisState"===e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"70px"},attrs:{type:0===e.row.analysisState?"info":1===e.row.analysisState?"success":-1===e.row.analysisState?"danger":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.commontData.analysisStatus1.find((function(t){return t.value==e.row[e.item.prop]})).label)+"\n\t\t\t\t\t")])],1):"type"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(t.commontData.fileTypeList.find((function(t){return t.value==e.row[e.item.prop]})).label)+"\n\t\t\t\t")]):"sourceFileName"==e.item.prop?i("span",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载文件",placement:"top"}},[i("a",{staticClass:"vinNo",attrs:{href:e.row["sourceFileAddress"]}},[t._v(t._s(e.row[e.item.prop]))])])],1):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}},{key:"tableOperation",fn:function(e){return t._l(t.tableAction,(function(a,n){return i("el-tooltip",{key:n,staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:a.functionName,placement:"top"}},[0==e.row["type"]?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleAnalysis(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e()])}))}}])})],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fab6"),r=i("6d60"),l=i("c1fb"),c=i("7829"),u=i("b775");function d(t){return Object(u["a"])({url:"/downloadLog/list",method:"post",data:t})}function p(t){return Object(u["a"])({url:"/downloadLog/analysis",method:"post",data:t})}var h=i("2f62");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"fullDataAnalysis",components:{},filters:{},props:{tboxTableRow:{type:Object,default:function(){}}},mixins:[o["a"],r["a"],l["a"],c["a"]],data:function(){return{listQuery:{fileType:"",vin:"",sourceFileName:"",isAnalysis:"",startTime:"",endTime:""},fileType:null,showfilter:!1,listLoading:!1,authouizeList:[],tableHeight:0,total:0,list:[],tableRow:{},actionWidth:0,actionFixed:"right",tableList:[{value:"VIN码",prop:"vinNo",position:"center",width:160,checked:!0,fixed:"left"},{value:"文件名称",prop:"sourceFileName",position:"center",width:330,checked:!0},{value:"是否解析",prop:"isAnalysis",position:"center",width:80,checked:!0},{value:"解析后文件名",prop:"analysisFileName",position:"center",width:350,checked:!0},{value:"文件接收时间",prop:"fileTime",position:"center",width:140,checked:!0},{value:"接收时间",prop:"receiveTime",position:"center",width:140,checked:!0},{value:"解析时间",prop:"analysisTime",position:"center",width:140,checked:!0},{value:"解析状态",prop:"analysisState",position:"center",width:100,checked:!0},{value:"解析人员",prop:"loginName",position:"center",width:120,checked:!0},{value:"文件类型",prop:"type",position:"center",width:120,checked:!0}]}},watch:{},computed:m({},Object(h["c"])(["commontData"]),{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return[]},tableAction:function(){var t=this.authouizeList.filter((function(t){return"analysis"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}}),mounted:function(){var t=this.tboxTableRow.vin;this.listQuery.fileType="1",this.listQuery.vin=t},methods:{handleAnalysis:function(t){var e=this,i={id:t.id,userId:this.$store.state.user.userInfo.userId,fileName:t.sourceFileName};p(i).then((function(t){var i=t.data;0===i.code&&e.$message.success({message:"解析成功",duration:2e3})}))},listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):(this.listLoading=!0,d(this.listQuery).then((function(e){var i=e.data;t.list=[],0===i.code&&(t.list=i.data,t.total=i.total,t.tableRow={}),t.listLoading=!1})).catch((function(){t.listLoading=!1})))}}},g=b,v=i("2877"),y=Object(v["a"])(g,a,n,!1,null,"93bf4b04",null);e["default"]=y.exports},"40aa":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("44ef"),n=i("dee4"),s={methods:{validInput:function(t,e,i){var s;if(s=t.formObjName?e||this[t.formObjName][t.fullField]:e,t.required&&t.selection&&!(0===s?s+"":s)||t.required&&!t.selection&&!s)return i(new Error(t.tips));if(t.ruleReg&&void 0!=s&&null!=s&&""!=s&&!a["a"][t.ruleReg].test(s))return i(new Error(t.errorTips?t.errorTips:t.tips));if(t.digitalpoint&&!a["a"].digitalpoint.test(s))return i(new Error("请输入数字"));if(t.timeFrame&&s&&s.length&&2==s.length&&!Object(n["a"])(s[0],s[1]))return i(new Error("选择的时间范围不能超过90天"));if(t.nowTimeCheck&&s&&new Date(s).getTime()>Date.now())return i(new Error("选择的时间不能大于当前时间"));if(s&&t.tel&&!a["a"].tel.test(s))return i(new Error("请输入正确的电话号码"));if(t.newEnergyVehicle&&void 0!=s&&null!=s&&""!=s&&!a["a"].newEnergyVehicle.test(s))return i(new Error("请输入正确的车牌号"));if(s&&t.mail&&!a["a"].mail.test(s))return i(new Error("请输入格式正确的邮箱"));if(t.idCard&&!a["a"].idCard.test(s))return i(new Error("请输入格式正确的身份证号码"));if(t.vinno&&!a["a"].vinno.test(s))return i(new Error("请输入17位的字母或数字"));if(t.caralias&&!a["a"].caralias.test(s))return i(new Error("请输入18位的字母或数字"));if(t.fuelCarAlias&&!a["a"].fuelCarAlias.test(s))return i(new Error("第7位只能是B/C/E/U/M/P，其余为字母或数字"));if(t.iccid&&!a["a"].iccid.test(s))return i(new Error("请输入20位的字母、数字"));if(t.alphanumeric&&!a["a"].alphanumeric.test(s))return i(new Error("请输入数字或字母"));if(t.capitalNumber&&!a["a"].capitalNumber.test(s))return i(new Error("请输入数字或大写字母"));if(t.chinese&&!a["a"].chinese.test(s))return i(new Error(t.supportTips));if(t.space&&!a["a"].space.test(s))return i(new Error(t.supportTips));if(t.decimalNumber)if(t.required){if(!a["a"].decimalNumber.test(s))return i(new Error("只能输入小数和整数"))}else if(void 0!=s&&null!=s&&""!=s&&!a["a"].decimalNumber.test(s))return i(new Error("只能输入小数和整数"));if(t.DNumber)if(t.required){if(!a["a"].DNumber.test(s))return i(new Error("只能输入数字和小数点"))}else if(void 0!=s&&null!=s&&""!=s&&!a["a"].DNumber.test(s))return i(new Error("只能输入数字和小数点"));return t.number&&!a["a"].number.test(s)?i(new Error("只能输入数字")):t.Znumber&&!a["a"].Znumber.test(e)?i(new Error("请输入正整数")):t.terminalcode&&!a["a"].terminalcode.test(e)?i(new Error("请输入开头不为0的8位数字")):t.barcode&&!a["a"].barcode.test(e)?i(new Error("请输入以A027E00428为首的30位或29位字符")):s&&t.isLength&&s.length>t.isLength?i(new Error(t.tips+"不能超过"+t.isLength+"个字符")):t.isLengths&&s.length!=t.isLengths?i(new Error("必须为"+t.isLengths+"个字符")):t.CLength&&0==s.length?i(new Error(tips)):void 0}}}},4124:function(t,e,i){t.exports=i.p+"assets/img/yellow_finish.16631cbf.png"},4130:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:t.title,width:"80.5%",top:"4vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("writeData",{attrs:{carObj:t.data,ecuObj:t.ecuData,systemObj:t.systemData}})],1)])},n=[],s=i("141b"),o={name:"writeInPartsDialog",components:{writeData:s["default"]},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},ecuData:{type:Object,default:function(){return{}}},systemData:{type:Object,default:function(){return{}}}},data:function(){return{title:"写入零部件"}},mounted:function(){},methods:{closeDialog:function(){this.$emit("update:visibles",!1)}}},r=o,l=(i("7ae6"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"55b82dad",null);e["default"]=c.exports},"415f":function(t,e,i){"use strict";var a=i("9a91"),n=i.n(a);n.a},"41a3":function(t,e,i){},"43d0":function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return c}));var a=i("b775");function n(t){return Object(a["a"])({url:"/TbusLog/getTbusTask",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/TbusLog/createTbusTask",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/TbusLog/deleteTbusTask",method:"delete",data:t})}function r(t){return Object(a["a"])({url:"/TbusLog/downloadTbusTaskLogFile",method:"post",responseType:"arraybuffer",data:t})}function l(t){return Object(a["a"])({url:"/TbusLog/getTbusTaskLogFile",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/TbusLog/stopTbusLog",method:"post",data:t})}},"452e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAG0ElEQVR4Xu1cSWxVZRT+zn9v5xYRLB2ZOtDaFAqKia4cg0ZJJGrYuWGJCSyMxGlhomLisJAYdaEudIeB6AJD0KjsHJpCSy20fW3K0IkiATrRvnfPMT9Q6GvfHd57975Weu/2nv+c83/3P8N//vNfQvgkRIBCXBIjkHFgumtqcmLmZGEsKvkxUbmKojmsTFMJK60ik2LFsRhL1pRJfN3MogkzljdWG4lMZfIjBg6MBmIUY8tM4iJS2YUSs7JSmSCZRlR4eiwmarQIhdeCBioQYA4CRk1N6QpTqZWwpCAVIFzHGDQeY/43Ehm6vBOwXOmTJPAVGA1IXU1FmUCKlcgN0wj6YSIm0EhnpH/QT4B8A6albnV5tnAxW2wGDUYi/spQsWlSIw90nh/wQ37awLRuKimwJmitKZTnh0Lp8oiRTBr5crapbXg8HV5pAdO+rriUDbMiHQWCGqusWH9j38hQqvxTAkZHmjG+vsYga1mqgjMxzhLjWqHKPZdKBEsamPaG4sLYdFZtys7VMEqYeSsBDSCsBVBOwHIBcgEQAZMCXAEwAMFZATqUUs2wrOFUwNTO2cyOdjd2jIwlMz4pYJqrqu7JUpPVJEhqnKVUqQJvB9Q2QKqSUfAOLfUCfEygjijmwWR4CEGinNeztbf3qtdxnid4pu6+oikrqzYZUETRBgC7ADwBwK/wzQB+BfANsXR5nagGJ8eIdtd3Xhr1MsYTMNqnjGOiwav5kKIVDOwB8Jw2Dy+KpEAjAI4o4ICwXPYyXptVAfI7vPgcT0qfqKqs9exoiZ4SwlsAirwo6wPNKAneh8gvXnhph7yl90K3G60rMF5DspDKAvGrAL3kJjSY93QIgo9JOOrG30sodwRGJ280rurdBImBfAh9COBhN9qA3/8Bkn1kYcJNjhTwGack0BGYlprSBreM1jIpVzE+B7DJTZkMvW9jhd1GTK47ydMZ8gORoQ47GltgTm6orFCWVerEXJsPEQ4I5KEMTdqjGPkLova6mRUbxtDmrgv9iZgmBOa3x2Au769oNJgNR2AUXl84n+KGER0i5g+cqCylrCsV/e2P/47YXLqEwJyqLl8tkFWOoBjYBqH9buot6HuSN8nCMScdCHRxY8/AeVdgbtZUypqcEjkBiqHoYAZDcqr4joJlJwEjdgx04tcZGWydW8uZt2JaakqLTaE1zquF3oPgmVS1zeg4wlGy5G3H+YDPN/UMX5xNMw+Ytg3l9Y7lSEK9EH0XYEbrN25CIi9DcMY2AilMbOwePG0LjE79J2W80dnhqk8AedRv7YPlR8eJdfJp/+RRQfvsrULcinEzI1aqjCA/+rghDBaPO9wZgh0kYlv2lDnmFAdMW+2qKrBxr62jMmgXBLszNRtf5Qi+IpEvbc2JzCsbI+d7Zt7HAXOqrnKT07mPKPoewHpfFc4cs3PE8oKdOF1Mb+zqb50HjKt/MYwSET6SuXkEIEnwPIkkzHS1tCIr55/1fX03thK3V8zp+oqV0Sivs4/3tB2EdwJQN2MsCXgXfMNHJnymDTq7tWvgUhww7VXla5ik2FZLg/aJYGfGZhGAICIchCW6CpDwUUIjjb0D5+KAcStGiaLPFkFZIU245E9ivGLHZHYR67YptVaXNBJUjq0pKfoBQGWami308AvEssN2juCppp7h9vgVU1ux2Wk3LYqOAwjmgD5zcF0llie9RKbbK6atuuxBJ/1EUXPm9A9MUpRYHrEPMJCmyGBL3IoJgQH0TnseMCeWgCkRcA0s+owr4aMLV1u6+0/GrZjQ+QKS0Pm6nB0t2XAdJnhAwgQv3BIACbcE4SbSZhOpPXFYdkhQdtDA3NWFKsLXZMkXdqGanApVbqVNISoHQe+Z/Op1CSzFncM4vdKmq58BIOruLIbPLlLFJXgzCLsdnzDhfiL6dkkdn2hw3MxJ04ixBA/cwiPam7YTHup7PdTXaHlvA1FvAPJipkJLcnLoMDE7dmMk3QaiFfg/Nw4R6G8R7PG9cWjmy4StZjZrNGxOdDDe5NpZ8RpgfwyanI9IlpoOQ/CRm/lormm3s86o5nbmFDeFBWiAFsF+JfKzFyh9a4DWwlJpmRdgrwDPBpghCwE/EfDpgrXMa3DCSxYO6zH9azn0dBptJH2AHF1013Jm8Er3IteNu0siW0mhQUTWAlR26yJX/q1UfOLmRS4ZJKKzwuhgomaDOaVrfBm5yDUDTnj1z8XNew3lXqKF3zReQrKTTNdrOW4Kh9eLXRAKL6Q7ABT+wsBl9YQ/vXBzQLey5vA3KR6B0j/WsaalIAqV4/RjnSzwlJFN43flj3U8YLUoSdIO14tyVj4o9R9c2Ph0SiZ5XQAAAABJRU5ErkJggg=="},4646:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"任务名称：","label-width":"80px"}},[i("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.taskName,callback:function(e){t.$set(t.listQuery,"taskName",e)},expression:"listQuery.taskName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"诊断周期配置名称：","label-width":"130px"}},[i("el-input",{attrs:{placeholder:"请输入诊断配置名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.configName,callback:function(e){t.$set(t.listQuery,"configName",e)},expression:"listQuery.configName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码：","label-width":"60px"}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"创建人：","label-width":"60px"}},[i("el-input",{attrs:{placeholder:"请输入创建人",clearable:""},model:{value:t.listQuery.createdBy,callback:function(e){t.$set(t.listQuery,"createdBy",e)},expression:"listQuery.createdBy"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"click-end":t.handleEnd,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["taskName"===e.item.prop?i("span",{staticClass:"vinNo",on:{click:function(i){return t.handleClick(e.row)}}},[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")]):"state"===e.item.prop?i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop])))]):"progress"===e.item.prop?i("span",[i("el-progress",{attrs:{percentage:t._f("getProcess")(e.row[e.item.prop])}})],1):"createdBy"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}},{key:"tableOperation",fn:function(e){return t._l(t.tableAction,(function(a,n){return i("el-tooltip",{key:n,staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:a.functionName,placement:"top"}},["delete"===a.url?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleDelete(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),"end"===a.url&&1==e.row.state?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleEnd(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e()])}))}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}}),i("query-sub-task",{attrs:{visibles:t.querySubTaskVisible,taskId:t.taskId,data:t.tableRow,authouizeList:t.componentAuthouizeList},on:{"update:visibles":function(e){t.querySubTaskVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("2228"),u=i("528a"),d=i("ba40"),p={name:"taskSetting",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"],querySubTask:d["default"]},filters:{switchText:function(t){switch(t){case 1:return"正常";case 2:return"被替换";case 3:return"已完成"}},getProcess:function(t){return 1*t}},watch:{},data:function(){return{listQuery:{taskName:"",configName:"",vin:"",createdBy:""},authouizeList:[],actionWidth:0,actionFixed:"",componentAuthouizeList:[],showfilter:!1,tableList:[{value:"任务名称",prop:"taskName",position:"center",checked:!0,width:200,fixed:"left"},{value:"诊断周期配置名称",prop:"configName",position:"center",checked:!0,width:200},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:90},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"任务开始时间",prop:"taskStart",position:"center",checked:!0,width:140},{value:"有效截止时间",prop:"taskEnd",position:"center",checked:!0,width:140},{value:"诊断车辆数量",prop:"subTaskCount",position:"center",checked:!0,width:100},{value:"下发进度",prop:"progress",position:"center",checked:!0,width:110},{value:"任务状态",prop:"state",position:"center",checked:!0,width:80},{value:"下发完成数",prop:"completedCount",position:"center",checked:!0,width:90}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,querySubTaskVisible:!1,taskId:"",isEdit:!1,tableRow:{},buttonList:[]}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"end"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},mounted:function(){},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(c["g"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleEnd:function(t){var e=this;this.tableRow=t,this.$confirm("是否结束该离线任务?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["h"])({id:e.tableRow.id}).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"结束成功"}),e.listLoad())}))})).catch((function(){}))},handleDelete:function(t){var e=this;this.tableRow=t;var i={taskId:this.tableRow.id,taskName:this.tableRow.taskName};this.$confirm("是否删除".concat(this.tableRow.taskName,"离线任务?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))},handleClick:function(t){this.querySubTaskVisible=!0,this.taskId=t.id}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,null,null);e["default"]=m.exports},4797:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",icon:"icon_ecu",width:"65%",top:"5vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuname,callback:function(e){t.$set(t.listQuery,"ecuname",e)},expression:"listQuery.ecuname"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap"},[i("p",{staticStyle:{position:"relative",left:"14px",top:"19px"}},[t._v("已选择： "+t._s(this.selectList.length)+"个")]),i("app-authorize-button",{on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{staticStyle:{"margin-bottom":"10px"},attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{ref:"historyTable",attrs:{slot:"table",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,tableHeights:t.tableHeight-70,rowKey:"id",isShowOperation:!1,isPagination:!0},on:{"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=i("75fc"),o=(i("20d6"),i("ac6a"),i("fab6")),r=i("6d60"),l=i("c1fb"),c=i("dee4"),u=i("f80b"),d={doNotInit:!0,name:"selectEcuDialog",mixins:[o["a"],r["a"],l["a"]],props:{visibles:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},carTypeData:{type:Object,default:function(){return{}}}},filters:{},data:function(){return{listQuery:{ecuname:""},showfilter:!1,tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:140},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:140},{value:"接受地址",prop:"responseAddress",position:"center",checked:!0,width:140},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],batchCodeList:[],carTypeList:[],tableHeight:0,total:0,list:[],listLoading:!1,selectList:[],confirmSelect:[],changdu:0,actionWidth:0,actionFixed:"right"}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},watch:{visibles:{handler:function(t){var e=this;t&&(this.list=[],this.listLoad(),this.$nextTick((function(){e.toggleSelection(e.data)})))}}},mounted:function(){},methods:{toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.historyTable.refTable().toggleRowSelection(t,!0)})):this.$refs.historyTable.refTable().clearSelection()},closeDialog:function(){this.listQuery={ecuname:"",pageNum:1,pageSize:10},this.selectList=[],this.$emit("update:visibles",!1)},listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.carType=this.carTypeData.id,Object(u["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowSelect:function(t,e){var i=this.selectList.findIndex((function(t){return t.id===e.id}));i>-1?this.selectList.splice(i,1):this.selectList.push(e),this.changdu=t.length},selectAll:function(t){var e=this;if(this.changdu>t.length)for(var i=function(t){var i=e.selectList.findIndex((function(i){return i.id===e.list[t].id}));i>-1&&e.selectList.splice(i,1)},a=0;a<this.list.length;a++)i(a);else for(var n=0;n<this.list.length;n++)this.selectList.push(this.list[n]);this.changdu=t.length,this.selectList=Object(c["b"])(Object(s["a"])(this.selectList),"vinNo")},clickRow:function(t){var e=t.row,i=this.selectList.findIndex((function(t){return t.id===e.id}));i>-1?this.selectList.splice(i,1):this.selectList.push(e),this.changdu=this.selectList.length},handleSelectionChange:function(t){this.selectList=t},handleConfirm:function(){this.listQuery.ecuname="",this.listQuery.pageNum=1,this.$emit("carECU",this.selectList),this.closeDialog()}}},p=d,h=(i("8adb"),i("2877")),f=Object(h["a"])(p,a,n,!1,null,"3ecee086",null);e["default"]=f.exports},"47a1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-drawer",{attrs:{visibles:t.visibles,title:0===t.isEdit?"新增用户":1===t.isEdit?"编辑用户":2===t.isEdit?"分配角色":3===t.isEdit?"分配车辆":4===t.isEdit?"查看用户":"",width:"800px",isDrawerFoot:!1},on:{"close-drawer":t.closeDrawer}},[a("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[a("el-scrollbar",{staticStyle:{"padding-bottom":"10px"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[t.isReset?a("div",[0===t.isEdit||1===t.isEdit||4===t.isEdit?a("div",{staticClass:"stepTop"},[a("div",{staticClass:"stepTopItem"},[a("div",{staticClass:"itemLeft"},[0!=t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("0c33")("./"+t.activeName+"/addUser.png")}}):t._e(),0==t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("4a26")("./"+t.activeName+"/addUser_active.png")}}):t._e(),a("i",{staticClass:"iconfont icon-step1 min"}),a("p",{class:0==t.active?"activeTitle":""},[t._v(t._s(0===t.isEdit?"新增用户信息":1===t.isEdit?"编辑用户信息":4===t.isEdit?"用户信息":""))])]),1!=t.q.isAdmin||t.q.isAdmin&&4!==t.isEdit?a("div",{staticClass:"itemRight"},[t._v("--------------------------")]):t._e()]),t.isAdminFc?a("div",{staticClass:"stepTopItem"},[a("div",{staticClass:"itemLeft"},[1!=t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("0c33")("./"+t.activeName+"/addUser.png")}}):t._e(),1==t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("4a26")("./"+t.activeName+"/addUser_active.png")}}):t._e(),a("i",{staticClass:"iconfont icon-step2 min"}),a("p",{class:1==t.active?"activeTitle":""},[t._v(t._s(4===t.isEdit?"菜单权限":"分配菜单权限"))])]),a("div",{staticClass:"itemRight"},[t._v("--------------------------")])]):t._e(),t.isAdminFc?a("div",{staticClass:"stepTopItem"},[a("div",{staticClass:"itemLeft"},[2!=t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("0c33")("./"+t.activeName+"/addUser.png")}}):t._e(),2==t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("4a26")("./"+t.activeName+"/addUser_active.png")}}):t._e(),a("i",{staticClass:"iconfont icon-step3 min"}),a("p",{class:2==t.active?"activeTitle":""},[t._v(t._s(4===t.isEdit?"车辆权限":"分配车辆权限"))])]),4!==t.isEdit?a("div",{staticClass:"itemRight"},[t._v("--------------------------")]):t._e()]):t._e(),4!==t.isEdit?a("div",{staticClass:"stepTopItem"},[a("div",{staticClass:"itemLeft"},[3!=t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("0c33")("./"+t.activeName+"/addUser.png")}}):t._e(),3==t.active?a("img",{staticStyle:{width:"34px"},attrs:{src:i("4a26")("./"+t.activeName+"/addUser_active.png")}}):t._e(),a("i",{staticClass:"iconfont icon-step4 min"}),a("p",{class:3==t.active?"activeTitle":""},[t._v(t._s(0===t.isEdit?"查看创建结果":1===t.isEdit?"查看编辑结果":""))])])]):t._e()]):t._e(),a("Step1",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active==0"}],attrs:{active:t.active,q:t.q,isEdit:t.isEdit,reLoad:t.reLoad},on:{"update:active":function(e){t.active=e},"update:q":function(e){t.q=e},closeDrawer:t.closeDrawer,"update:reLoad":function(e){t.reLoad=e},"update:re-load":function(e){t.reLoad=e}}}),a("Step2",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active==1"}],attrs:{active:t.active,q:t.q,isEdit:t.isEdit,reLoad:t.reLoad},on:{"update:active":function(e){t.active=e},"update:q":function(e){t.q=e},addUpdateClose:t.addUpdateClose,closeDrawer:t.closeDrawer,"update:reLoad":function(e){t.reLoad=e},"update:re-load":function(e){t.reLoad=e}}}),a("Step3",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active==2"}],attrs:{active:t.active,q:t.q,isEdit:t.isEdit,reLoad:t.reLoad},on:{"update:active":function(e){t.active=e},"update:q":function(e){t.q=e},addUpdateClose:t.addUpdateClose,closeDrawer:t.closeDrawer,"update:reLoad":function(e){t.reLoad=e},"update:re-load":function(e){t.reLoad=e}}}),a("Step4",{directives:[{name:"show",rawName:"v-show",value:3==t.active,expression:"active==3"}],attrs:{q:t.q,isEdit:t.isEdit},on:{"update:q":function(e){t.q=e},addUpdateClose:t.addUpdateClose}})],1):t._e()])],1)])},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=(i("c5f6"),i("57dd")),r=i("15cb"),l=i("1522"),c=i("584c");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"addUser",components:{Step1:o["default"],Step2:r["default"],Step3:l["default"],Step4:c["default"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Number,default:0},data:{type:Object,default:function(){}}},computed:{isAdminFc:function(){return!this.q.isAdmin},activeName:function(){return this.$store.state.theme.activeName}},data:function(){return{isReset:!0,reLoad:{step1:1,step2:1,step3:1},active:0,q:{email:"",loginName:"",mobile:"",userType:0,isAdmin:0,expiredTime:"",isSmsLoginVerif:0,roleIdList:[],userIdList:[],batchIdList:[],carIdList:[],userCarList:[]}}},watch:{visibles:{handler:function(t){t&&this.isEdit&&(this.active=2===this.isEdit?1:3===this.isEdit?2:0,this.q=JSON.parse(JSON.stringify(d({},this.data))),console.log(this.q))}}},created:function(){},mounted:function(){},methods:{addUpdateClose:function(){this.closeDrawer(),this.$emit("userComplete")},closeDrawer:function(){this.active=0,this.q.email="",this.q.loginName="",this.q.mobile="",this.q.userType=0,this.q.isAdmin=0,this.q.expiredTime="",this.q.isSmsLoginVerif=0,this.q.roleIdList=[],this.q.userIdList=[],this.q.batchIdList=[],this.q.carIdList=[],this.q.userCarList=[],this.reLoad.step1=1,this.reLoad.step2=1,this.reLoad.step3=1,this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDrawer()}}},h=p,f=(i("bea5"),i("2877")),m=Object(f["a"])(h,a,n,!1,null,"ebb333c4",null);e["default"]=m.exports},"47ba":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAABoVJREFUeF7tXF1oHUUU/s7cG3Jze1u1JdpWrVqp1FKqoII+SVWqRCESw7IpWGgfK7QPovj3IPgH/jwooj6oD/EhZb0J5sEgKhbf/ClipdZiqdjW2tqo1DY/N2R3jpy6iTfJ3Z3de3dvknbndc+cOfPtnDNnzpwzhKzVRIAyXGoj0HRghoaGWiuVSmliYqLY0tJScF23VSmV11orEVEppbXWbj6fn5icnKy0traOFQqFkY6Ojolm/sTUgREgRkZGluVyuaXMXNJat9QzQaXUJBGNeJ53rlQqnU0bqFSAcRwnB2C5UmqF1npJPUCY+iilRrXWfwH427Isz0Qf93uiwAgguVxuFTO3T6lGXIHi0ovqEdGw53knkwQoMWD6+vpWE1G72Iu4k0uCXuwSMw/39PT8ngS/hoHp7e1dUigUrgHQloRACfAYr1QqR7dt2zbaCK+GgHEcZyWAKxsRIMW+JyzLOlUv/7qAkZ1mbGxsjdZ6Wb0DN6OfUupssVg8Vs8OFhsYx3FKSql19RpXZr6CiG4FsAGAqOBqAJcCKAAQecYBnAEgtuIogIPMvI+I/qgHTN8vOmxZ1kic/rGAcRznEq319UqpWP0ArCSiB5h5C4C1cQSsov2FiD4F8DEzn4zDQ2vNSqkjlmX9E7Vf5AkODg4uHR8fXxcHFGa+gYh2ALhLnNqoQhnoNIAvmPl9Ivo5Kk8Bp62t7XBnZ+e5KH0iAePblA0x1Gc5gF0A7vfVI4oscWlYVg+AN8TJi9JZ1KpYLB6MYnMiAVMul8WmRDK0zHwPET0NYGkUYROgOcfMLxDR51F4iUHu7u4+bKI1AhN1S5YzkFLqUQDdpkFT+t6vtX5VzlQR+Bu38lBgfOdtvWkgIioy88sAbjfRpvz9KyJ6nJnHTONUKpVDYU5gKDCO48iWGurRMnOBiN4CsMkkTJO+/8DMO4moYhhv3LKsg0E0gcA4jiMerXi2gc1XHzF+tzVp0lGH+UZrvTuCWp2yLOtELaY1gdm7d29+eHh4IwAJH4S1J+bRpphA6gfwkoHIa29vP7B582Z3Nl1NYPr6+q7O5XKXhzEloi3M/KJJuvn8TkRPMbM4hYHN87zTPT09x43ASExFa32TwZFrB+A0cUuuF19x5iwAw0EMfK94/+xYzpwV4ziOTHqNQZLnAdxXr7RN7vcJgGfCxszn88e7urpOV9PMAaZcLq8PC0cS0Xpm/iBFjzZp3JiIHmbmQyGrZsy27Z8CgfED12J0w9prAO5MWvqU+X0JQJzPwFYqlQ5UHxVmrBiTGhGRxHMHEzwQpozHNHvNzA8SUWDYc7Y6zQCmv79/red5lwVJy8w7iGhns2aT5DjM/C4RvROiTmds2z4y9X0GMOVyeZPh3udDANclKXATeR0D0BUCjGvb9v45wJjsix95k2P+Ym6dAGp6ujKp0dHRH7dv337+KDG9YgYGBla4rntt0Kz9CNyzixkVInrOt5E1p+G67tGtW7f+OQMYx3HEdxEfpmbzT63iLC3aRkSOHwUImsOwZVmicv+vmAjBqDcXQFih0Z/yNYBHgphUB7GmVWnPnj0blVKtISN/BOCqRiWb5/6/AXgwxABP2LZ9YLYq3Ww4TYuTlMoFfRPBkluCu6PsTNMrxnGcWwwC7mviBNIaSsKed4QAw7Ztfzd7xWTAaF0TmItBlc76d1xBi8azLOv7GSsmM76A1nqu8c226/P5f9N3TtXGN3PwgLkOXnYkAGoeCbJDZMAhUixxFnaoEXYQYC7kQBWA9wC8HeLcBQeqTKFNZpbMTDkzJZXrkpaHO5tvY6FNk53xR7sgg+HVQaoZDt4UxKbrE2a+kYh6L6rrEwHHpE4+gBffhVt2Rfvfr88u9aNe6gtaMdJAngTwULO2lpjjDAAwZWPESwPxbc1iThz6Vmu9K/HEoak/k6WaBazRLDkxRHljprM+FnYNGtNGxCUf0Fq/EkF9hG9j6axVTt+CToD2jexnUZBMLAFaBqszZX43gI4UPWRJmR8C8Pq8pcwLOFmRRbi9abQs594G0kh+JSLJp1tYZTlVW3hDhVx+7dL5Qi5mlkKuVX4hV9EfQ9LdpZDrJBFNF3IBqKuMrymFXFPgZKV/BjMfdSuPslukQGPcksPGNJblmATOyosNCGUF6eG7VvaEQdgCyh69MBkg32vOnkmJCJQ8rOO67hJJbQt7WEeyD/L5/OgF+bBOBKwWJEnD2/WCnFUCQv0LSRbMdKxh3fUAAAAASUVORK5CYII="},"48a7":function(t,e,i){"use strict";var a=i("a77f"),n=i.n(a);n.a},"48f3":function(t,e,i){},"4a26":function(t,e,i){var a={"./blue/addUser_active.png":"c643d","./green/addUser_active.png":"ba0d","./red/addUser_active.png":"452e"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="4a26"},"4ad4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"选择诊断服务",width:"60%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.serviceName,callback:function(e){t.$set(t.listQuery,"serviceName",e)},expression:"listQuery.serviceName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务别名："}},[i("el-input",{attrs:{placeholder:"请输入服务别名",clearable:"",maxlength:"20"},model:{value:t.listQuery.aliasName,callback:function(e){t.$set(t.listQuery,"aliasName",e)},expression:"listQuery.aliasName"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"ECU",isShowTitle:!0,icon:"icon_ecu_title",data:t.rowDigServiceEcu}}),i("app-message",{attrs:{title:"诊断服务",isShowTitle:!0,icon:"icon_ecu_title",data:t.rowDigService}}),i("app-table",{ref:"multiTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,selectionData:t.selectionDataList,tableHeights:t.tableHeight-70},on:{"row-click":t.rowClick,select:t.rowSelect,"select-all":t.selectAll,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)])},n=[],s=(i("20d6"),i("ac6a"),i("75fc")),o=i("fab6"),r=i("babb"),l=i("9190"),c=i("dee4"),u=i("d0a1"),d={doNotInit:!1,name:"selectMultiDigService",mixins:[o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},propServiceList:{type:Array,default:function(){return[]}},ecuList:{default:function(){return{}}},ecuClassId:{type:String,default:""},digType1:{type:String,default:""}},filters:{},watch:{visibles:function(t){t&&(void 0!==this.ecuList.ecuname&&void 0!==this.ecuList.ecuid||(this.isShowTitle=!1,this.tableList[0].checked=!0),this.listQuery.pageNum=1,this.serviceList=Object(s["a"])(this.propServiceList),this.listLoad(),this.rowDigServiceEcu=this.ecuList.ecuname)}},data:function(){return{listQuery:{ecuId:""},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!1},{value:"服务名称",prop:"serviceName",position:"center",checked:!0},{value:"服务别名",prop:"aliasName",position:"center",checked:!0},{value:"指令内容",prop:"content",position:"center",checked:!0}],total:0,list:[],listLoading:!1,rowDigService:"",rowDigServiceEcu:"",tablerow:null,serviceList:[],serviceIdList:[],cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),isShowTitle:!0,selectionDataList:[],getRowKeys:function(t){return t.id},changdu:0}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuId=this.ecuList.ecuid,this.listQuery.ecuClassId=this.ecuList.ecuClassId,Object(u["l"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.$nextTick((function(){t.rowDigService="已选中"+t.serviceList.length+"个";for(var e=function(e){t.serviceList.forEach((function(i){t.list[e].id===i.id&&t.$refs.multiTable.refTable().toggleRowSelection(t.list[e],!0)}))},i=0;i<t.list.length;i++)e(i)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowSelect:function(t,e){var i=this.serviceList.findIndex((function(t){return t.id===e.id}));i>-1?this.serviceList.splice(i,1):this.serviceList.push(e),this.changdu=t.length,this.rowDigService="已选中"+this.changdu+"个"},selectAll:function(t){var e=this;if(console.log(t,"selection"),this.changdu>t.length)for(var i=function(t){var i=e.serviceList.findIndex((function(i){return i.id===e.list[t].id}));i>-1&&e.serviceList.splice(i,1)},a=0;a<this.list.length;a++)i(a);else for(var n=0;n<this.list.length;n++)this.serviceList.push(this.list[n]);this.changdu=t.length,this.rowDigService="已选中"+this.changdu+"个",this.serviceList=Object(c["b"])(Object(s["a"])(this.serviceList),"id")},rowClick:function(t){var e=t.row,i=this.serviceList.findIndex((function(t){return t.id===e.id}));i>-1?this.serviceList.splice(i,1):this.serviceList.push(e),this.changdu=this.serviceList.length,this.rowDigService="已选中"+this.changdu+"个"},handleConfirm:function(){if(this.serviceList!==[]){var t=Object(s["a"])(this.serviceList);t.length>45&&"12"===this.digType1?this.$alert("最多只能选择45个诊断服务","提示",{confirmButtonText:"确定"}):(this.$emit("setDigService",t),this.closeDialog())}else this.$alert("请选中诊断服务","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.selectionDataList=[],this.serviceList=[],this.$emit("update:visibles",!1),this.handleClear()}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"46bec4aa",null);e["default"]=f.exports},"4adb":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuname,callback:function(e){t.$set(t.listQuery,"ecuname",e)},expression:"listQuery.ecuname"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中ECU",isShowTitle:!0,icon:"icon_select_subsystem",data:t.rowECUName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("c5f6"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c={name:"SelectECUDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""},state:{type:Number,default:0},data:{type:Object,default:{}},configLevel:{type:String|Number},carTypeId:{type:String,default:""}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.rowECUName="",this.tableRow={},this.data.ecuid&&(this.rowECUName=this.data.ecuname,this.tableRow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:100},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"波特率",prop:"canbaudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"requestCanId",position:"center",checked:!0,width:120},{value:"接受地址",prop:"responseCanId",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!1,width:140}],total:0,list:[],listLoading:!1,rowECUName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuClassId=this.ecuClassId,this.listQuery.state=this.state,this.configLevel&&(this.listQuery.configLevel=this.configLevel),this.listQuery.carTypeId=this.carTypeId,Object(l["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.ecuid&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.rowECUName=t.row.ecuName,this.tableRow=t.row},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){if(null!==this.tableRow){var t={ecuname:this.tableRow.ecuName,ecuid:this.tableRow.id};this.$emit("carECU",t),this.closeDialog()}else this.$alert("请选中ECU","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"fb9a9b7c",null);e["a"]=p.exports},"4b14":function(t,e,i){},"4b1c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"设置参数权限",width:"45%",top:"10vh",isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.submitForm}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{slot:"formContent"},slot:"formContent"},[i("el-scrollbar",{staticStyle:{"padding-bottom":"10px"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("el-tree",{ref:"tree",attrs:{data:t.treeData,"expand-on-click-node":!1,"default-expand-all":!0,"default-checked-keys":t.defaultCheckedKeys,"node-key":"id","show-checkbox":""}})],1)],1),i("span",{attrs:{slot:"footerButton"},slot:"footerButton"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:t.closeDialog}},[t._v("取 消")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",loading:t.isBtn},on:{click:t.submitForm}},[t._v("确 定")])],1)])},n=[],s=i("75fc"),o=(i("6b54"),i("ac6a"),i("c0c7")),r={name:"SetParamDialog",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{treeData:[],defaultCheckedKeys:[],isLoading:!1,isBtn:!1}},watch:{visibles:function(t){var e=this;if(t){var i={dbcId:this.data.dbcId};this.isLoading=!0,Object(o["n"])(i).then((function(t){var i=t.data;if(0===i.code){e.treeData=i.data;var a={dbcId:e.data.dbcId,userId:e.data.userId};e._getRightDbcParamList(a)}})).catch((function(){e.isLoading=!1}))}}},methods:{_getRightDbcParamList:function(t){var e=this;this.defaultCheckedKeys=[],Object(o["p"])(t).then((function(t){var i=t.data;if(0===i.code){var a=i.data||[];e.filterCheckedKeys(e.treeData,a)}})).catch((function(){e.isLoading=!1}))},filterCheckedKeys:function(t,e){var i=this;t.forEach((function(t){for(var a=0;a<e.length;a++)t.id===e[a].toString()&&(i.defaultCheckedKeys=[].concat(Object(s["a"])(i.defaultCheckedKeys),[e[a]]));t.children&&t.children.length>0&&i.filterCheckedKeys(t.children,e)})),this.isLoading=!1},submitForm:function(){var t=this;this.isBtn=!0;var e=this.$refs.tree.getCheckedKeys(!0),i={dbcId:this.data.dbcId,userId:this.data.userId,varIds:e};Object(o["z"])(i).then((function(e){var i=e.data;t.isBtn=!1,0===i.code&&(t.$emit("add-complete"),t.closeDialog())})).catch((function(){t.isBtn=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.treeData=[]}}},l=r,c=(i("05c0"),i("2877")),u=Object(c["a"])(l,a,n,!1,null,"44776b98",null);e["default"]=u.exports},"4b3b":function(t,e,i){var a={"./authorizationManage":"5f2ea","./authorizationManage/":"5f2ea","./authorizationManage/components/detailDialog":"f15b","./authorizationManage/components/detailDialog.vue":"f15b","./authorizationManage/index":"5f2ea","./authorizationManage/index.vue":"5f2ea","./carmodel":"60e0","./carmodel/":"60e0","./carmodel/index":"60e0","./carmodel/index.vue":"60e0","./caronline":"01dd","./caronline/":"01dd","./caronline/index":"01dd","./caronline/index.vue":"01dd","./dbc":"c540","./dbc/":"c540","./dbc/components/addUpdateDialog":"1201","./dbc/components/addUpdateDialog.vue":"1201","./dbc/components/detailDialog":"16da","./dbc/components/detailDialog.vue":"16da","./dbc/index":"c540","./dbc/index.vue":"c540","./diagnosis":"0dba","./diagnosis/":"0dba","./diagnosis/index":"0dba","./diagnosis/index.vue":"0dba","./digLog":"e10c","./digLog/":"e10c","./digLog/components/printReport":"c037","./digLog/components/printReport.vue":"c037","./digLog/components/queryCommand":"e095","./digLog/components/queryCommand.vue":"e095","./digLog/components/queryDigResult":"62ec","./digLog/components/queryDigResult.vue":"62ec","./digLog/index":"e10c","./digLog/index.vue":"e10c","./ecuLog":"a0cd","./ecuLog/":"a0cd","./ecuLog/components/selectCarDialog":"e28f","./ecuLog/components/selectCarDialog.vue":"e28f","./ecuLog/index":"a0cd","./ecuLog/index.vue":"a0cd","./emergencyWriteManage":"3e7d","./emergencyWriteManage/":"3e7d","./emergencyWriteManage/components/addUpdateDialog":"bbd7","./emergencyWriteManage/components/addUpdateDialog.vue":"bbd7","./emergencyWriteManage/index":"3e7d","./emergencyWriteManage/index.vue":"3e7d","./errorPage/404":"fde5","./errorPage/404.vue":"fde5","./errorPage/500":"8e0b","./errorPage/500.vue":"8e0b","./errorreason":"505e","./errorreason/":"505e","./errorreason/index":"505e","./errorreason/index.vue":"505e","./fault":"bd92","./fault/":"bd92","./fault/index":"bd92","./fault/index.vue":"bd92","./faultCode":"ffe2","./faultCode/":"ffe2","./faultCode/components/addUpdateDialog":"ce90","./faultCode/components/addUpdateDialog.vue":"ce90","./faultCode/index":"ffe2","./faultCode/index.vue":"ffe2","./faultCodeManagement":"7fde","./faultCodeManagement/":"7fde","./faultCodeManagement/components/addUpdateDialog":"0dec","./faultCodeManagement/components/addUpdateDialog.vue":"0dec","./faultCodeManagement/components/resultDialog":"510f","./faultCodeManagement/components/resultDialog.vue":"510f","./faultCodeManagement/index":"7fde","./faultCodeManagement/index.vue":"7fde","./fullDataAnalysis":"4094","./fullDataAnalysis/":"4094","./fullDataAnalysis/index":"4094","./fullDataAnalysis/index.vue":"4094","./function":"1da0","./function/":"1da0","./function/components/addUpdateDialog":"5d4a","./function/components/addUpdateDialog.vue":"5d4a","./function/index":"1da0","./function/index.vue":"1da0","./home":"7abe","./home/":"7abe","./home/components/homeBread":"a4e2","./home/components/homeBread.vue":"a4e2","./home/components/homeCard":"4107","./home/components/homeCard.vue":"4107","./home/components/homeCore":"4c18","./home/components/homeCore.vue":"4c18","./home/index":"7abe","./home/index.vue":"7abe","./ioControl":"8894","./ioControl/":"8894","./ioControl/index":"8894","./ioControl/index.vue":"8894","./layout":"162e","./layout/":"162e","./layout/components":"38e2","./layout/components/":"38e2","./layout/components/AppMain":"177e","./layout/components/AppMain.vue":"177e","./layout/components/Sidebar":"30c6","./layout/components/Sidebar/":"30c6","./layout/components/Sidebar/Item":"b2c3","./layout/components/Sidebar/Item.vue":"b2c3","./layout/components/Sidebar/Link":"6c84","./layout/components/Sidebar/Link.vue":"6c84","./layout/components/Sidebar/SidebarItem":"e9ca","./layout/components/Sidebar/SidebarItem.vue":"e9ca","./layout/components/Sidebar/index":"30c6","./layout/components/Sidebar/index.vue":"30c6","./layout/components/TagsView":"1a47","./layout/components/TagsView.vue":"1a47","./layout/components/footFixed":"fef2","./layout/components/footFixed.vue":"fef2","./layout/components/index":"38e2","./layout/components/index.js":"38e2","./layout/index":"162e","./layout/index.vue":"162e","./lifecycleLog":"2118","./lifecycleLog/":"2118","./lifecycleLog/index":"2118","./lifecycleLog/index.vue":"2118","./login":"9ed62","./login/":"9ed62","./login/components/forgetPassword":"3a37","./login/components/forgetPassword.vue":"3a37","./login/components/msgCheck":"2cfb","./login/components/msgCheck.vue":"2cfb","./login/identifying":"a8c6","./login/identifying.vue":"a8c6","./login/index":"9ed62","./login/index.vue":"9ed62","./loginLog":"f188","./loginLog/":"f188","./loginLog/index":"f188","./loginLog/index.vue":"f188","./navigationAll":"e0e5","./navigationAll/":"e0e5","./navigationAll/index":"e0e5","./navigationAll/index.vue":"e0e5","./odx":"f7c8","./odx/":"f7c8","./odx/components/addUpdateDialog":"d590","./odx/components/addUpdateDialog.vue":"d590","./odx/index":"f7c8","./odx/index.vue":"f7c8","./offlineConfig":"9e57","./offlineConfig/":"9e57","./offlineConfig/components/addUpdateDialog":"1983","./offlineConfig/components/addUpdateDialog.vue":"1983","./offlineConfig/components/queryService":"1105","./offlineConfig/components/queryService.vue":"1105","./offlineConfig/index":"9e57","./offlineConfig/index.vue":"9e57","./online":"68dc","./online copy":"0ef3d","./online copy/":"0ef3d","./online copy/components/queryDigResult":"756d","./online copy/components/queryDigResult.vue":"756d","./online copy/components/readFaultListDialog":"c3db","./online copy/components/readFaultListDialog.vue":"c3db","./online copy/components/readFreezeFrameDialog":"9cad","./online copy/components/readFreezeFrameDialog.vue":"9cad","./online copy/components/readStreamDialog":"3895","./online copy/components/readStreamDialog.vue":"3895","./online copy/components/seeDetailDrawer":"df38","./online copy/components/seeDetailDrawer.vue":"df38","./online copy/components/selectZhenduanServiceDialog":"d9b8","./online copy/components/selectZhenduanServiceDialog.vue":"d9b8","./online copy/components/versionDialog":"7341","./online copy/components/versionDialog.vue":"7341","./online copy/components/viewSolutionDialog":"e800","./online copy/components/viewSolutionDialog.vue":"e800","./online copy/components/writeInPartsDialog":"d61f","./online copy/components/writeInPartsDialog.vue":"d61f","./online copy/index":"0ef3d","./online copy/index.vue":"0ef3d","./online/":"68dc","./online/components/ioControl":"29f9","./online/components/ioControl.vue":"29f9","./online/components/printReport":"4f3a","./online/components/printReport.vue":"4f3a","./online/components/queryActionDigResult":"838a","./online/components/queryActionDigResult.vue":"838a","./online/components/queryDigResult":"8b05","./online/components/queryDigResult.vue":"8b05","./online/components/readFreezeFrameDialog":"8b66","./online/components/readFreezeFrameDialog.vue":"8b66","./online/components/seeDetailDrawer":"5fe2","./online/components/seeDetailDrawer.vue":"5fe2","./online/components/selectZhenduanServiceDialog":"4ad4","./online/components/selectZhenduanServiceDialog.vue":"4ad4","./online/components/viewSolutionDialog":"4b7d","./online/components/viewSolutionDialog.vue":"4b7d","./online/components/writeInPartsDialog":"4130","./online/components/writeInPartsDialog.vue":"4130","./online/index":"68dc","./online/index.vue":"68dc","./operLog":"2582","./operLog/":"2582","./operLog/index":"2582","./operLog/index.vue":"2582","./operationLog":"7dca","./operationLog/":"7dca","./operationLog/index":"7dca","./operationLog/index.vue":"7dca","./otx":"6dd7","./otx/":"6dd7","./otx/components/addUpdateDialog":"0007","./otx/components/addUpdateDialog.vue":"0007","./otx/components/selectCarTypeDialog":"d9a7","./otx/components/selectCarTypeDialog.vue":"d9a7","./otx/components/selectEcuDialog":"838f","./otx/components/selectEcuDialog/":"838f","./otx/components/selectEcuDialog/index":"838f","./otx/components/selectEcuDialog/index.vue":"838f","./otx/index":"6dd7","./otx/index.vue":"6dd7","./otxSend":"5033","./otxSend/":"5033","./otxSend/index":"5033","./otxSend/index.vue":"5033","./rdCarManage":"9f90","./rdCarManage/":"9f90","./rdCarManage/components/addUpdateDialog":"d4e7","./rdCarManage/components/addUpdateDialog.vue":"d4e7","./rdCarManage/index":"9f90","./rdCarManage/index.vue":"9f90","./readCarStream":"f5db","./readCarStream/":"f5db","./readCarStream/index":"f5db","./readCarStream/index.vue":"f5db","./readFault":"042f","./readFault/":"042f","./readFault/index":"042f","./readFault/index.vue":"042f","./readVersion":"3f42","./readVersion/":"3f42","./readVersion/index":"3f42","./readVersion/index.vue":"3f42","./redirect":"ef3c","./redirect/":"ef3c","./redirect/index":"ef3c","./redirect/index.vue":"ef3c","./role":"6c35","./role/":"6c35","./role/components/addUpdateDialog":"a4bb","./role/components/addUpdateDialog.vue":"a4bb","./role/index":"6c35","./role/index.vue":"6c35","./securityLib":"6b21","./securityLib/":"6b21","./securityLib/components/addUpdateDialog":"e85a","./securityLib/components/addUpdateDialog.vue":"e85a","./securityLib/components/importDialog":"efe2","./securityLib/components/importDialog.vue":"efe2","./securityLib/components/selectEcuDialog":"d03d","./securityLib/components/selectEcuDialog/":"d03d","./securityLib/components/selectEcuDialog/index":"d03d","./securityLib/components/selectEcuDialog/index.vue":"d03d","./securityLib/index":"6b21","./securityLib/index.vue":"6b21","./subsystem":"25e6","./subsystem/":"25e6","./subsystem/components/addUpdateDialog":"7961","./subsystem/components/addUpdateDialog.vue":"7961","./subsystem/components/createByTemplateDialog":"090e","./subsystem/components/createByTemplateDialog.vue":"090e","./subsystem/components/multiSelectEcuDialog":"4797","./subsystem/components/multiSelectEcuDialog copy":"ab59","./subsystem/components/multiSelectEcuDialog copy.vue":"ab59","./subsystem/components/multiSelectEcuDialog.vue":"4797","./subsystem/components/queryEcuDialog":"5ef7","./subsystem/components/queryEcuDialog.vue":"5ef7","./subsystem/components/selectCarTypeDialog":"a2d2","./subsystem/components/selectCarTypeDialog.vue":"a2d2","./subsystem/index":"25e6","./subsystem/index.vue":"25e6","./subsystemTemplate":"10c9","./subsystemTemplate/":"10c9","./subsystemTemplate/components/addUpdateDialog":"91f1","./subsystemTemplate/components/addUpdateDialog.vue":"91f1","./subsystemTemplate/index":"10c9","./subsystemTemplate/index.vue":"10c9","./supportCarType":"f134","./supportCarType/":"f134","./supportCarType/components/addUpdateDialog":"e1f0","./supportCarType/components/addUpdateDialog.vue":"e1f0","./supportCarType/components/fileDetailDialog":"f36a","./supportCarType/components/fileDetailDialog.vue":"f36a","./supportCarType/index":"f134","./supportCarType/index.vue":"f134","./taskSetting":"4646","./taskSetting/":"4646","./taskSetting/components/addUpdateDialog":"528a","./taskSetting/components/addUpdateDialog.vue":"528a","./taskSetting/components/importDialog":"364c","./taskSetting/components/importDialog.vue":"364c","./taskSetting/components/queryResult":"2ab7","./taskSetting/components/queryResult.vue":"2ab7","./taskSetting/components/querySubTask":"ba40","./taskSetting/components/querySubTask.vue":"ba40","./taskSetting/components/selectCycleConfig":"915f","./taskSetting/components/selectCycleConfig.vue":"915f","./taskSetting/index":"4646","./taskSetting/index.vue":"4646","./tboxLog":"f7a9","./tboxLog/":"f7a9","./tboxLog/components/fullDataAnalysisDrawer":"a818","./tboxLog/components/fullDataAnalysisDrawer.vue":"a818","./tboxLog/components/logDialog":"8154","./tboxLog/components/logDialog.vue":"8154","./tboxLog/index":"f7a9","./tboxLog/index.vue":"f7a9","./tbus":"2389","./tbus/":"2389","./tbus/components/addUpdateDialog":"eca5","./tbus/components/addUpdateDialog.vue":"eca5","./tbus/components/dbcDetailDialog":"ee1f","./tbus/components/dbcDetailDialog.vue":"ee1f","./tbus/components/detailDialog":"f9a7","./tbus/components/detailDialog.vue":"f9a7","./tbus/index":"2389","./tbus/index.vue":"2389","./upgradePackageManage":"739e","./upgradePackageManage/":"739e","./upgradePackageManage/components/addUpdateDialog":"c0a3","./upgradePackageManage/components/addUpdateDialog.vue":"c0a3","./upgradePackageManage/index":"739e","./upgradePackageManage/index.vue":"739e","./user":"e382","./user/":"e382","./user/components/DBC":"0982","./user/components/DBC/":"0982","./user/components/DBC/components/setParamDialog":"4b1c","./user/components/DBC/components/setParamDialog.vue":"4b1c","./user/components/DBC/index":"0982","./user/components/DBC/index.vue":"0982","./user/components/MES":"adfa","./user/components/MES/":"adfa","./user/components/MES/index":"adfa","./user/components/MES/index.vue":"adfa","./user/components/addUser":"47a1","./user/components/addUser/":"47a1","./user/components/addUser/index":"47a1","./user/components/addUser/index.vue":"47a1","./user/components/addUser/step1":"57dd","./user/components/addUser/step1.vue":"57dd","./user/components/addUser/step2":"15cb","./user/components/addUser/step2.vue":"15cb","./user/components/addUser/step3":"1522","./user/components/addUser/step3.vue":"1522","./user/components/addUser/step4":"584c","./user/components/addUser/step4.vue":"584c","./user/index":"e382","./user/index.vue":"e382","./vehicleNumberSetting":"8b89","./vehicleNumberSetting/":"8b89","./vehicleNumberSetting/components/addUpdateDialog":"7ac7","./vehicleNumberSetting/components/addUpdateDialog.vue":"7ac7","./vehicleNumberSetting/index":"8b89","./vehicleNumberSetting/index.vue":"8b89","./versionNumber":"133d","./versionNumber/":"133d","./versionNumber/components/queryDigResult":"3b55","./versionNumber/components/queryDigResult.vue":"3b55","./versionNumber/index":"133d","./versionNumber/index.vue":"133d","./writeData":"141b","./writeData/":"141b","./writeData/index":"141b","./writeData/index.vue":"141b"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="4b3b"},"4b3e":function(t,e,i){"use strict";var a=i("1282"),n=i.n(a);n.a},"4b7d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"解决方案",width:"55%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("el-form",{ref:"formCenter",attrs:{model:t.formInfo,"label-position":"right","label-width":"70px"}},[i("el-form-item",{attrs:{label:"方案内容："}},[i("el-input",{attrs:{type:"textarea",maxlength:"50",rows:"4","show-word-limit":"",resize:"none",readonly:""},model:{value:t.result.solution,callback:function(e){t.$set(t.result,"solution",e)},expression:"result.solution"}})],1)],1)],1)])},n=[],s=i("d0a1"),o={name:"viewSolutionDialog",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},vinNo:{type:String,default:""}},watch:{visibles:{handler:function(t){t&&(this.result="",this.content1=this.data.content||"",this._getFaultSolution(this.data))},immediate:!0}},data:function(){return{formInfo:{},result:{},content1:""}},methods:{_getFaultSolution:function(t){var e=this,i={faultCode:t.result,vinNo:this.vinNo,ecuName:t.ecuName};Object(s["i"])(i).then((function(t){var i=t.data;0===i.code&&(e.result=i.data)}))},closeDialog:function(){this.$emit("update:visibles",!1)}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"3292ed16",null);e["default"]=c.exports},"4d39":function(t,e,i){"use strict";var a=i("cbe1"),n=i.n(a);n.a},"4dad":function(t,e,i){},"4f3a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"打印诊断报告结果",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("div",{staticClass:"box1 otherDrawerBox"},[i("div",[t._v("\n\t\t\t\t诊断车辆： "+t._s(t.obj.vinNo||"-")+"；诊断ECU： "+t._s(t.obj.ecu||"-")+"\n\t\t\t")]),i("div",[t._v("\n\t\t\t\t故障码数量： "+t._s(t.obj.dCountZ||"0")+" ；读取数量：\n\t\t\t\t"+t._s(t.obj.readCount||"0")+"\n\t\t\t")])]),i("app-authorize-button",{attrs:{data:t.buttonList,showFilterButton:!1},on:{"click-export":t.handleExport}}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.reportList,"max-height":t.tableHeight,"span-method":t.objectSpanMethod,"header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"title",label:"整车信息功能分区",align:"center","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"content",label:"参数名称",align:"center","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"result",label:"数据来源",align:"center","show-overflow-tooltip":!0}})],1)],1)])},n=[],s=(i("8e6e"),i("456d"),i("75fc")),o=(i("ac6a"),i("bd86")),r=i("c1fb"),l=i("fab6"),c=i("9190"),u=i("1ad5"),d=i("0c56");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={name:"printReport",mixins:[l["a"],r["a"],c["a"],u["a"]],props:{visibles:{type:Boolean,default:!1},digServiceId:{type:String,default:""},queryFaultParamList:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},data:function(){return{listQuery:{},showfilter:!1,list:[],obj:{},buttonList:[{functionName:"导出",url:"export",icon:"export",iconType:2}],exportData:{},reportList:[],listLoading:!1,tableRow:{},reportVisible:!1}},methods:{handleExport:function(){Object(d["b"])({vin:this.data.vin,ecuName:this.data.ecuName,token:this.data.token})},objectSpanMethod:function(t){var e=t.row,i=(t.column,t.rowIndex,t.columnIndex);if(0===i)return"基本信息"===e.title?{rowspan:5,colspan:1}:"故障信息"===e.title?{rowspan:this.obj.dCount,colspan:1}:"参数信息"===e.title?{rowspan:this.obj.readCount,colspan:1}:{rowspan:0,colspan:0}},listLoad:function(){var t=this;this.listLoading=!0,Object(d["i"])(h({token:this.digServiceId},this.queryFaultParamList)).then((function(e){var i=e.data;if(0===i.code){t.exportData={};var a=[],n=i.data[0];t.obj=n,console.log(n),n.result&&(a=JSON.parse(n.result),t.setReport(a)),t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.data={},this.reportList=[]},setReport:function(t){var e=t.dtcList||[],i=t.readList||[],a=e.length,n=i.length;this.obj.dCount=a+1,this.obj.dCountZ=a,this.obj.readCount=n;var o="";o=e[0]&&e[0]["ecuName"],e.unshift({title:"故障信息",content:"车辆故障总数",dtcNameChinese:"车辆故障总数",result:"车辆故障总数",ecuName:a}),e[0].title="故障信息",n>0&&(o=i[0]&&i[0]["ecuName"],i[0].title="参数信息"),this.obj.ecu=o,this.exportData={vin:this.obj.vinNo,ecuName:o,dtcCount:a,readCount:n,dtcList:e,readList:i};var r=[{title:"基本信息",content:"车辆vin号",result:this.obj.vinNo},{content:"车型配置",result:this.obj.carTypeName},{content:"车辆颜色",result:"-"},{content:"车辆车牌号",result:"-"},{content:"销售4S店",result:"-"}];e.forEach((function(t){t.content=t.result,t.result=t.ecuName})),this.reportList=[].concat(r,Object(s["a"])(e),Object(s["a"])(i))},cellContentStyle:function(t){t.row;return"background:#F5F7FA;color:#606266;font-weight:bold"}}},m=f,b=(i("3061"),i("2877")),g=Object(b["a"])(m,a,n,!1,null,"7d6f9ef8",null);e["default"]=g.exports},"4f7f":function(t,e,i){"use strict";var a=i("c26b"),n=i("b39a"),s="Set";t.exports=i("e0b8")(s,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return a.def(n(this,s),t=0===t?0:t,t)}},a)},5033:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{readonly:"",placeholder:"点击进行选择车辆"},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-send":t.handleSend,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["createdBy"===e.item.prop?i("span",[t._v("\n          "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n      ")]):i("span",[t._v("\n        "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n      ")])]}}])})],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("9123"),u=i("530f"),d={name:"otxSend",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AppCarList:u["a"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"send"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{vin:"",carTypeId:""},actionWidth:0,actionFixed:"",showfilter:!1,tableList:[{value:"文件名称\t",prop:"fileName",position:"center",checked:!0,width:180,fixed:"left"},{value:"车型名称",prop:"carTypeName",position:"center",width:140,checked:!0},{value:"创建人\t",prop:"createdBy",position:"center",width:90,checked:!0},{value:"创建时间",prop:"createdOn",position:"center",width:140,checked:!0},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,authouizeList:[],list:[],listLoading:!1,addUpdateVisible:!1,isEdit:!1,tableRow:{},carListVisible:!1,carData:{}}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{selectCar:function(){this.carListVisible=!0},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.listQuery.carTypeId=t.carTypeId,this.carData=t},hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(c["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t,e){this.list.some((function(e,i){e.id===t.row.id&&(t.row.$index=i)})),this.tableRow=t.row},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleSend:function(t){this.tableRow=t;this.tableRow.id,this.tableRow.fileName}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"ed1537a4",null);e["default"]=f.exports},5054:function(t,e,i){},"505e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"90px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"关键字："}},[i("el-input",{attrs:{placeholder:"请输入失败原因关键字",maxlength:"50"},model:{value:t.listQuery.keyName,callback:function(e){t.$set(t.listQuery,"keyName",e)},expression:"listQuery.keyName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择分系统："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.systemId,callback:function(e){t.$set(t.listQuery,"systemId",e)},expression:"listQuery.systemId"}},t._l(t.systemlist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.systemName,value:t.id}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("f344"),u={name:"errorreason",mixins:[s["a"],o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{keyName:"",systemId:"",ecuName:"",carTypeId:""},authouizeList:[],systemlist:[],carmodellist:[],showfilter:!1,tableList:[{value:"失败原因",prop:"errorDes",position:"center",checked:!0,width:220,fixed:"left"},{value:"分系统",prop:"systemName",position:"center",checked:!0,width:160},{value:"ECU",prop:"ecuName",position:"center",checked:!0,width:100},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:120},{value:"出现次数",prop:"errorCount",position:"center",checked:!0,width:70}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1}},created:function(){var t=this;Object(c["l"])().then((function(e){0==e.data.code&&(t.systemlist=e.data.data||[])})),Object(c["g"])().then((function(e){0==e.data.code&&(t.carmodellist=e.data.data||[])}))},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(c["h"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},hanleExport:function(){Object(c["e"])(this.listQuery)}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"66d354fc",null);e["default"]=h.exports},"510f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"温馨提示",width:"60%",top:"5vh",confirmText:"导出失败数据",isFooter:t.isShow},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleExport}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("div",{staticClass:"dfcc",staticStyle:{"max-height":"65vh"}},[i("div",[i("div",{staticClass:"sim-import-result"},[i("i",{staticClass:"iconfont icon-gantanhao-yuankuang"}),t._v("\n\t\t\t\t\t\t已成功导入\n\t\t\t\t\t\t"),i("span",{staticClass:"green"},[t._v(t._s(t.data.successedCount?t.data.successedCount:"0"))]),t._v("\n\t\t\t\t\t\t条数据\n\t\t\t\t\t")]),i("div",{staticClass:"sim-import-result"},[t._v("\n\t\t\t\t\t\t失败\n\t\t\t\t\t\t"),i("span",{staticClass:"red"},[t._v(t._s(t.failedList&&t.failedList.length?t.failedList.length:"0"))]),t._v("\n\t\t\t\t\t\t条\n\t\t\t\t\t")])])])])])},n=[],s={name:"ResultDialog",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},text:{type:String,default:""},keys:{type:String,default:""},message:{type:String,default:"无失败信息"},isShow:{type:Boolean,default:!0}},data:function(){return{}},computed:{failedList:function(){return this.data.errorList}},watch:{},methods:{closeDialog:function(){this.$emit("close"),this.$emit("update:visibles",!1)},handleCancel:function(){this.closeDialog()},handleExport:function(){if(0===this.data.errorList.length)return this.$message.warning({message:this.message,duration:2e3}),!1;var t=this.data.errorList;this.$emit("export-fail",t)}}},o=s,r=(i("13f0"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"7225b964",null);e["default"]=l.exports},5118:function(t,e,i){(function(t){var a="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(n.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new s(n.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("c8ba"))},"528a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑任务":"新增任务",width:"50%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"134px"}},[i("el-form-item",{attrs:{label:"任务名称：",prop:"taskName"}},[i("el-input",{attrs:{clearable:"",maxlength:"20"},model:{value:t.formInfo.taskName,callback:function(e){t.$set(t.formInfo,"taskName",e)},expression:"formInfo.taskName"}})],1),i("el-form-item",{attrs:{label:"选择诊断周期配置：",prop:"configName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:5}},[i("el-col",{attrs:{span:14}},[i("el-input",{attrs:{readonly:"",placeholder:"点击选择诊断周期配置",clearable:""},nativeOn:{click:function(e){return t.selectCycleConfig(e)}},model:{value:t.formInfo.configName,callback:function(e){t.$set(t.formInfo,"configName",e)},expression:"formInfo.configName"}})],1),i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{type:"primary"},on:{click:t.importConfig}},[t._v("载入")])],1),i("el-col",{attrs:{span:7}},[i("span",[t._v(t._s(t.formInfo.importMessage))])])],1)],1),i("el-form-item",{attrs:{label:"选择车辆：",prop:"vinList"}},[i("el-input",{attrs:{readonly:"",placeholder:"点击进行选择车辆"},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.formInfo.vinList,callback:function(e){t.$set(t.formInfo,"vinList",e)},expression:"formInfo.vinList"}})],1),i("el-form-item",{attrs:{label:"任务有效期：",prop:"dateRange"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:35}},[i("el-col",{attrs:{span:12}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期"},model:{value:t.formInfo.startTime,callback:function(e){t.$set(t.formInfo,"startTime",e)},expression:"formInfo.startTime"}})],1),i("el-col",{attrs:{span:12}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择结束日期"},model:{value:t.formInfo.endTime,callback:function(e){t.$set(t.formInfo,"endTime",e)},expression:"formInfo.endTime"}})],1)],1)],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1)]),i("app-car-list",{attrs:{visibles:t.carListVisible,selectList:t.selectList,carTypeId:t.carTypeId},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-cycle-config",{attrs:{visibles:t.cycleConfigVisible,data:t.cycleData},on:{"update:visibles":function(e){t.cycleConfigVisible=e},setConfigName:t.setConfigName}}),i("app-import-dialog",{attrs:{visibles:t.importDialogVisible},on:{"update:visibles":function(e){t.importDialogVisible=e},"upload-success":t.uploadSuccess}})],1)},n=[],s=(i("8e6e"),i("456d"),i("ac6a"),i("bd86")),o=i("5c83"),r=i("2228"),l=i("d10c"),c=i("10aa"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择车辆",icon:"icon_car",width:"65%",top:"5%",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"85px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("vin-select",{attrs:{"is-vin":!0},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.loadBatch},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"项目代号：",prop:"carTypeId"}},[i("el-select",{ref:"batchId",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.batchId,callback:function(e){t.$set(t.listQuery,"batchId",e)},expression:"listQuery.batchId"}},t._l(t.batchList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.batchCode,value:t.batchId}})})),1)],1)],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"TBOXSN："}},[i("el-input",{attrs:{placeholder:"请输入TBOXSN",clearable:"",maxlength:"20"},model:{value:t.listQuery.barcode,callback:function(e){t.$set(t.listQuery,"barcode",e)},expression:"listQuery.barcode"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"车辆列表",isShowTitle:!0,icon:"icon_carlist",data:t.rowVinno}}),i("app-table",{ref:"multiTable",attrs:{slot:"table",rowKey:"carId",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-20},on:{"row-click":t.clickRow,select:t.rowSelect,"select-all":t.selectAll,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["isOnline"===e.item.prop?i("span",[i("svg-icon",{staticStyle:{"font-size":"14px","margin-right":"4px"},attrs:{"icon-class":"1"===e.row[e.item.prop]?"icon_online":"icon_offline"}}),i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop)))])],1):i("span",[t._v("\r\n                "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\r\n              ")])]}}])})],1)],1)])},d=[],p=i("75fc"),h=(i("20d6"),i("fab6")),f=i("babb"),m=i("6d60"),b=i("dee4"),g=i("f80b"),v={name:"selectMultiCarDialog",mixins:[h["a"],f["a"],m["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},selectList:{type:Array,default:function(){return[]}},carTypeId:{type:String,default:""},loadAll:{type:Boolean,default:!1}},filters:{switchText:function(t,e){if("isOnline"===e){var i="离线";return"1"===t&&(i="在线"),i}}},watch:{visibles:function(t){t&&(this.copySelectList=JSON.parse(JSON.stringify(this.selectList)),0===this.copySelectList.length&&(this.listQuery.pageNum=1),this.listLoad(),this._getSupportCarTypeList())}},data:function(){return{copySelectList:[],listQuery:{carTypeId:""},tableList:[{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:160},{value:"是否在线",prop:"isOnline",position:"center",checked:!0,width:80},{value:"TBOXSN",prop:"barcode",position:"center",checked:!0,width:160},{value:"车型名称",prop:"carTypeCode",position:"center",checked:!0,width:120},{value:"项目代号",prop:"batchCode",position:"center",checked:!0,width:120}],total:0,list:[],listLoading:!1,rowVinno:"",tablerow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),carTypeList:"",batchList:"",getRowKeys:function(t){return t.carId}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(g["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.$nextTick((function(){t.rowVinno="已选中"+t.copySelectList.length+"辆车";for(var e=function(e){t.copySelectList.forEach((function(i){t.list[e].carId===i.carId&&t.$refs.multiTable.refTable().toggleRowSelection(t.list[e],!0)}))},i=0;i<t.list.length;i++)e(i)}))),t.listLoading=!1})).then((function(){}))},rowSelect:function(t,e){var i=this.copySelectList.findIndex((function(t){return t.carId===e.carId}));i>-1?this.copySelectList.splice(i,1):this.copySelectList.push(e),this.changdu=t.length,this.rowVinno="已选中"+this.changdu+"辆车"},selectAll:function(t){var e=this;if(this.changdu>t.length)for(var i=function(t){var i=e.copySelectList.findIndex((function(i){return i.carId===e.list[t].carId}));i>-1&&e.copySelectList.splice(i,1)},a=0;a<this.list.length;a++)i(a);else for(var n=0;n<this.list.length;n++)this.copySelectList.push(this.list[n]);this.changdu=t.length,this.rowVinno="已选中"+this.changdu+"辆车",this.copySelectList=Object(b["b"])(Object(p["a"])(this.copySelectList),"vinNo")},clickRow:function(t){var e=t.row,i=this.copySelectList.findIndex((function(t){return t.carId===e.carId}));i>-1?this.copySelectList.splice(i,1):this.copySelectList.push(e),this.changdu=this.copySelectList.length,this.rowVinno="已选中"+this.changdu+"辆车"},handleConfirm:function(){this.copySelectList!==[]?(this.$emit("carVinno",this.copySelectList),this.closeDialog()):this.$alert("请选中车辆","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.listQuery={pageNum:1,pageSize:10,carTypeId:"",batchId:"",barcode:"",vinNo:""},this.rowVinno="",this.changdu=0,this.list=[],this.copySelectList=[],this.total=0,this.$refs.multiTable.refTable().clearSelection(),this.$emit("update:visibles",!1)},_getSupportCarTypeList:function(){var t=this;Object(g["h"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},loadBatch:function(t){var e=this;this.listQuery.batchId&&(this.listQuery.batchId=""),Object(g["b"])({carTypeId:t}).then((function(t){var i=t.data;0===i.code&&(e.batchList=i.data)}))}}},y=v,w=i("2877"),L=Object(w["a"])(y,u,d,!1,null,"0ba30c88",null),k=L.exports,C=i("915f"),x=i("364c");i("4360");function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[c["a"]],components:{AppCarList:k,AppCycleConfig:C["default"],AppImportDialog:x["default"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){if(t){var e=new Date,i={taskName:this.$store.state.user.loginName+e.format("yyyyMMddhhmmss"),startTime:e.format("yyyy-MM-dd hh:mm:ss"),endTime:new Date(e.setDate(e.getDate()+1)).format("yyyy-MM-dd hh:mm:ss")};this.formInfo=S({},this.data,{},i)}},immediate:!0}},mounted:function(){},data:function(){var t=this,e=function(t,e,i){if(!e)return i(new Error("请输入任务名称"))},i=function(e,i,a){if(!t.formInfo.configName)return a(new Error("请选择周期诊断配置"))},a=function(e,i,a){if(!t.formInfo.vinList)return a(new Error("请选择车辆"))},n=function(e,i,a){if(!t.formInfo.startTime||!t.formInfo.endTime)return a(new Error("请选择日期"))};return{cycleData:{},formInfo:{configName:"",startTime:"",endTime:"",vinList:"",configId:""},carListVisible:!1,selectList:[],carTypeId:"",cycleConfigVisible:!1,importDialogVisible:!1,configName:"",rules:{taskName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],configName:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}],vinList:[{required:!0,trigger:"blur",validator:a},{trigger:"change",validator:a}],dateRange:[{required:!0,trigger:"blur",validator:n},{trigger:"change",validator:n}]},importMessage:""}},methods:{closeDialog:function(){this.$emit("update:visibles",!1),this.carTypeId="",this.selectList=[]},headleCancel:function(){this.closeDialog()},submitForm:function(){var t=this.checkForm({formName:"form",formList:["taskName","configName","vinList","dateRange"]});t&&this._createTask(0)},createSTask:function(t){var e=this;this.$confirm("以下车辆[".concat(t,"]未授权，是否请求授权?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(t,i,a){if("confirm"===t){i.confirmButtonLoading=!0;var n={type:0,vin:e.formInfo.vinList};setTimeout((function(){Object(l["a"])(n).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},_createTask:function(t){var e=this;if(this.formInfo.startTime>this.formInfo.endTime){this.$alert("开始时间不能大于结束时间","提示",{confirmButtonText:"确定"});var i=new Date;return this.formInfo.startTime=i.format("yyyy-MM-dd hh:mm:ss"),void(this.formInfo.endTime=new Date(i.setDate(i.getDate()+1)).format("yyyy-MM-dd hh:mm:ss"))}this.formInfo.confirm=t||0,Object(r["a"])(this.formInfo).then((function(i){var a=i.data;if(0===a.code)e.$emit("add-complete"),e.closeDialog();else if(401===a.code&&0===t){var n=a.data;e.$confirm("当前任务与正在执行的任务冲突，冲突车辆["+n+"]，是否关闭历史任务执行当前任务?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.closeDialog(),e._createTask(1)})).catch((function(){}))}else if(405===a.code){var s=a.data;e.createSTask(s)}}))},selectCar:function(){""!==this.formInfo.configName&&void 0!==this.formInfo.configName?this.carListVisible=!0:this.$alert("请先选择诊断周期配置信息","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){var e=[],i=[];t.forEach((function(t){e.push(t.vinNo),i.push(t.carId)})),this.formInfo.vinList=e.join(","),this.selectList=t},selectCycleConfig:function(){this.cycleConfigVisible=!0},setConfigName:function(t){this.formInfo.configName=t.configName,this.formInfo.configId=t.id,this.carTypeId=t.carTypeId,this.cycleData=t,this.formInfo.vinList&&(this.formInfo.vinList="")},importConfig:function(){this.importDialogVisible=!0},uploadSuccess:function(t){this.formInfo.importMessage="已自动载入"+t.serviceList.length+"个诊断服务",this.formInfo.configName=t.configName,this.formInfo.configId=t.configId}}},N=O,I=Object(w["a"])(N,a,n,!1,null,"bd2ec21e",null);e["default"]=I.exports},"530f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择车辆",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中车辆",isShowTitle:!0,icon:"icon_carlist",data:t.rowVinno}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-80},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["isOnline"===e.item.prop?i("span",[i("el-tag",{attrs:{type:"0"===e.row.isOnline?"info":"1"===e.row.isOnline?"success":"info",effect:"dark"}},[t._v("\n                  "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n                ")])],1):i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c={name:"SelectCarDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{switchText:function(t,e){if("isOnline"===e){var i="离线";return"1"===t&&(i="在线"),i}}},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this._getSupportCarTypeList(),this.data.vinNo&&(this.rowVinno=this.data.vinNo,this.tablerow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:160},{value:"是否在线",prop:"isOnline",position:"center",checked:!0,width:80},{value:"车型名称",prop:"carTypeCode",position:"center",checked:!0,width:120},{value:"项目代号",prop:"batchCode",position:"center",checked:!0,width:120}],total:0,list:[],listLoading:!1,rowVinno:"",tablerow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),carTypeList:"",batchList:""}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(l["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.vinNo==t.data.vinNo&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){console.log(t),this.rowVinno=t.row.vinNo,this.tablerow=t.row},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tablerow?(this.$emit("carVinno",this.tablerow),this.closeDialog()):this.$alert("请选中授权车辆","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.formInfo={},this.$emit("update:visibles",!1),this.rowVinno=""},_getSupportCarTypeList:function(){var t=this;Object(l["h"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},loadBatch:function(t){var e=this;this.listQuery.batchId&&(this.listQuery.batchId=""),Object(l["b"])({carTypeId:t}).then((function(t){var i=t.data;0===i.code&&(e.batchList=i.data)}))}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"4e9f8102",null);e["a"]=p.exports},"55dd":function(t,e,i){"use strict";var a=i("5ca1"),n=i("d8e8"),s=i("4bf8"),o=i("79e5"),r=[].sort,l=[1,2,3];a(a.P+a.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(s(this)):r.call(s(this),n(t))}})},"571f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/tboxLog/list",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/common/getSupportCarTypeList",method:"get",data:t})}function o(t){return Object(a["a"])({url:"/tboxLog/upload",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/tboxLog/logList",method:"post",data:t})}},5758:function(t,e,i){t.exports=i.p+"assets/img/500.52144833.png"},"57dd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"formBox"},[i("el-form",{ref:"form",staticClass:"divScroll",style:"max-height: calc(100vh - 235px);padding:30px;",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[0===t.isEdit||1===t.isEdit?i("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"warning",closable:!1,"show-icon":""}},[i("template",{slot:"title"},[0===t.isEdit?i("p",[t._v("1.新建用户默认密码为"),i("a",{staticStyle:{cursor:"text"}},[t._v("baic.web.123")])]):t._e(),i("p",[t._v(t._s(0===t.isEdit?"2.":"")),i("a",{staticStyle:{cursor:"text"}},[t._v("超级管理员")]),t._v("无需分配权限，默认拥有所有菜单和车辆权限！")])])],2):t._e(),i("el-form-item",{attrs:{label:"登录账户：",prop:"loginName"}},[i("el-input",{attrs:{placeholder:t.$t("login.userPlaceholderName"),maxlength:"20",clearable:"",disabled:1===t.isEdit||4===t.isEdit},model:{value:t.form.loginName,callback:function(e){t.$set(t.form,"loginName",e)},expression:"form.loginName"}})],1),i("el-form-item",{attrs:{label:"工作邮箱：",prop:"email"}},[i("el-input",{attrs:{placeholder:"请输入工作邮箱",maxlength:"30",clearable:"",disabled:1===t.isEdit||4===t.isEdit},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),i("el-form-item",{attrs:{label:"手机号码：",prop:"mobile"}},[i("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11",clearable:"",disabled:1===t.isEdit||4===t.isEdit},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),i("el-form-item",{attrs:{label:"用户类型：",prop:"userType"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:"",disabled:4===t.isEdit},model:{value:t.form.userType,callback:function(e){t.$set(t.form,"userType",e)},expression:"form.userType"}},t._l(t.userTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"用户类别：",prop:"isAdmin"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:"",disabled:4===t.isEdit},on:{change:t.adminChange},model:{value:t.form.isAdmin,callback:function(e){t.$set(t.form,"isAdmin",e)},expression:"form.isAdmin"}},t._l(t.isAdminList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"账户有效期：",prop:"expiredTime"}},[i("el-date-picker",{attrs:{type:"datetime","popper-class":"no-atTheMoment",placeholder:"请选择账户有效期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"23:59:59","picker-options":t.dateDis,disabled:4===t.isEdit},model:{value:t.form.expiredTime,callback:function(e){t.$set(t.form,"expiredTime",e)},expression:"form.expiredTime"}})],1),i("el-form-item",{attrs:{label:"登录短信验证：",prop:"isSmsLoginVerif"}},[i("el-radio-group",{attrs:{disabled:4===t.isEdit},model:{value:t.form.isSmsLoginVerif,callback:function(e){t.$set(t.form,"isSmsLoginVerif",e)},expression:"form.isSmsLoginVerif"}},[i("el-radio",{attrs:{label:1}},[t._v("是")]),i("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1)],1),i("div",{staticClass:"footerBut"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:t.close}},[t._v("取消")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",loading:t.butLoading,disabled:!t.form.email||!t.form.loginName||!t.form.mobile||t.isRepeat1||t.isRepeat2||t.isRepeat3||!(0===t.form.userType||1===t.form.userType)||!(0===t.form.isAdmin||1===t.form.isAdmin)},on:{click:t.nextStep}},[t._v(t._s(1===t.q.isAdmin&&4===t.isEdit?"关闭":"下一步"))])],1)],1)},n=[],s=(i("c5f6"),i("44ef")),o=i("10aa"),r=i("c0c7"),l={name:"step1",props:{active:{type:Number},q:{type:Object},isEdit:{type:Number,default:0},reLoad:{type:Object}},mixins:[o["a"]],data:function(){var t=this,e=function(e,i,a){if(!t.form.email)return a(new Error("请输入工作邮箱！"));if(0===t.isEdit){if(!s["a"].mail.test(t.form.email))return a(new Error("请输入格式正确的邮箱！"));t.timer1&&clearTimeout(t.timer1),t.timer1=setTimeout((function(){var e={operationType:0,email:t.form.email};Object(r["a"])(e).then((function(e){var i=e.data;if(0===i.code){if("0"===i.data)return void(t.isRepeat1=!1);if("-1"===i.data)return t.isRepeat1=!0,a(new Error("该工作邮箱已注册，请重新输入！"))}}))}),300)}},i=function(e,i,a){if(!t.form.mobile)return a(new Error("请输入手机号码！"));if(0===t.isEdit){if(!s["a"].tel.test(t.form.mobile))return a(new Error("请输入11位手机号码！"));t.timer2&&clearTimeout(t.timer2),t.timer2=setTimeout((function(){var e={operationType:0,mobile:t.form.mobile};Object(r["c"])(e).then((function(e){var i=e.data;if(0===i.code){if("0"===i.data)return void(t.isRepeat2=!1);if("-1"===i.data)return t.isRepeat2=!0,a(new Error("该手机号码已注册，请重新输入！"))}}))}),300)}},a=function(e,i,a){if(!t.form.loginName)return a(new Error(t.$t("login.userPlaceholderName")));0===t.isEdit&&(t.timer3&&clearTimeout(t.timer3),t.timer3=setTimeout((function(){var e={operationType:0,loginName:t.form.loginName};Object(r["b"])(e).then((function(e){var i=e.data;if(0===i.code){if("0"===i.data)return void(t.isRepeat3=!1);if("-1"===i.data)return t.isRepeat3=!0,a(new Error("该登录账户已注册，请重新输入！"))}}))}),300))};return{form:{loginName:this.q.loginName,email:this.q.email,mobile:this.q.mobile,userType:this.q.userType,isAdmin:this.q.isAdmin,expiredTime:this.q.expiredTime,isSmsLoginVerif:this.q.isSmsLoginVerif},userTypeList:[{name:"内部用户",id:0},{name:"外部用户",id:1}],isAdminList:[{name:"普通用户",id:0},{name:"超级管理员",id:1}],timer1:null,timer2:null,timer3:null,isRepeat1:!1,isRepeat2:!1,isRepeat3:!1,butLoading:!1,rules:{loginName:[{required:!0,trigger:["blur","change"],validator:a}],email:[{required:!0,trigger:["blur","change"],validator:e}],mobile:[{required:!0,trigger:["blur","change"],validator:i}],userType:[{required:!0,message:"请选择用户类型",trigger:["blur","change"]}],isAdmin:[{required:!0,message:"请选择用户类别",trigger:["blur","change"]}]},dateDis:{disabledDate:function(t){return t.getTime()<new Date((new Date).toLocaleDateString()).getTime()},selectableRange:new Date((new Date).setHours((new Date).getHours()+1)).format("hh")+":00:00 - 23:59:59"}}},mounted:function(){0===this.isEdit&&(this.form.userType=this.userTypeList[0].id,this.form.isAdmin=this.isAdminList[0].id)},methods:{adminChange:function(t){this.q.isAdmin=t},close:function(){this.$emit("closeDrawer")},nextStep:function(){var t=this;if(1!==this.q.isAdmin||4!==this.isEdit){var e=this.checkForm({formName:"form",formList:["loginName","email","mobile","userType","isAdmin"]});if(e){for(var i in this.form)this.q[i]=this.form[i];if(this.q.isAdmin&&4!=this.isEdit){this.butLoading=!0;var a=this.q,n=a.email,s=a.loginName,o=a.mobile,l=a.userType,c=a.isAdmin,u=a.expiredTime,d=a.isSmsLoginVerif,p={email:n,loginName:s,mobile:o,userType:l,isAdmin:c,expiredTime:u,isSmsLoginVerif:d};if(this.isEdit){var h={id:this.q.userId,data:p};Object(r["D"])(h).then((function(e){var i=e.data;t.butLoading=!1,0===i.code&&(t.reLoad.step1=0,t.$emit("update:active",3))})).catch((function(){t.butLoading=!1}))}else Object(r["d"])(p).then((function(e){var i=e.data;t.butLoading=!1,0===i.code&&(t.reLoad.step1=0,t.$emit("update:active",3))})).catch((function(){t.butLoading=!1}))}else this.reLoad.step1=0,this.$emit("update:active",1)}}else this.$emit("closeDrawer")}}},c=l,u=(i("2e33"),i("2877")),d=Object(u["a"])(c,a,n,!1,null,"2cc5c76c",null);e["default"]=d.exports},"584c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"finishBox"},[a("img",{staticStyle:{width:"247px",height:"142px"},attrs:{src:i("6ce3")("./"+t.$store.state.theme.activeName+"_finish.png"),alt:""}}),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"topText"},[t._v("账户"+t._s(t.isEdit?"编辑":"新建")+"完成")]),a("div",[t._v("工作邮箱："),a("a",[t._v(t._s(t.q.email))]),t._v("可以正常登录系统！")])])]),a("div",{staticClass:"footerBut"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",disabled:!1},on:{click:t.submit}},[t._v("完成")])],1)])},n=[],s=(i("c5f6"),i("c0c7"),i("3528"),{name:"step4",props:{q:{type:Object},isEdit:{type:Number,default:0}},data:function(){return{}},mounted:function(){},methods:{submit:function(){this.$emit("addUpdateClose")}}}),o=s,r=(i("7c27"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"2ea6a879",null);e["default"]=l.exports},"58ec":function(t,e,i){"use strict";var a=i("1884"),n=i.n(a);n.a},5921:function(t,e,i){},"5ac2":function(t,e,i){},"5c52":function(t,e,i){"use strict";var a=i("3611"),n=i.n(a);n.a},"5d4a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"新增",width:"45%",loading:t.loading,isOkButLoading:t.loading},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("vue-linetitle",{staticStyle:{"padding-top":"10px"}},[i("el-row",{attrs:{type:"flex",justify:"start"}},[i("el-col",{attrs:{span:12}},[i("el-form",{ref:"formLeft",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"父级菜单："}},[i("el-input",{attrs:{disabled:""},model:{value:t.formInfo.parentMenu,callback:function(e){t.$set(t.formInfo,"parentMenu",e)},expression:"formInfo.parentMenu"}})],1),i("el-form-item",{attrs:{label:"菜单名称(中文)：",prop:"functionName"}},[i("el-input",{attrs:{maxlength:20,clearable:"",placeholder:"请输入菜单名称(中文)"},model:{value:t.formInfo.functionName,callback:function(e){t.$set(t.formInfo,"functionName",e)},expression:"formInfo.functionName"}})],1),i("el-form-item",{attrs:{label:"排序号：",prop:"sort"}},[i("el-input-number",{attrs:{min:0,max:1e4},model:{value:t.formInfo.sort,callback:function(e){t.$set(t.formInfo,"sort",e)},expression:"formInfo.sort"}})],1),i("el-form-item",{attrs:{label:"图标：",prop:"icon"}},[i("el-input",{attrs:{maxlength:20,clearable:"",placeholder:"请输入图标"},model:{value:t.formInfo.icon,callback:function(e){t.$set(t.formInfo,"icon",e)},expression:"formInfo.icon"}})],1),i("el-form-item",{attrs:{label:"图标类型：",required:"",prop:"iconType"}},[i("el-radio-group",{model:{value:t.formInfo.iconType,callback:function(e){t.$set(t.formInfo,"iconType",e)},expression:"formInfo.iconType"}},[i("el-radio",{attrs:{label:1}},[t._v("iconfont")]),i("el-radio",{attrs:{label:2}},[t._v("svg")])],1)],1)],1)],1),i("el-col",{attrs:{span:12}},[i("el-form",{ref:"formRight",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"菜单类型：",required:"",prop:"functionType"}},[i("el-radio-group",{model:{value:t.formInfo.functionType,callback:function(e){t.$set(t.formInfo,"functionType",e)},expression:"formInfo.functionType"}},[i("el-radio",{attrs:{label:1}},[t._v("菜单")]),i("el-radio",{attrs:{label:2}},[t._v("按钮")])],1)],1),i("el-form-item",{attrs:{label:"链接：",prop:"url"}},[i("el-input",{attrs:{maxlength:50,clearable:"",placeholder:"请输入链接"},model:{value:t.formInfo.url,callback:function(e){t.$set(t.formInfo,"url",e)},expression:"formInfo.url"}})],1),i("el-form-item",{attrs:{label:"是否禁用：",required:"",prop:"isDisabled"}},[i("el-radio-group",{model:{value:t.formInfo.isDisabled,callback:function(e){t.$set(t.formInfo,"isDisabled",e)},expression:"formInfo.isDisabled"}},[i("el-radio",{attrs:{label:0}},[t._v("禁用")]),i("el-radio",{attrs:{label:1}},[t._v("启用")])],1)],1),i("el-form-item",{attrs:{label:"是否显示：",required:"",prop:"isShow"}},[i("el-radio-group",{model:{value:t.formInfo.isShow,callback:function(e){t.$set(t.formInfo,"isShow",e)},expression:"formInfo.isShow"}},[i("el-radio",{attrs:{label:0}},[t._v("隐藏")]),i("el-radio",{attrs:{label:1}},[t._v("显示")])],1)],1)],1)],1)],1),i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"form1",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{rows:6,maxlength:200,autosize:{minRows:3,maxRows:3},resize:"none",placeholder:"请输入备注","show-word-limit":"",type:"textarea"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1)],1)],1)],1)])},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("a8db")),o=i("bd86"),r=i("35b3"),l=i("10aa"),c=i("40aa");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"MenuAddUpdateDialog",mixins:[l["a"],c["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},computed:{},data:function(){return{loading:!1,defaultFormInfo:{functionType:1,isDisabled:1,isShow:1,sort:1,iconType:1},formInfo:{},rules:{functionName:[{required:!0,trigger:["blur","change"],validator:this.validInput,ruleReg:"functionNames",tips:"请输入中文菜单名称",errorTips:"支持汉字、字母、数字、-",formObjName:"formInfo"}],sort:[{required:!0,trigger:["blur","change"],validator:this.validInput,tips:"请输入排序号",formObjName:"formInfo"}],url:[{required:!0,trigger:["blur","change"],validator:this.validInput,ruleReg:"functionUrl",tips:"请输入链接地址",errorTips:"支持字母、数字、/",formObjName:"formInfo"}],icon:[{trigger:["blur","change"],validator:this.validInput,ruleReg:"alphanline",errorTips:"支持字母、数字、-、_",formObjName:"formInfo"}]}}},watch:{visibles:{handler:function(t){t&&(this.formInfo=d({},this.defaultFormInfo,{},this.data))},immediate:!0}},methods:{restData:function(){this.formInfo=d({},this.defaultFormInfo)},closeDialog:function(){this.restData(),this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},submitForm:function(){var t,e;if(t=this.checkForm({formName:"formLeft",formList:["sort","functionName","icon"]}),e=this.checkForm({formName:"formRight",formList:["url"]}),t&&e){var i=this.formInfo,a=(i.parentMenu,i.functionId),n=Object(s["a"])(i,["parentMenu","functionId"]);this.isEdit?this._updateMenu({id:a,data:n}):this._addMenu(n)}},_addMenu:function(t){var e=this;this.loading=!0,Object(r["a"])(t).then((function(i){var a=i.data;e.loading=!1,0===a.code&&(t.functionId=a.data,e.$emit("add-complete",d({},t)),e.closeDialog())})).catch((function(){e.loading=!1}))},_updateMenu:function(t){var e=this;this.loading=!0,Object(r["d"])(t).then((function(i){var a=i.data;e.loading=!1,0===a.code&&(e.$emit("update-complete",d({},{functionId:t.id},{},t.data)),e.closeDialog())})).catch((function(){e.loading=!1}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,null,null);e["default"]=m.exports},"5ef7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"查看ECU",width:"60%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1)]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,tableHeights:t.tableHeight,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)])},n=[],s=i("fab6"),o=i("9190"),r=i("f80b"),l={name:"QueryECUDialog",mixins:[s["a"],o["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""},data:{type:Object,default:function(){return{}}}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{ecuName:""},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"波特率",prop:"canbaudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"requestCanId",position:"center",checked:!0,width:120},{value:"接受地址",prop:"responseCanId",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!1,width:140}],total:0,list:[],listLoading:!1,tablerow:null}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.ecuClassId=this.ecuClassId,this.listQuery.carTypeId=this.data.carTypeId,this.listQuery.configLevel=this.data.configLevel,Object(r["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})))},rowClick:function(t){this.tablerow=t},closeDialog:function(){this.formInfo={},this.listQuery.ecuName="",this.$emit("update:visibles",!1)}}},c=l,u=(i("415f"),i("2877")),d=Object(u["a"])(c,a,n,!1,null,"0f7ee376",null);e["default"]=d.exports},"5f2ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"60px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-detail":t.queryResult,"click-cancelAuth":t.handleCancelAuth,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1),i("detail-dialog",{attrs:{visibles:t.detailVisible,data:t.tableRow},on:{"update:visibles":function(e){t.detailVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("5fd2"),u=i("f15b"),d={name:"authorizationManage",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{detailDialog:u["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return[]},tableAction:function(){var t=this.authouizeList.filter((function(t){return"cancelAuth"===t.url||"detail"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{vin:""},detailVisible:!1,actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"VIN码",prop:"vin",position:"center",checked:!0,width:180,fixed:"left"},{value:"应急刷写授权",prop:"emerAuth",position:"center",checked:!0,width:200},{value:"其他业务授权",prop:"diaAuth",position:"center",checked:!0,width:200}],tableHeight:0,total:0,list:[],listLoading:!1,tableRow:{}}},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},queryResult:function(t){this.tableRow=t,this.detailVisible=!0},handleCancelAuth:function(t){var e=this,i={vin:t.vin};this.$confirm("确定要取消授权吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["a"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"取消成功"}),e.listLoad())}))})).catch((function(){}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"bb633200",null);e["default"]=f.exports},"5fd2":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return n}));var a=i("b775");function n(t){return Object(a["a"])({url:"/empowerTaskEntity/getAuthVinList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/empowerTaskEntity/getRecords",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/empowerTaskEntity/cancelAuth",method:"post",data:t})}},"5fe2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"打印诊断报告结果",width:"62.5%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.reportList,"max-height":t.tableHeight,"header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"content",label:"故障描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.content?e.row.content.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t"),e.row.content&&e.row.content.split(";")[1]?i("span",[t._v(t._s(e.row.content.split(";")[1]))]):t._e()]}}])}),i("el-table-column",{attrs:{prop:"result",width:"350",label:"故障码"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.result?e.row.result.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t"),e.row.result&&e.row.result.split(";")[1]?i("span",[t._v(t._s(e.row.result.split(";")[1]))]):t._e()]}}])})],1)],1)])},n=[],s=(i("8e6e"),i("bd86")),o=(i("ac6a"),i("456d"),i("75fc")),r=i("c1fb"),l=i("fab6"),c=i("6d60"),u=i("1ad5"),d=(i("0c56"),i("f80b")),p=i("d0a1");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"queryDigResult",doNotInit:!0,mixins:[l["a"],r["a"],c["a"],u["a"]],props:{visibles:{type:Boolean,default:!1},data:{type:Object|Array}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},showfilter:!1,tableHeight:0,list:[],exportData:{},reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],listLoading:!1,tableRow:{},reportVisible:!1}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.tableHeight=.6*window.innerHeight})),window.onresize=function(){e.getOtherHeight();e.$nextTick((function(){e.tableHeight=.6*window.innerHeight}))}},methods:{listLoad:function(){this.exportData={};var t=[],e=this.data;console.log(e,"as1231"),e.result&&(t=JSON.parse(e.result),this.setReport(t)),this.list=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.data={},this.reportList=[]},setReport:function(t){var e=t.dtcList||"",i=t.readList||"",a=e.length,n=i.length;if(0!==a||0!==n){var s="";a>0?s=e[0]["ecuName"]:e=[{content:"暂无数据",result:""}],n>0?s=""===s?i[0]["ecuName"]:s:i=[{content:"暂无数据",result:""}],this.exportData={vin:this.data.vinNo,ecuName:s,dtcCount:a,readCount:n,dtcList:e,readList:i};var r=[{content:"诊断车辆："+this.data.vinNo+";诊断ECU："+s,result:"故障码数量："+a+";读取数量："+n},{content:"故障描述",result:"故障码"}],l=[{content:"读取内容",result:"读取结果"}];this.reportList=[].concat(r,Object(o["a"])(e),l,Object(o["a"])(i))}},cellContentStyle:function(t){var e=t.row;if("故障描述"===e.content||"读取内容"===e.content)return"background:#F5F7FA;color:#606266;font-weight:bold"},handleExport:function(){var t=this;if("12"===this.digType)return 0===Object.keys(this.exportData).length?void this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"}):void Object(p["d"])(this.exportData);if(0!==this.list.length){var e=[];this.list.forEach((function(i){var a=f({},i);"5"!==t.digType&&"8"!==t.digType||(a.result="1"===a.result?"成功":"失败"),e.push(a)})),Object(d["a"])(this.getExportData("查看结果",this.filterTableList,e))}else this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})}}},b=m,g=i("2877"),v=Object(g["a"])(b,a,n,!1,null,null,null);e["default"]=v.exports},6017:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var a,n=1,s={},o=!1,r=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?h():f()?m():t.MessageChannel?b():r&&"onreadystatechange"in r.createElement("script")?g():v(),l.setImmediate=c,l.clearImmediate=u}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return s[n]=o,a(n),n++}function u(t){delete s[t]}function d(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a);break}}function p(t){if(o)setTimeout(p,0,t);else{var e=s[t];if(e){o=!0;try{d(e)}finally{u(t),o=!1}}}}function h(){a=function(t){e.nextTick((function(){p(t)}))}}function f(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function m(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&p(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}function b(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;p(e)},a=function(e){t.port2.postMessage(e)}}function g(){var t=r.documentElement;a=function(e){var i=r.createElement("script");i.onreadystatechange=function(){p(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function v(){a=function(t){setTimeout(p,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("c8ba"),i("f28c"))},"60e0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.stime,callback:function(e){t.$set(t.listQuery,"stime",e)},expression:"listQuery.stime"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.etime,callback:function(e){t.$set(t.listQuery,"etime",e)},expression:"listQuery.etime"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("b2f9"),c=i("7829"),u=i("f344"),d={name:"carmodel",mixins:[s["a"],o["a"],r["a"],l["a"],c["a"]],components:{},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{cartypename:"",stime:"",etime:""},authouizeList:[],carmodellist:[],showfilter:!1,tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,fixed:"left",width:120},{value:"诊断次数",prop:"dxCount",position:"center",checked:!0,width:90},{value:"诊断车辆数量(辆)",prop:"carCount",position:"center",checked:!0,width:140},{value:"在线诊断次数",prop:"onlineCount",position:"center",checked:!0,width:120},{value:"离线诊断次数",prop:"offlineCount",position:"center",checked:!0,width:120}],tableHeight:0,startDatePicker:this.beginDate(),endDatePicker:this.processDate(),cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1}},created:function(){var t=this;Object(u["g"])().then((function(e){0==e.data.code&&(t.carmodellist=e.data.data||[])}))},mounted:function(){},methods:{listLoad:function(){var t=this;this.listQuery.stime&&this.listQuery.etime&&new Date(this.listQuery.stime).getTime()>new Date(this.listQuery.etime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):(this.listLoading=!0,Object(u["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})))},hanleExport:function(){Object(u["a"])(this.listQuery)},beginDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.etime?new Date(t.listQuery.etime).getTime()<e.getTime():e.getTime()>Date.now()}}},processDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.stime?new Date(t.listQuery.stime).getTime()>e.getTime():e.getTime()>Date.now()}}},getStime:function(t){this.listQuery.stime=t},getEtime:function(t){this.listQuery.etime=t}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"7c3859a2",null);e["default"]=f.exports},"62ec":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.digTitle,width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[7==t.digType?i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:""},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"读取内容："}},[i("el-input",{attrs:{placeholder:"请输入读取内容",clearable:""},model:{value:t.listQuery.content,callback:function(e){t.$set(t.listQuery,"content",e)},expression:"listQuery.content"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading,isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1):t._e(),7==t.digType||15==t.digType||16==t.digType?i("app-authorize-button",{attrs:{data:t.buttonList,showFilterButton:!1},on:{"click-export":t.handleDataStreamExport}}):t._e(),i("div",{},[i("app-table",{directives:[{name:"show",rawName:"v-show",value:!t.reportVisible,expression:"!reportVisible"}],attrs:{slot:"table",tableHeights:t.tableHeight,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!1},on:{"row-click":t.rowClick,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["8"!==t.digType&&"5"!==t.digType||"result"!==e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"},{name:"show",rawName:"v-show",value:t.reportVisible,expression:"reportVisible"}],staticStyle:{width:"100%"},attrs:{data:t.reportList,"max-height":t.tableHeight,"header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"content",label:"故障描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.content?e.row.content.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t\t"),e.row.content&&e.row.content.split(";")[1]?i("span",[t._v(t._s(e.row.content.split(";")[1]))]):t._e()]}}])}),i("el-table-column",{attrs:{prop:"result",width:"350",label:"故障码"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.result?e.row.result.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t\t"),e.row.result&&e.row.result.split(";")[1]?i("span",[t._v(t._s(e.row.result.split(";")[1]))]):t._e()]}}])})],1)],1)],1)])},n=[],s=(i("8e6e"),i("bd86")),o=(i("456d"),i("75fc")),r=(i("6762"),i("2fdb"),i("ac6a"),i("c1fb")),l=i("fab6"),c=i("9190"),u=i("1ad5"),d=i("0c56"),p=i("f80b"),h=i("d0a1");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"queryDigResult",doNotInit:!0,mixins:[l["a"],r["a"],c["a"],u["a"]],computed:{filterTableList:function(){if("12"!==this.digType){this.reportVisible=!1;var t=0;switch(this.digType){case"1":case"2":case"3":t=0;break;case"5":t=4;break;case"4":t=1;break;case"7":t=2;break;case"8":t=3;break;case"15":t=5;break;case"16":t=6;break;case"10":t=7;break}return this.tableList[t].filter((function(t){return t.checked}))}this.reportVisible=!0}},props:{visibles:{type:Boolean,default:!1},authouizeList:{type:Array,default:[]},digServiceId:{type:String,default:""},digTitle:{type:String,default:""},digType:{type:String,default:""},vin:{type:String,default:""},data:{type:Object,default:function(){}}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{ecuName:"",content:""},buttonList:[{functionName:"导出",url:"export",icon:"export",iconType:2}],showfilter:!1,tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"dtcNameChinese",position:"center",checked:!0,width:140},{value:"维修指引",prop:"enableCriteria",position:"center",checked:!0,width:140},{value:"维修建议",prop:"testPassCondition",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}],[{value:"id",prop:"index",position:"center",checked:!1,needMerge:!0,width:120},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!0,width:120},{value:"故障码",prop:"content",position:"center",checked:!0,needMerge:!0,width:120},{value:"内容",prop:"name",position:"center",checked:!0,width:120},{value:"结果",prop:"value",position:"center",checked:!0,width:120}],[{value:"ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"读取内容",prop:"digContent",position:"center",checked:!0,width:120},{value:"读取结果",prop:"digResult",position:"center",checked:!0,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,width:120},{value:"失败描述",prop:"digNrcdes",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"写入内容",prop:"content",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:120},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"软件版本号",prop:"wareVersion",position:"center",checked:!0,width:200},{value:"原始报文",prop:"content",position:"center",checked:!0,width:200},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}],[{value:"ECU名称",prop:"ecuName",position:"center",fixed:"left",checked:!0,width:140},{value:"硬件版本号",prop:"wareVersion",position:"center",checked:!0,width:200},{value:"原始报文",prop:"content",position:"center",checked:!0,width:200},{value:"响应代码",prop:"resultCode",position:"center",checked:!0,width:140},{value:"响应描述",prop:"rwData",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"结果",prop:"analysisResult",position:"center",checked:!0,width:140}],[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120,fixed:"left"},{value:"零部件名称",prop:"equipments",position:"center",checked:!0,width:110},{value:"控制服务名称",prop:"content",position:"center",checked:!0,width:110},{value:"当前状态",prop:"result",position:"center",checked:!0,width:200},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}]],tableHeight:0,list:[],exportData:{},reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],listLoading:!1,tableRow:{},reportVisible:!1}},mounted:function(){},methods:{handleDataStreamExport:function(){7==this.digType?Object(d["c"])({token:this.digServiceId,ecuName:this.listQuery.ecuName,content:this.listQuery.content}):15!=this.digType&&16!=this.digType||Object(h["e"])({token:this.digServiceId,vin:this.data.vin})},listLoad:function(){var t=this;this.listLoading=!0,this.exportData={},7==this.digType?Object(d["g"])({token:this.digServiceId,ecuName:this.listQuery.ecuName,content:this.listQuery.content}).then((function(e){var i=e.data;if(0===i.code){var a=[];if(i.data.result){a=i.data.result;var n=i.data.dxType;if(4===n&&(a=t.createNewData(a)),12===n)return t.setReport(a),void(t.listLoading=!1)}t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1})):15==this.digType||16==this.digType?Object(h["m"])({token:this.digServiceId,pageNum:1,pageSize:100}).then((function(e){var i=e.data;0===i.code&&(t.list=i.data),t.listLoading=!1})).catch((function(){t.listLoading=!1})):Object(d["f"])({token:this.digServiceId}).then((function(e){var i=e.data;if(0===i.code){var a=[];if(i.data.result){a=JSON.parse(i.data.result);var n=i.data.dxType;if(4===n&&(a=t.createNewData(a)),12===n)return t.setReport(a),void(t.listLoading=!1)}t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.reportList=[]},createNewData:function(t){if(0!==t.length){var e=[];return t.forEach((function(t){if(""===t.result||null===t.result){var i={};i.ecuName=t.ecuName,i.content=t.content,i.name="",i.value=t.errorMessage,e.push(i)}else for(var a=JSON.parse(t.result),n=a.length,s=0;s<n;s++){var o={};o.ecuName=t.ecuName,o.content=t.content,o.name=a[s].NAME,o.value=a[s].VALUE+a[s].UNIT,e.push(o)}0})),this.setData(e),e}},setData:function(t){for(var e=0,i=0,a=[],n=[],s=1,o=0;o<t.length;o++){if(a.includes(t[o].ecuName)||(a=[],a.push(t[o].ecuName),t[o].ecuStartMultiRow=!0,t[o].index=s,n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0&&(t[o-e].rowCountEcu=e,t[o-i].rowCountFault=i),s++,e=0,i=0),!n.includes(t[o].content)){if(n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0){t[o-i].rowCountFault=i}i=0}e++,i++,t.length===o+1&&(t[o+1-e].rowCountEcu=e,t[o+1-i].rowCountFault=i)}return t},objectSpanMethod:function(t){var e=t.row,i=(t.column,t.rowIndex,t.columnIndex);if("4"===this.digType){if(0===i||1===i)return this.multiSpanRow(e.ecuStartMultiRow,e.rowCountEcu);if(2===i)return this.multiSpanRow(e.faultStartMultiRow,e.rowCountFault)}},multiSpanRow:function(t,e){return t?{rowspan:e,colspan:1}:{rowspan:0,colspan:0}},setReport:function(t){var e=t.dtcList||"",i=t.readList||"",a=e.length,n=i.length;if(0!==a||0!==n){var s="";a>0?s=e[0]["ecuName"]:e=[{content:"暂无数据",result:""}],n>0?s=""===s?i[0]["ecuName"]:s:i=[{content:"暂无数据",result:""}],this.exportData={vin:this.vin,ecuName:s,dtcCount:a,readCount:n,dtcList:e,readList:i};var r=[{content:"诊断车辆："+this.vin+";诊断ECU："+s,result:"故障码数量："+a+";读取数量："+n},{content:"故障描述",result:"故障码"}],l=[{content:"读取内容",result:"读取结果"}];this.reportList=[].concat(r,Object(o["a"])(e),l,Object(o["a"])(i))}},cellContentStyle:function(t){var e=t.row;t.column,t.rowIndex,t.columnIndex;if("故障描述"===e.content||"读取内容"===e.content)return"background:#F5F7FA;color:#606266;font-weight:bold"},handleExport:function(){var t=this;if("12"===this.digType)return 0===Object.keys(this.exportData).length?void this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"}):void Object(h["d"])(this.exportData);if(0!==this.list.length){var e=[];this.list.forEach((function(i){var a=m({},i);"5"!==t.digType&&"8"!==t.digType||(a.result="1"===a.result?"成功":"失败"),e.push(a)})),Object(p["a"])(this.getExportData("查看结果",this.filterTableList,e))}else this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})}}},g=b,v=(i("76ca"),i("2877")),y=Object(v["a"])(g,a,n,!1,null,null,null);e["default"]=y.exports},"64ef":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/errCode/getCodeList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/errCode/createCodeInfo",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/errCode/updateCodeInfo",method:"put",data:t})}function r(t){return Object(a["a"])({url:"/errCode/deleteCodeInfo",method:"delete",data:t})}},"65e1":function(t,e,i){"use strict";var a=i("fa3e"),n=i.n(a);n.a},"668e":function(t,e,i){},6771:function(t,e,i){t.exports=i.p+"assets/img/blue_finish.815065b1.png"},"68a6":function(t,e,i){"use strict";var a=i("f86c"),n=i.n(a);n.a},"68dc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("div",{staticClass:"search_list search_list_border bottom_search"},[i("app-command-radio-btn-group",{attrs:{slot:"footer",buttonList:t.authouize,rightButtonList:t.rightButtonList,startExecutionDisabled:t.startExecutionDisabled},on:{"click-startExecution":t.handleStartExecution,"click-radioBtn":t.handleRadioBtn},slot:"footer"},[i("el-form",{ref:"formLeft",attrs:{slot:"search","label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"80px"},slot:"search"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:10!=t.digType1,expression:"digType1 != 10"}],staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-search",{staticStyle:{border:"none","margin-bottom":"0px"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择分系统：",prop:"subSystemName","label-width":"85px"}},[i("el-input",{attrs:{placeholder:"点击进行选择分系统",clearable:""},on:{clear:t.clearSubSystem},nativeOn:{click:function(e){return t.selectSubSystem(e)}},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",clearable:""},on:{clear:t.clearECU},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.listQuery.ecu,callback:function(e){t.$set(t.listQuery,"ecu",e)},expression:"listQuery.ecu"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:7==t.digType1||12==t.digType1,expression:"digType1 == 7 || digType1 == 12"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择诊断服务：","label-width":"90px",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行诊断服务选择",clearable:""},on:{clear:t.clearZhenService},nativeOn:{click:function(e){return t.selectZhenService(e)}},model:{value:t.listQuery.serviceName,callback:function(e){t.$set(t.listQuery,"serviceName",e)},expression:"listQuery.serviceName"}})],1)],1)],1)],1)],1)]),i("app-table",{attrs:{slot:"table",tableHeights:t.tableHeight+20,isTableSelection:!1,list:t.list,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"click-export":t.handleExport,"click-detail":t.queryResult,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["8"!==t.digType1&&"5"!==t.digType1||"result"!==e.item.prop?"status"==e.item.prop?i("span",[i("el-tag",{attrs:{type:1==e.row.status?"success":0==e.row.status?"danger":2==e.row.status?"dark":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row.status?"执行成功":0==e.row.status?"失败":2==e.row.status?"诊断中":"-")+"\n\t\t\t\t\t")])],1):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1),i("ioControl",{directives:[{name:"show",rawName:"v-show",value:10==t.digType1,expression:"digType1 == 10"}],ref:"child",attrs:{authouizeList1:t.authouizeList,vin:t.listQuery.vin}}),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,ecuClassId:t.ecuClassId,data:t.ecuData,carTypeId:t.carTypeId,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}}),i("sub-system-select",{attrs:{visibles:t.subSystemSelectVisible,carTypeId:t.carTypeId,data:t.subsystemData,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.subSystemSelectVisible=e},setSubSystemName:t.setSubSystemName}}),i("app-zhenduan-service",{attrs:{visibles:t.selectZhenServiceVisible,ecuList:t.ecuList,propServiceList:t.serviceIdList,digType1:t.digType1},on:{"update:visibles":function(e){t.selectZhenServiceVisible=e},setDigService:t.setZhenService}}),i("dig-result",{attrs:{visibles:t.digResultVisible,digServiceId:t.digServiceId,digTitle:t.digTitle,digType:t.digType1,queryFaultParamList:t.queryFaultParamList,authouizeList:t.authouizeList},on:{"update:visibles":function(e){t.digResultVisible=e}}}),i("dig-action-result",{attrs:{visibles:t.queryActionDigResultVisible,digServiceId:t.digServiceId,digTitle:t.digTitle,digType:t.digType1,data:t.actionResult,queryFaultParamList:t.queryFaultParamList,authouizeList:t.authouizeList},on:{"update:visibles":function(e){t.queryActionDigResultVisible=e}}}),i("writeInPartsDialog",{attrs:{visibles:t.writeInPartsVisible,data:t.carData,ecuData:t.ecuData,systemData:t.subsystemData},on:{"update:visibles":function(e){t.writeInPartsVisible=e}}}),i("see-detail-drawer",{attrs:{visibles:t.detailVisible,data:t.actionResult},on:{"update:visibles":function(e){t.detailVisible=e}}}),t.printVisible?i("print-report",{attrs:{visibles:t.printVisible,digServiceId:t.digServiceId,data:t.tableRow,queryFaultParamList:t.queryFaultParamList},on:{"update:visibles":function(e){t.printVisible=e}}}):t._e()],1)},n=[],s=(i("8e6e"),i("456d"),i("28a5"),i("bd86")),o=(i("6762"),i("ac6a"),i("fab6")),r=i("6d60"),l=i("10aa"),c=i("babb"),u=i("7829"),d=i("0c56"),p=i("d10c"),h=i("5fe2"),f=i("d0a1"),m=i("cf45"),b=i("530f"),g=i("4adb"),v=i("95c0"),y=i("29f9"),w=i("4130"),L=i("4ad4"),k=i("8b05"),C=i("838a"),x=(i("5118"),i("4f3a"));function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O={name:"online",doNotInit:!0,mixins:[o["a"],r["a"],l["a"],c["a"],u["a"]],components:{AppCarList:b["a"],AppEcuList:g["a"],SubSystemSelect:v["a"],AppZhenduanService:L["default"],digResult:k["default"],writeInPartsDialog:w["default"],digActionResult:C["default"],seeDetailDrawer:h["default"],ioControl:y["default"],PrintReport:x["default"]},filters:{getOperateState:function(t){var e="失败";return 1===t&&(e="成功"),e},getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"readFault"===t.url||"clearFault"===t.url||"readDataSteam"===t.url||"reprotdig"===t.url||"writeInParts"===t.url||"ioControlAction"===t.url}))},rightButtonList:function(){return[]},tableAction:function(){var t=[];return t=12==this.digType1?this.authouizeList.filter((function(t){return"detail"===t.url||"export"===t.url})):this.authouizeList.filter((function(t){return"detail"===t.url})),t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))};return{printVisible:!1,listQuery:{vin:"",ecuClassId:"",subSystemName:"",ecuId:"",serviceIds:"",ecu:"",serviceName:""},detailVisible:!1,digResultVisible:!1,startExecutionDisabled:!1,tableList:[{value:"用户姓名",prop:"userName",position:"center",checked:!0,fixed:"left",width:140},{value:"操作时间",prop:"operateTime",position:"center",checked:!0,width:140},{value:"受控车辆",prop:"vin",position:"center",checked:!0,width:180},{value:"操作模块",prop:"operateModule",position:"center",checked:!0,width:120},{value:"分系统/ECU名称",prop:"subSysName",position:"center",checked:!0,width:140},{value:"任务状态",prop:"status",position:"center",checked:!0,width:100}],actionWidth:0,actionFixed:"false",btnRow:{},digType1:"",reportVisible:!1,authouizeList:[],componentAuthouizeList:[],showfilter:!1,printTableVisible:!0,activeMessage:"",interval:null,tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,carListVisible:!1,ecuListVisible:!1,subSystemSelectVisible:!1,writeInPartsVisible:!1,selectZhenServiceVisible:!1,versionVisible:!1,tableRow:{},rules:{vin:[{required:!0,trigger:"change",validator:e}]},queryFaultParamList:{},queryStreamParamList:{},actionResult:{},faultTitle:"",faultContentList:"",ecuList:{},versionData:{},serviceIdList:[],carTypeId:"",ecuClassId:"",buttonList:[],digServiceId:"",digTitle:"",digType:"",timersjl:null,carData:{},subsystemData:{},ecuData:{},btnFlag:"",queryActionDigResultVisible:!1}},mounted:function(){},beforeDestroy:function(){window.clearInterval(this.timersjl),this.timersjl=null},methods:{writeInParts:function(){this.writeInPartsVisible=!0},handleExport:function(t){Object(d["b"])({vin:t.vin,ecuName:t.ecuName,token:t.token})},selectCar:function(){this.carListVisible=!0},selectECU:function(t){""!==this.listQuery.vin?"INPUT"==t.target.tagName&&(this.ecuListVisible=!0):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.queryFaultParamList.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t,this.clearSubSystem(),this.clearECU(),console.log(this.digType1),this.digType1&&(10==this.digType1?(console.log(1111111111),this.$refs.child.vins=t.vinNo,this.$refs.child.listLoad()):this.loadData())},loadECU:function(t){this.listQuery.ecu=t.ecuname,this.queryFaultParamList.ecuId=t.ecuid,this.listQuery.ecuId=t.ecuname,this.ecuList=t,this.faultContentList="",this.ecuData=t,this.clearZhenService(),this.digType1&&this.loadData()},clearSubSystem:function(){this.listQuery.subSystemName="",this.listQuery.ecuClassId="",this.queryFaultParamList.ecuClassId="",this.ecuClassId="",this.subsystemData={},this.digType1&&(10==this.digType1||this.loadData())},clearZhenService:function(){this.serviceIdList=[],this.listQuery.serviceName="",this.listQuery.serviceIds="",this.queryFaultParamList.serviceIds=""},clearECU:function(){this.listQuery.ecu="",this.ecuList={},this.ecuData={},this.queryFaultParamList.ecuId="",this.faultContentList="",this.digType1&&(10==this.digType1||this.loadData())},selectSubSystem:function(t){""!==this.listQuery.vin?"INPUT"==t.target.tagName&&(this.subSystemSelectVisible=!0):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},setSubSystemName:function(t){this.listQuery.subSystemName=t.subSystemName,this.listQuery.ecuClassId=t.id,this.queryFaultParamList.ecuClassId=t.id,this.ecuClassId=t.id,this.subsystemData=t,this.clearECU(),this.digType1&&this.loadData()},selectZhenService:function(){this.validateData()&&(this.listQuery.ecu?(this.digTitle="打印诊断报告结果",this.selectZhenServiceVisible=!0):this.$alert("请先选择ECU","提示",{confirmButtonText:"确定"}))},setZhenService:function(t){this.serviceIdList=t;var e=[],i=[];t.forEach((function(t){e.push(t.serviceName),i.push(t.id)})),this.listQuery.serviceName=e.join(","),this.listQuery.serviceIds=i.join(","),this.queryFaultParamList.serviceIds=i.join(",")},getFaultContentList:function(t){var e="";if(t.length>0){var i=[];t.forEach((function(t){i.includes(t.appendContent)||i.push(t.appendContent)})),e=i.join(",")}return e},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.queryFaultParamList.vin};setTimeout((function(){Object(p["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},clearLoadList:function(){var t=this;setTimeout((function(){t.listLoading=!1,t.digType1&&t.loadData()}),3e3)},readFault:function(){var t=this;if(this.validateData()){this.disabledTimeClick(),this.queryFaultParamList.dxIntType=2,this.digTitle="读取故障结果";var e=this.queryFaultParamList;e&&e.vin&&e.dxIntType&&(window.clearInterval(this.timersjl),this.listLoading=!0,this.clearLoadList(),Object(f["q"])(e).then((function(e){var i=e.data;t.listLoading=!1,405===i.code&&t.createSTask(),t.digType1&&t.loadData(),0===i.code&&(t.actionResult=i.data,t.queryActionDigResultVisible=!0)})).catch((function(){t.digType1&&t.loadData(),t.listLoading=!1})))}},clearFault:function(){var t=this;if(this.validateData()){this.disabledTimeClick(),this.queryFaultParamList.dxIntType=5,this.digTitle="清除故障结果";var e=this.queryFaultParamList;e&&e.vin&&e.dxIntType&&(window.clearInterval(this.timersjl),this.listLoading=!0,this.clearLoadList(),Object(f["a"])(e).then((function(e){var i=e.data;t.listLoading=!1,405===i.code&&t.createSTask(),t.digType1&&t.loadData(),0===i.code&&(t.actionResult=i.data,t.queryActionDigResultVisible=!0)})).catch((function(){t.digType1&&t.loadData(),t.listLoading=!1})))}},setFaultContentList:function(t){this.faultContentList=t},readDataSteam:function(){if(this.validateData()){this.disabledTimeClick(),this.queryFaultParamList.dxIntType=7,this.digTitle="读取数据流结果";var t=this.queryFaultParamList;t&&t.vin&&t.dxIntType&&(window.clearInterval(this.timersjl),this.streamListAjax(this.queryFaultParamList))}},streamListAjax:function(t){var e=this,i=Object(m["c"])(),a=S({},t,{},{token:i});this.listLoading=!0,Object(f["r"])(a).then((function(t){var i=t.data;405===i.code&&e.createSTask(),e.digType1&&e.loadData(),0===i.code?e.$notify({title:"成功",message:"命令下发成功，等待结果上报……",type:"success"}):e.$message.warning({message:i.message,duration:2e3}),e.listLoading=!1})).catch((function(){e.listLoading=!1}))},get_DxResultDataStream:function(t){var e=this;Object(d["g"])({token:t}).then((function(t){var i=t.data;0===i.code&&(e.actionResult=i.data.result||[])}))},reprotdig:function(){var t=this;if(this.validateData())if(this.listQuery.ecu)if(this.listQuery.serviceName)if(this.listQuery.serviceIds.split(",").length>45)this.$alert("最多只能选择45个诊断服务","提示",{confirmButtonText:"确定"});else{this.disabledTimeClick(),this.listLoading=!0,window.clearInterval(this.timersjl);var e={vin:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,ecuClassId:this.queryFaultParamList.ecuClassId,serviceIds:this.listQuery.serviceIds};this.exportData={},this.clearLoadList(),Object(f["p"])(e).then((function(e){var i=e.data;405===i.code&&t.createSTask(),t.digType1&&t.loadData(),i.code,t.listLoading=!1})).catch((function(){t.listLoading=!1}))}else this.$alert("请先选择诊断服务","提示",{confirmButtonText:"确定"});else this.$alert("请先选择ECU","提示",{confirmButtonText:"确定"})},validateData:function(){var t=this.checkForm({formName:"formLeft",formList:["vin"]});return t},reloadDigLog:function(){},reset:function(){this.ecuList={},this.handleClear()},queryResult:function(t){this.tableRow=t,this.digServiceId=t.token,12==this.digType1?this.printVisible=!0:this.digResultVisible=!0;var e=t.operateModule;e+="结果",this.digTitle=e},disabledTimeClick:function(){var t=this;this.startExecutionDisabled=!0,setTimeout((function(){t.startExecutionDisabled=!1}),5e3)},handleStartExecution:function(){if(this.digType1)switch(this.digType1){case"1":this.readFault();break;case"5":this.clearFault();break;case"7":this.readDataSteam();break;case"12":this.reprotdig();break;case"8":this.writeInParts();break;case"10":if(!this.validateData())return;this.disabledTimeClick(),this.$refs.child.handleFilter();break;default:return}else this.$message.warning({message:"请选择诊断服务",duration:2e3})},handleRadioBtn:function(t){if(t&&(this.btnRow=t),this.digType1=this.urlChange(this.btnRow),this.digType1){if(10==this.digType1)return this.$refs.child.vins=this.listQuery.vin,void this.$refs.child.listLoad();this.loadData()}},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.digType1&&this.loadData()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.digType1&&this.loadData()},loadData:function(){var t=this,e=this.checkForm({formName:"formLeft",formList:["vin"]});e&&(this.listLoading=!0,Object(d["h"])({operateType:this.digType1,vinNo:this.listQuery.vin,ecuId:this.queryFaultParamList.ecuId,subSystemId:this.queryFaultParamList.ecuClassId,pageSize:this.listQuery.pageSize,pageNum:this.listQuery.pageNum}).then((function(e){var i=e.data;t.listLoading=!1,0==i.code&&(t.list=i.data,t.total=i.total)})).catch((function(){t.listLoading=!1})))},urlChange:function(t){switch(t.url){case"readFault":return"1";case"clearFault":return"5";case"readFreezeFrame":return"4";case"readDataSteam":return"7";case"reprotdig":return"12";case"writeInParts":return"8";case"ioControlAction":return"10";default:return"2"}}}},N=O,I=(i("7265"),i("0279"),i("2877")),D=Object(I["a"])(N,a,n,!1,null,"293e905e",null);e["default"]=D.exports},"6b21":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"安全库名称："}},[i("el-input",{attrs:{placeholder:"请输入安全库名称",clearable:"",maxlength:"50"},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["createdBy"===e.item.prop?i("span",[t._v("\n            "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n        ")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t\t\t")]):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("9123"),u=i("e85a"),d={name:"securityLib",components:{AddUpdateDialog:u["default"]},mixins:[s["a"],o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{loginName:"",realName:""},actionWidth:0,actionFixed:"",showfilter:!1,tableList:[{value:"安全库名称\t",prop:"fileName",position:"center",checked:!0,width:180,fixed:"left"},{value:"创建人\t",prop:"createdBy",position:"center",width:90,checked:!0},{value:"关联ECU名称",prop:"ecuName",position:"center",width:140,checked:!0},{value:"车型",prop:"carTypeName",position:"center",checked:!0,width:120},{value:"配置级别",prop:"configLevel",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",width:140,checked:!0},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,authouizeList:[],list:[],listLoading:!1,addUpdateVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(c["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t,e){this.list.some((function(e,i){e.id===t.row.id&&(t.row.$index=i)})),this.tableRow=t.row},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this;this.tableRow=t;var i={securityLibId:this.tableRow.id,securityLibName:this.tableRow.fileName};this.$confirm("是否删除".concat(this.tableRow.fileName,"安全库?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["c"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.tableRow={})}))})).catch((function(){}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"150ef074",null);e["default"]=f.exports},"6c35":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"65px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"角色名称："}},[i("el-input",{attrs:{placeholder:"请输入角色名称",clearable:""},model:{value:t.listQuery.roleName,callback:function(e){t.$set(t.listQuery,"roleName",e)},expression:"listQuery.roleName"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom","is-collapse":!1,isdisabled:t.listLoading},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,isShowOperation:!0,buttonList:t.tableAction},on:{"click-delete":t.handleDelete,"click-update":t.handleUpdate,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["roleName"===e.item.prop?i("span",[i("a",{staticClass:"vinNo",on:{click:function(i){return t.seePermisson(e.row)}}},[t._v(t._s(e.row[e.item.prop]))])]):"createdBy"===e.item.prop||"modifiedBy"===e.item.prop?i("span",[t._v("\n          "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n        ")]):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||(0==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{},isSeePermisson:t.isSeePermisson},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("c1fb"),l=i("7829"),c=i("3528"),u=i("a4bb"),d={name:"role",components:{AddUpdateDialog:u["default"]},mixins:[s["a"],o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url||"setPermissions"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},data:function(){return{listQuery:{roleName:""},showfilter:!1,tableList:[{value:"角色名称",prop:"roleName",checked:!0,fixed:"left",width:100,position:"center"},{value:"角色描述",prop:"remark",width:100,checked:!0,position:"center"},{value:"创建人",prop:"createdBy",width:120,checked:!0,position:"center"},{value:"创建时间",prop:"createdOn",width:140,checked:!0,position:"center"},{value:"修改人",prop:"modifiedBy",width:120,checked:!0,position:"center"},{value:"修改时间",prop:"modifiedOn",width:140,checked:!0,position:"center"}],authouizeList:[],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,permissonVisible:!1,isSeePermisson:!1,isEdit:!1,tableRow:{},isPut:!1,actionWidth:0,actionFixed:"right"}},mounted:function(){},methods:{listLoad:function(){var t=this;this.list=[],this.listLoading=!0,Object(c["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.tableRow={}),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleAdd:function(){this.addUpdateVisible=!0,this.isEdit=!1,this.isSeePermisson=!1},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功",duration:2e3})},handleUpdate:function(t){this.tableRow=t,this.isEdit=!0,this.addUpdateVisible=!0,this.isSeePermisson=!1},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功",duration:2e3})},seePermisson:function(t){this.tableRow=t,this.isEdit=!0,this.addUpdateVisible=!0,this.isSeePermisson=!0},handleDelete:function(t){var e=this;this.$confirm("删除角色会导致相关账户失去此角色的权限！请确认您的操作！","删除角色",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:t.roleId,roleName:t.roleName};Object(c["c"])(i).then((function(t){var i=t.data;0===i.code&&(e.listLoad(),e.$message.success({message:"删除成功",duration:2e3}))}))})).catch((function(){}))}}},p=d,h=(i("3dac"),i("2877")),f=Object(h["a"])(p,a,n,!1,null,"24eceeb6",null);e["default"]=f.exports},"6ce3":function(t,e,i){var a={"./blue_finish.png":"6771","./default_finish.png":"f8b0","./red_finish.png":"1e67","./yellow_finish.png":"4124"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="6ce3"},"6dd7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"OTX文件名称："}},[i("el-input",{attrs:{placeholder:"请输入OTX文件名称",clearable:"",maxlength:"50"},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["createdBy"===e.item.prop?i("span",[t._v("\n            "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n        ")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t\t\t")]):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("9123"),u=i("0007"),d={name:"otx",components:{AddUpdateDialog:u["default"]},mixins:[s["a"],o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{loginName:"",realName:""},actionWidth:0,actionFixed:"",showfilter:!1,tableList:[{value:"OTX文件名称",prop:"fileName",position:"center",checked:!0,width:220,fixed:"left"},{value:"车型",prop:"carTypeName",position:"center",width:80,checked:!0},{value:"ECU名称",prop:"ecuName",position:"center",width:140,checked:!0},{value:"配置级别",prop:"configLevel",position:"center",checked:!0,width:120},{value:"创建人",prop:"createdBy",position:"center",width:90,checked:!0},{value:"创建时间",prop:"createdOn",position:"center",width:140,checked:!0},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,authouizeList:[],list:[],listLoading:!1,addUpdateVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(c["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t,e){this.list.some((function(e,i){e.id===t.row.id&&(t.row.$index=i)})),this.tableRow=t.row},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this;this.tableRow=t;var i={securityLibId:this.tableRow.id,securityLibName:this.tableRow.fileName};this.$confirm("是否删除".concat(this.tableRow.fileName,"安全库?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["c"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.tableRow={})}))})).catch((function(){}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"9df50356",null);e["default"]=f.exports},"6e2b":function(t,e,i){"use strict";var a=i("5921"),n=i.n(a);n.a},7089:function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return l}));var a=i("b775");function n(t){return Object(a["a"])({url:"/faultErrorCode/getFaultCodeList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/faultErrorCode/createFaultCode",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/faultErrorCode/updateFaultCode",method:"put",data:t})}function r(t){return Object(a["a"])({url:"/faultErrorCode/deleteFaultCode",method:"delete",data:t})}function l(t){return Object(a["a"])({url:"/faultErrorCode/exportErrorMessage",method:"post",responseType:"arraybuffer",data:t})}},7195:function(t,e,i){},7265:function(t,e,i){"use strict";var a=i("8756"),n=i.n(a);n.a},7341:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"版本号信息",width:"62.5%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"js-system-user app-container",attrs:{slot:"formContent"},slot:"formContent"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),i("el-table-column",{attrs:{prop:"ecuName",label:"ECU名称"}}),i("el-table-column",{attrs:{prop:"wareVersion",label:t.versionTitle}}),i("el-table-column",{attrs:{prop:"content",label:"原始报文"}}),i("el-table-column",{attrs:{prop:"resultCode",label:"响应代码"}}),i("el-table-column",{attrs:{prop:"rwData",label:"响应描述"}}),i("el-table-column",{attrs:{prop:"createOn",label:"读取时间"}}),i("el-table-column",{attrs:{prop:"analysisResult",label:"结果"}})],1)],1)])},n=[],s=i("75fc"),o=i("fab6"),r=i("6d60"),l=i("babb"),c=i("d0a1"),u={name:"versionDialog",mixins:[o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},doNotInit:!0,props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},watch:{visibles:{handler:function(t){t&&(this.versionTitle=this.data.versionTitle,this.listLoad(this.data))}}},data:function(){return{versionTitle:"版本号",list:[],listLoading:!1,interval:null}},beforeDestroy:function(){clearInterval(this.interval),this.list=[],this.tipText=""},mounted:function(){},methods:{qinkong:function(){clearInterval(this.interval)},listLoad:function(t){var e=this,i=0;this.interval=setInterval((function(){var a={token:t.token,pageNum:1,pageSize:100};Object(c["m"])(a).then((function(t){var a=t.data;if(a.data){console.log(a);var n=[];n=Object(s["a"])(e.list),e.list=a.data,n.length==e.list.length?(i++,10==i&&(clearInterval(e.interval),e.tipText="数据上报完毕")):i=0}else i++,10==i&&(e.tipText="暂无数据",e.qinkong(),e.versionTitle="版本号");e.listLoading=!1})).catch((function(t){console.log(t),e.listLoading=!1,e.tipText="数据上报失败！"}))}),3e3)},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"5ccd5ef9",null);e["default"]=h.exports},"739e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"升级包名称："}},[i("el-input",{attrs:{placeholder:"请输入升级包名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["fileSize"==e.item.prop?i("span",[t._v(t._s(t.conver(e.row[e.item.prop])))]):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("ed7c"),u=i("fa06"),d=i("c0a3"),p={name:"upgradePackageManage",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:d["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{fileName:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"升级包名称",prop:"fileName",position:"center",checked:!0,width:100,fixed:"left"},{value:"升级包大小",prop:"fileSize",position:"center",checked:!0,width:150},{value:"上传时间",prop:"createdOn",position:"center",checked:!0,width:140}],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){},methods:{conver:c["a"],listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(u["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this,i={securityLibId:t.id,securityLibName:t.fileName};this.$confirm("确定要删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u["a"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"e2f5e79a",null);e["default"]=m.exports},"756d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.digTitle,width:"60%",isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("div",{staticClass:"js-system-user app-container"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!0},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t\t")])]}}])})],1)])])},n=[],s=i("fab6"),o=i("6d60"),r={name:"queryDigResult",doNotInit:!0,mixins:[s["a"],o["a"]],computed:{filterTableList:function(){if("12"!==this.digType){this.reportVisible=!1;var t=0;switch(this.digType){case"1":case"2":case"3":t=0;break;case"5":t=4;break;case"4":t=1;break;case"7":t=2;break;case"8":t=3;break}return this.tableList[t].filter((function(t){return t.checked}))}this.reportVisible=!0}},props:{visibles:{type:Boolean,default:!1},list:{type:Array,default:[]},digTitle:{type:String,default:""},digType:{type:String,default:""}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},listLoading:!1,showfilter:!1,tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"故障码",prop:"result",position:"center",checked:!0},{value:"故障码描述",prop:"content",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0}],[{value:"id",prop:"index",position:"center",checked:!1,needMerge:!0},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!0},{value:"故障码",prop:"content",position:"center",checked:!0,needMerge:!0},{value:"内容",prop:"name",position:"center",checked:!0},{value:"结果",prop:"value",position:"center",checked:!0}],[{value:"ECU",prop:"ecuName",position:"center",checked:!0},{value:"读取内容",prop:"digContent",position:"center",checked:!0},{value:"读取结果",prop:"digResult",position:"center",checked:!0},{value:"原始数据流",prop:"rawData",position:"center",checked:!0},{value:"失败描述",prop:"digNrcdes",position:"center",checked:!0},{value:"读取时间",prop:"createdOn",position:"center",checked:!0}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"写入内容",prop:"content",position:"center",checked:!0},{value:"是否成功",prop:"result",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"是否成功",prop:"result",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0}]],tableHeight:0}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.tableHeight=.6*window.innerHeight})),window.onresize=function(){e.getOtherHeight();e.$nextTick((function(){e.tableHeight=.6*window.innerHeight}))}},methods:{listLoad:function(){},closeDialog:function(){this.$emit("update:visibles",!1)}}},l=r,c=i("2877"),u=Object(c["a"])(l,a,n,!1,null,null,null);e["default"]=u.exports},"76ca":function(t,e,i){"use strict";var a=i("9eaa"),n=i.n(a);n.a},7829:function(t,e,i){"use strict";i("7f7f"),i("ac6a");var a=i("4360");function n(t){var e=a["a"].getters.addRealRouters,i=[];if(0===e.length)return i;function n(t,e){t.forEach((function(t){t.name===e&&(i=t.button||[]),t.children&&t.children.length>0&&n(t.children,e)}))}return n(e,t),i}i.d(e,"a",(function(){return s}));var s={data:function(){return{authouizeList:[]}},created:function(){this.$options.doNotButton||(this.authouizeList=n(this.$route.name).filter((function(t){return t.isShow})))}}},"78a0":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"选择OTX文件",width:"70%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"OTX文件名称："}},[i("el-input",{attrs:{placeholder:"请输入OTX文件名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-message",{attrs:{title:"已选中OTX文件",isShowTitle:!0,icon:"icon_select_subsystem",data:t.fileName}}),i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-50},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("9123"),c={name:"otxListDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.fileName=this.data.fileName,this.listLoad())}}},data:function(){return{listQuery:{fileName:""},tableList:[{value:"OTX文件名称",prop:"fileName",position:"center",checked:!0,width:220,fixed:"left"},{value:"车型名称",prop:"carTypeName",position:"center",width:80,checked:!0},{value:"创建人",prop:"createdBy",position:"center",width:90,checked:!0},{value:"创建时间",prop:"createdOn",position:"center",width:140,checked:!0},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],total:0,list:[],listLoading:!1,fileName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuId=this.data.ecu,Object(l["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable1.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.fileName=e.fileName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("OTXId",this.tableRow),this.closeDialog()):this.$alert("请选中OTX文件","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"2c4d56d5",null);e["a"]=p.exports},7961:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visible,title:t.isEdit?"编辑分系统":"新增分系统",width:"40%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.handleSubmit}},[i("el-form",{ref:"formInfo",attrs:{slot:"drawerContent",model:t.formInfo,rules:t.rules,"label-position":"right","label-width":"100px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"分系统名称：",prop:"subSystemName"}},[i("el-input",{attrs:{placeholder:"请输入分系统名称",maxlength:"20"},model:{value:t.formInfo.subSystemName,callback:function(e){t.$set(t.formInfo,"subSystemName",e)},expression:"formInfo.subSystemName"}})],1),i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-input",{attrs:{readonly:"",filterable:"",clearable:"",placeholder:"点击进行车型选择"},nativeOn:{click:function(e){return t.selectCarType(e)}},model:{value:t.formInfo.carTypeName,callback:function(e){t.$set(t.formInfo,"carTypeName",e)},expression:"formInfo.carTypeName"}})],1),i("el-form-item",{attrs:{label:"关联ECU：",prop:"ecuNames"}},[i("el-input",{attrs:{readonly:"",filterable:"",clearable:"",placeholder:"点击进行ECU选择"},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.formInfo.ecuNames,callback:function(e){t.$set(t.formInfo,"ecuNames",e)},expression:"formInfo.ecuNames"}})],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,data:t.ecuList,carTypeData:t.carTypeData},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}}),i("app-car-type-list",{attrs:{visibles:t.carTypeListVisible,data:t.carTypeData},on:{"update:visibles":function(e){t.carTypeListVisible=e},carType:t.loadCarType}})],1)},n=[],s=(i("8e6e"),i("456d"),i("75fc")),o=(i("ac6a"),i("28a5"),i("bd86")),r=i("dee4"),l=i("5c83"),c=i("2c25"),u=i("4797"),d=i("a2d2"),p=i("10aa"),h=i("f80b");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"AddUpdateDialog",directives:{elDragDialog:l["a"]},components:{AppEcuList:u["default"],AppCarTypeList:d["default"]},mixins:[p["a"]],props:{visible:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){var t=this,e=function(t,e,i){if(!e)return i(new Error("请输入分系统名称"))},i=function(e,i,a){if(!t.formInfo.carTypeName)return a(new Error("请输入车型名称"))},a=function(e,i,a){if(!t.formInfo.ecuNames)return a(new Error("请选择ECU"))};return{rules:{subSystemName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],carTypeId:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}],ecuNames:[{required:!0,trigger:"change",validator:a}]},formInfo:{ecuIds:"",ecuNames:"",carTypeName:""},ecuidList:[],ecuListVisible:!1,carTypeListVisible:!1,carTypeList:[],carTypeData:{},ecuList:[]}},mounted:function(){},watch:{visible:function(t){var e=this;if(t&&(this._getCarType(),this.formInfo=m({},this.data),this.isEdit)){var i=this.data.ecuIdList.split(","),a=this.data.ecuNameList.split(",");i.forEach((function(t,i){e.ecuList.push({id:t,ecuName:a[i]})})),this.formInfo.ecuIds=this.data.ecuIdList,this.formInfo.ecuNames=this.data.ecuNameList,this.carTypeData={carTypeName:this.data.carTypeName,carTypeId:this.data.carTypeId},this.formInfo.carTypeName=this.data.carTypeName,this.formInfo.carTypeId=this.data.carTypeId}}},methods:{_getCarType:function(){var t=this;Object(h["h"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},closeDialog:function(){this.$emit("update:visible",!1),this.ecuidList=[],this.ecuList=[],this.carTypeData={}},handlecancle:function(){this.closeDialog()},handleSubmit:function(){var t=this.checkForm({formName:"formInfo",formList:["subSystemName","carTypeId","ecuNames"]});t&&(this.isEdit?(this.formInfo.subSystemId=this.formInfo.id,this._updateSubsystem(this.formInfo)):this._createSubsystem(this.formInfo))},_updateSubsystem:function(t){var e=this;Object(c["e"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("update-complete"),e.closeDialog())}))},_createSubsystem:function(t){var e=this;Object(c["b"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("add-complete"),e.closeDialog())}))},selectECU:function(){this.formInfo.carTypeName?this.ecuListVisible=!0:this.$alert("请先选择车型","提示",{confirmButtonText:"确定"})},loadECU:function(t){this.ecuList=Object(r["b"])(Object(s["a"])(t),"id");var e="",i="";t.forEach((function(t){e+=t.id+",",i+=t.ecuName+","})),e=e.substring(0,e.lastIndexOf(",")),i=i.substring(0,i.lastIndexOf(",")),this.formInfo.ecuNames=i,this.formInfo.ecuIds=e},selectCarType:function(){this.carTypeListVisible=!0},loadCarType:function(t){this.carTypeData=t,this.formInfo.carTypeName=t.carTypeName,this.formInfo.carTypeId=t.id,this.formInfo.ecuNames="",this.formInfo.ecuIds="",this.ecuList=[]}}},g=b,v=i("2877"),y=Object(v["a"])(g,a,n,!1,null,"15d1026b",null);e["default"]=y.exports},"79d5":function(t,e,i){"use strict";var a=i("e6af"),n=i.n(a);n.a},"7ac7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑整车编号":"新增整车编号",width:"40%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"80px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.carTypeId,callback:function(e){t.$set(t.formInfo,"carTypeId",e)},expression:"formInfo.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1),i("el-form-item",{attrs:{label:"车型配置：",prop:"configLevel"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formInfo.configLevel,callback:function(e){t.$set(t.formInfo,"configLevel",e)},expression:"formInfo.configLevel"}},t._l(t.configLevelList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.configLevel,label:t.configLevelName}})})),1)],1),i("el-form-item",{attrs:{label:"位数：",prop:"digit"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入位数"},model:{value:t.formInfo.digit,callback:function(e){t.$set(t.formInfo,"digit",e)},expression:"formInfo.digit"}})],1),i("el-form-item",{attrs:{label:"数值：",prop:"refValue"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入数值",maxlength:"20"},model:{value:t.formInfo.refValue,callback:function(e){t.$set(t.formInfo,"refValue",e)},expression:"formInfo.refValue"}})],1)],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("c5f6"),i("7514"),i("bd86")),o=i("5c83"),r=i("3d7f"),l=i("f80b"),c=i("10aa"),u=i("40aa");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[c["a"],u["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){var e=this;this.formInfo=p({},this.data),Object(l["d"])().then((function(t){var i=t.data;0==i.code&&(e.carmodellist=i.data||[])}))},immediate:!0}},data:function(){var t=function(t,e,i){if(!e)return i(new Error("请输入车型名称"))},e=function(t,e,i){if(!e)return i(new Error("请选择车型配置"))},i=function(t,e,i){if(!e)return i(new Error("请输入数值"))},a=function(t,e,i){if(void 0===e||!e)return i(new Error("请输入数值"));var a=/^[1-9]\d*$/;return!a.test(e)||e>20?i(new Error("请输入1~20的正整数")):void 0};return{formInfo:{},configLevelList:[{configLevel:1,configLevelName:"低配"},{configLevel:2,configLevelName:"中配"},{configLevel:3,configLevelName:"高配"}],carmodellist:[],rules:{carTypeId:[{required:!0,trigger:"blur",validator:t},{trigger:"change",validator:t}],configLevel:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],refValue:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}],digit:[{required:!0,trigger:"blur",validator:a},{trigger:"change",validator:a}]}}},methods:{closeDialog:function(){this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},_buttonAdd:function(t){var e=this;Object(r["a"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("add-complete"),e.closeDialog())}))},_buttonUpdate:function(t){var e=this;Object(r["d"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("update-complete"),e.closeDialog())}))},submitForm:function(){var t=this,e=this.checkForm({formName:"formCenter",formList:["carTypeId","configLevel","digit","refValue"]});e&&(this.formInfo.carTypeName=this.carmodellist.find((function(e){return e.carTypeId===t.formInfo.carTypeId})).carTypeName,this.formInfo.digit=Number(this.formInfo.digit),this.isEdit?this._buttonUpdate(this.formInfo):this._buttonAdd(this.formInfo))}}},f=h,m=i("2877"),b=Object(m["a"])(f,a,n,!1,null,"c810dafe",null);e["default"]=b.exports},"7ae6":function(t,e,i){"use strict";var a=i("82fae"),n=i.n(a);n.a},"7c27":function(t,e,i){"use strict";var a=i("839b"),n=i.n(a);n.a},"7dca":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"65px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"工作邮箱："}},[i("el-input",{attrs:{placeholder:"请输入工作邮箱",clearable:""},model:{value:t.listQuery.email,callback:function(e){t.$set(t.listQuery,"email",e)},expression:"listQuery.email"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间：",prop:"endTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"用户类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.userType,callback:function(e){t.$set(t.listQuery,"userType",e)},expression:"listQuery.userType"}},t._l(t.commontData.usertypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"手机号："}},[i("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作功能："}},[i("el-input",{attrs:{filterable:"",clearable:"",placeholder:"请输入操作功能"},model:{value:t.listQuery.controllerName,callback:function(e){t.$set(t.listQuery,"controllerName",e)},expression:"listQuery.controllerName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作动作："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.operatingType,callback:function(e){t.$set(t.listQuery,"operatingType",e)},expression:"listQuery.operatingType"}},t._l(t.operatingTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作描述："}},[i("el-input",{attrs:{filterable:"",clearable:"",placeholder:"请输入操作描述"},model:{value:t.listQuery.operatingMessage,callback:function(e){t.$set(t.listQuery,"operatingMessage",e)},expression:"listQuery.operatingMessage"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"客户端IP："}},[i("el-input",{attrs:{filterable:"",clearable:"",placeholder:"请输入客户端IP"},model:{value:t.listQuery.ipAddress,callback:function(e){t.$set(t.listQuery,"ipAddress",e)},expression:"listQuery.ipAddress"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["userType"==e.item.prop?i("span",[t._v("\n          "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n        ")]):"operatingStatus"==e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"50px"},attrs:{type:"0"===e.row.operatingStatus?"success":"danger",effect:"dark"}},[t._v("\n            "+t._s("0"===e.row["operatingStatus"]?"成功":"失败")+"\n          ")])],1):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fab6"),r=i("6d60"),l=i("c1fb"),c=i("7829"),u=i("dee4"),d=i("2f62"),p=i("a457");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"operationLog",filters:{switchText:function(t,e){return"operatingStatus"===e?"0"===t?"成功":" 失败":"userType"===e?0===t?"内部用户":" 外部用户":void 0}},mixins:[o["a"],r["a"],l["a"],c["a"]],data:function(){return{listQuery:{email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),ipAddress:"",controllerName:"",operatingType:"",operatingMessage:"",userType:""},operatingTypeList:[{label:"新增",value:"create"},{label:"编辑",value:"update"},{label:"删除",value:"delete"},{label:"其他",value:"unknown"}],showfilter:!1,listLoading:!1,authouizeList:[],tableHeight:0,total:0,list:[],tableRow:{},tableList:[{value:"工作邮箱",prop:"email",width:125,checked:!0,fixed:"left",position:"center"},{value:"手机号",prop:"mobile",width:100,checked:!0,position:"center"},{value:"用户类型",prop:"userType",position:"center",width:90,checked:!0},{value:"操作时间",prop:"operatingTime",position:"center",width:140,checked:!0},{value:"操作功能",prop:"functionName",position:"center",width:140,checked:!0},{value:"操作动作",prop:"operatingType",position:"center",width:150,checked:!0},{value:"操作结果",prop:"operatingStatus",position:"center",width:80,checked:!0},{value:"客户端IP",prop:"ipAddress",position:"center",width:150,checked:!0},{value:"浏览器信息",prop:"browser",position:"center",width:150,checked:!0},{value:"操作描述",prop:"operatingMessage",position:"center",width:300,checked:!0}]}},watch:{},computed:f({filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},Object(d["c"])(["commontData"])),mounted:function(){},methods:{handleClear:function(){this.listQuery={pageNum:1,pageSize:10,email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),ipAddress:"",controllerName:"",operatingType:"",operatingMessage:"",userType:""},this.listLoad()},rowClick:function(t){var e=t.row;this.tableRow={},this.list.some((function(t,i){t.id===e.id&&(e.$index=i)})),this.tableRow=e},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime?this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):Object(u["c"])(this.listQuery.startTime,this.listQuery.endTime)>1?this.$message.warning({message:"只能查询一天之内的数据!",duration:2e3}):(this.listLoading=!0,this.list=[],Object(p["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.tableRow={}),t.listLoading=!1})).catch((function(){t.listLoading=!1}))):this.$message.warning({message:"请输入所有查询时间!",duration:2e3})}}},b=m,g=i("2877"),v=Object(g["a"])(b,a,n,!1,null,"8756cd8a",null);e["default"]=v.exports},"7e32":function(t,e,i){"use strict";var a=i("c990"),n=i.n(a);n.a},"7e80":function(t,e,i){"use strict";var a=i("5ac2"),n=i.n(a);n.a},"7fde":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"故障码："}},[i("el-input",{attrs:{placeholder:"请输入故障码",clearable:"",maxlength:"20"},model:{value:t.listQuery.faultCode,callback:function(e){t.$set(t.listQuery,"faultCode",e)},expression:"listQuery.faultCode"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"故障码描述："}},[i("el-input",{attrs:{placeholder:"请输入故障码描述",clearable:"",maxlength:"50"},model:{value:t.listQuery.codeDescription,callback:function(e){t.$set(t.listQuery,"codeDescription",e)},expression:"listQuery.codeDescription"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-import":function(e){t.importVisible=!0},"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}}),i("import-dialog",{attrs:{action:"api/diagnosis/faultErrorCode/importFaultCode","template-url":"file/template/faultImport.xlsx",visibles:t.importVisible,maxNumber:5e3},on:{"update:visibles":function(e){t.importVisible=e},"upload-success":t.reloadList}},[i("result-dialog",{attrs:{visibles:t.resultVisible,data:t.importResult},on:{"update:visibles":function(e){t.resultVisible=e},"export-fail":t.exportFail}})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("7089"),u=i("0dec"),d=i("cf29"),p=i("510f"),h={name:"faultCodeManagement",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"],importDialog:d["a"],resultDialog:p["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url||"import"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},watch:{},data:function(){return{listQuery:{codeDescription:"",faultCode:"",ecuName:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,importVisible:!1,resultVisible:!1,importResult:{},tableList:[{value:"故障码",prop:"faultCode",position:"center",checked:!0,fixed:"left",width:70},{value:"故障码描述",prop:"codeDescription",position:"center",checked:!0,width:180},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:100},{value:"关联车型",prop:"carTypeName",position:"center",checked:!0,width:100},{value:"解决方案",prop:"solution",position:"center",checked:!0,width:140},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdName",position:"center",checked:!0,width:100}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){},methods:{reloadList:function(t){t.errorList&&t.errorList.length>0?(this.importResult=t,this.resultVisible=!0):(this.resultVisible=!1,this.importVisible=!1),this.listLoad()},hanleExport:function(){},exportFail:function(t){var e=this;Object(c["c"])({errorList:t}).then((function(t){var i=t.data;0===i.code&&e.$message.success("导出成功")}))},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){this.isEdit=!0,this.addUpdateVisible=!0,this.tableRow=t},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this,i={id:t.id,faultCode:t.faultCode};this.$confirm("是否删除".concat(t.faultCode,"故障码?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},f=h,m=i("2877"),b=Object(m["a"])(f,a,n,!1,null,"68dcafff",null);e["default"]=b.exports},8059:function(t,e,i){},8154:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:"上传记录",width:"64%",isDrawerFoot:!1,wrapperClosable:!0},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carTypeNameList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.operationType,callback:function(e){t.$set(t.listQuery,"operationType",e)},expression:"listQuery.operationType"}},t._l(t.operationTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.text,value:t.value}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,tableHeights:t.tableHeight,isShowOperation:!1},on:{"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["operationType"==e.item.prop?i("div",[i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop)))])]):i("span",[t._v(t._s(t._f("processData")(e.row[e.item.prop])))])]}}])})],1)])],1)},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("571f"),c={name:"logDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],props:{visibles:{type:Boolean,default:!1}},watch:{visibles:{handler:function(t){t&&(this.getcarTypeNameList(),this.listLoad())}}},filters:{switchText:function(t,e){return"operationType"===e?0==t?"下发信息":1==t?"接收应答":"":t}},data:function(){return{listQuery:{vinNo:"",carTypeId:"",operationType:""},authouizeList:[],showfilter:!1,tableList:[{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:"180px",fixed:"left"},{value:"车型名称",prop:"batchName",position:"center",checked:!0,width:"80px"},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:"140px"},{value:"创建人",prop:"loginName",position:"center",checked:!0,width:"140px"},{value:"操作类型",prop:"operationType",position:"center",checked:!0,width:"80px"},{value:"参数",prop:"content",position:"center",checked:!0,width:"180px"},{value:"备注",prop:"note",position:"center",checked:!0,width:"180px"}],total:0,list:[],tableRow:{},listLoading:!1,carTypeNameList:[],operationTypeList:[{text:"下发信息",value:"0"},{text:"接收应答",value:"1"}]}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},methods:{getcarTypeNameList:function(){var t=this;Object(l["a"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.carTypeNameList=i.data)}))},listLoad:function(){var t=this;this.listLoading=!0,Object(l["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},closeDialog:function(){this.systemName="",this.$emit("update:visibles",!1),this.handleClose()}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"1ac07a1b",null);e["default"]=p.exports},"82fae":function(t,e,i){},"838a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.digTitle,width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-table",{attrs:{slot:"table",tableHeights:t.tableHeight,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:12==t.digType?t.tableAction1:t.tableAction,isShowOperation:1==t.digType||12==t.digType},on:{"row-click":t.rowClick,"click-viewSolution":t.viewSolution,"click-readFreezeFrame":t.readFreezeFrameResult,"click-detail":t.handleDetail,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["8"!==t.digType&&"5"!==t.digType||"result"!==e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])}),i("viewSolutionDialog",{attrs:{visibles:t.viewSolutionVisible,data:t.tableRow,vinNo:t.queryFaultParamList.vin},on:{"update:visibles":function(e){t.viewSolutionVisible=e}}}),i("app-freeze-frame",{attrs:{visibles:t.freezeFrameVisible,faultParamList:t.queryFaultParam},on:{"update:visibles":function(e){t.freezeFrameVisible=e}}}),i("see-detail-drawer",{attrs:{visibles:t.detailVisible,data:t.tableRow},on:{"update:visibles":function(e){t.detailVisible=e}}})],1)])},n=[],s=(i("6762"),i("2fdb"),i("ac6a"),i("c1fb")),o=i("fab6"),r=i("9190"),l=i("1ad5"),c=i("4b7d"),u=i("8b66"),d=i("5fe2"),p={name:"queryActionDigResult",doNotInit:!0,mixins:[o["a"],s["a"],r["a"],l["a"]],components:{viewSolutionDialog:c["default"],AppFreezeFrame:u["default"],seeDetailDrawer:d["default"]},computed:{filterTableList:function(){var t=0;switch(this.digType){case"1":case"2":case"3":t=0;break;case"5":t=4;break;case"4":t=1;break;case"7":t=2;break;case"8":t=3;break;case"12":t=5;break}return this.tableList[t].filter((function(t){return t.checked}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"viewSolution"===t.url||"readFreezeFrame"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},props:{visibles:{type:Boolean,default:!1},digServiceId:{type:String,default:""},digTitle:{type:String,default:""},authouizeList:{type:Array,default:function(){return[]}},digType:{type:String,default:""},queryFaultParamList:{type:Object},data:{type:Object|Array}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},queryFaultParam:{},actionWidth:0,actionFixed:"false",detailVisible:!1,showfilter:!1,tableAction1:[{functionName:"查看详情",functionNameEn:"查看详情",functionType:2,url:"detail",icon:"detail3",isShow:1}],tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"dtcNameChinese",position:"center",checked:!0,width:140},{value:"维修指引",prop:"enableCriteria",position:"center",checked:!0,width:140},{value:"维修建议",prop:"testPassCondition",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}],[{value:"id",prop:"index",position:"center",checked:!1,needMerge:!0,width:120},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!0,width:120},{value:"故障码",prop:"content",position:"center",checked:!0,needMerge:!0,width:120},{value:"内容",prop:"name",position:"center",checked:!0,width:120},{value:"结果",prop:"value",position:"center",checked:!0,width:120}],[{value:"ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"读取内容",prop:"digContent",position:"center",checked:!0,width:120},{value:"读取结果",prop:"digResult",position:"center",checked:!0,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,width:120},{value:"失败描述",prop:"digNrcdes",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"写入内容",prop:"content",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:120},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断车辆",prop:"vinNo",position:"center",checked:!0,width:140},{value:"诊断ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码数量",prop:"errorCount",position:"center",checked:!0,width:120},{value:"读取数量",prop:"readCount",position:"center",checked:!0,width:120}]],tableHeight:0,list:[],viewSolutionVisible:!1,freezeFrameVisible:!1,exportData:{},reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],listLoading:!1,tableRow:{}}},mounted:function(){},methods:{readFreezeFrameResult:function(t){if(t.result){var e={vin:this.queryFaultParamList.vin,dxIntType:4,withParams:t.appendContent,ecuClassId:this.queryFaultParamList.ecuClassId};this.queryFaultParam=e,this.freezeFrameVisible=!0}else this.$alert("请先读取故障码","提示",{confirmButtonText:"确定"})},handleDetail:function(t){t&&(this.tableRow=t),this.detailVisible=!0},viewSolution:function(t){t&&(this.tableRow=t),this.viewSolutionVisible=!0},listLoad:function(){if(this.exportData={},7==this.digType){var t=[];if(this.data.result){t=this.data.result;var e=this.data.dxType;4===e&&(t=this.createNewData(t))}this.list=t}else 12==this.digType?(this.list=this.data||[],this.list.map((function(t){var e=JSON.parse(t.result).dtcList.length||0,i=JSON.parse(t.result).readList.length||0;t.errorCount=e,t.readCount=i}))):this.list=this.data},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.reportList=[]},createNewData:function(t){if(0!==t.length){var e=[];return t.forEach((function(t){if(""===t.result||null===t.result){var i={};i.ecuName=t.ecuName,i.content=t.content,i.name="",i.value=t.errorMessage,e.push(i)}else for(var a=JSON.parse(t.result),n=a.length,s=0;s<n;s++){var o={};o.ecuName=t.ecuName,o.content=t.content,o.name=a[s].NAME,o.value=a[s].VALUE+a[s].UNIT,e.push(o)}0})),this.setData(e),e}},setData:function(t){for(var e=0,i=0,a=[],n=[],s=1,o=0;o<t.length;o++){if(a.includes(t[o].ecuName)||(a=[],a.push(t[o].ecuName),t[o].ecuStartMultiRow=!0,t[o].index=s,n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0&&(t[o-e].rowCountEcu=e,t[o-i].rowCountFault=i),s++,e=0,i=0),!n.includes(t[o].content)){if(n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0){t[o-i].rowCountFault=i}i=0}e++,i++,t.length===o+1&&(t[o+1-e].rowCountEcu=e,t[o+1-i].rowCountFault=i)}return t}}},h=p,f=(i("8bd5"),i("2877")),m=Object(f["a"])(h,a,n,!1,null,null,null);e["default"]=m.exports},"838f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",width:"65%",top:"10vh",isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuname,callback:function(e){t.$set(t.listQuery,"ecuname",e)},expression:"listQuery.ecuname"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{data:t.rowECUName}}),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-120},on:{"row-dblclick":t.rowDblClick,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=(i("c5f6"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c={name:"SelectECUDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""},state:{type:Number,default:0},carTypeData:{type:Object,default:function(){return{}}}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:120},{value:"接受地址",prop:"responseAddress",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!1,width:140}],total:0,list:[],listLoading:!1,rowECUName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuClassId=this.ecuClassId,this.listQuery.state=this.state,this.listQuery.carType=this.carTypeData.id,this.listQuery.type=2,Object(l["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.rowECUName="已选中ECU名称："+e.ecuname,this.tableRow=e},rowDblClick:function(){this.handleConfirm()},handleConfirm:function(){if(null!==this.tableRow){var t={ecuname:this.tableRow.ecuName,ecuid:this.tableRow.id};this.$emit("carECU",t),this.closeDialog()}else this.$alert("请选中ECU","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"2f077852",null);e["default"]=p.exports},"839b":function(t,e,i){},8756:function(t,e,i){},8894:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("div",{staticClass:"js-input-control app-container"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{ref:"formLeft",staticStyle:{float:"left",width:"80%"},attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"车辆信息：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1)]),i("div",{staticClass:"ioconfig_list"},[i("div",{staticClass:"kzq"},[i("span",{staticClass:"kzq-title"},[t._v("控制区:")])]),i("el-tabs",{attrs:{type:"card"}},t._l(t.ioControlList,(function(e,a){return i("el-tab-pane",{key:a,attrs:{name:a+""},model:{value:t.activeModel,callback:function(e){t.activeModel=e},expression:"activeModel"}},[i("span",{staticClass:"deng-title",attrs:{slot:"label"},slot:"label"},[i("span",{staticClass:"light-bg"},[i("i",{class:"iconfont icon-"+t.iconList[a]})]),i("span",{staticClass:"tab-content"},[t._v(t._s(e.equipmentType))])]),i("div",[i("el-row",{attrs:{gutter:10}},t._l(e.equipmentSubtypeList,(function(a,n){return i("el-col",{key:n,staticStyle:{"padding-bottom":"17px"},attrs:{span:e.equipmentSubtypeList.length<3?24/e.equipmentSubtypeList.length:8}},[i("div",{staticClass:"control-setting"},[i("div",{staticClass:"control-title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a.equipmentSubtype)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"control-content"},[i("el-row",{attrs:{gutter:20}},t._l(a.equipmentName,(function(a,n){return i("el-col",{key:n,staticStyle:{"margin-top":"20px"},attrs:{span:e.equipmentSubtypeList.length>=3?a.equipmentName.length<=4?12:24:8}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"itemData.checked"}}),i("svg-icon",{attrs:{"icon-class":(a.state?"icon_io_success":"icon_io_default")+"_red"}}),i("span",[t._v(t._s(a.equipmentName)+": ")]),i("el-switch",{attrs:{"true-label":1,"false-label":0,"active-color":"#13ce66","inactive-color":"#8398ae"},model:{value:a.state,callback:function(e){t.$set(a,"state",e)},expression:"itemData.state"}})],1)})),1)],1)])])})),1)],1)])})),1),i("app-command-btn",{attrs:{slot:"footer",buttonList:t.authouizeList,showEmpty:!0},on:{"click-clear":t.handleClear,"click-filter":t.handleFilter},slot:"footer"})],1),i("div",{staticClass:"table-list"},[i("div",{staticStyle:{"padding-bottom":"14px"}},[i("span",{staticClass:"kzq-title"},[t._v("执行结果:")])]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!1},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["keyStatus"==e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"65px"},attrs:{type:"已注销"==e.row[e.item.prop]?"danger":"正常使用"==e.row[e.item.prop]?"success":"info",effect:"dark"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop]:"-")+"\n\t\t\t\t\t\t")])],1):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])})],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}})],1)])},n=[],s=(i("c5f6"),i("75fc")),o=(i("ac6a"),i("fab6")),r=i("6d60"),l=i("babb"),c=i("7829"),u=i("d0a1"),d=i("d10c"),p=i("530f"),h={name:"ioControl",doNotInit:!0,mixins:[o["a"],r["a"],l["a"],c["a"]],components:{AppCarList:p["a"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))};return{authouizeList:[],listQuery:{vin:""},iconList:["icon_light_off","icon_direct_off","yuguaxidi","fuzhushebei","zhongkongmensuo"],startSwitch:[],tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120,fixed:"left"},{value:"控制服务名称",prop:"content",position:"center",checked:!0,width:110},{value:"当前状态",prop:"result",position:"center",checked:!0,width:200},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],listLoading:!1,carListVisible:!1,rules:{vin:[{required:!0,trigger:"change",validator:e}]},configList:[],ioControlList:[],carTypeId:"",activeModel:"1",carData:{}}},mounted:function(){var t=this;this._getIoEquipment();var e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{_getIoEquipment:function(){var t=this;Object(u["j"])({}).then((function(e){var i=e.data;0===i.code&&(t.ioControlList=i.data,t.ioControlList.forEach((function(e){e.equipmentSubtypeList.forEach((function(e){e.equipmentName.forEach((function(e){t.$set(e,"checked",!1),t.$set(e,"state",0)}))}))})))}))},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.listQuery.vin};setTimeout((function(){Object(d["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},listLoad:function(){var t=this;this.listLoading=!0,Object(u["o"])({vin:this.listQuery.vin,withParams:this.getParams()}).then((function(e){var i=e.data;405===i.code&&t.createSTask(),0===i.code&&(t.list=i.data),t.listLoading=!1}))},getParams:function(){var t="",e=[];this.ioControlList.forEach((function(t,i){e.push([]),t.equipmentSubtypeList.forEach((function(t){var a;(a=e[i]).push.apply(a,Object(s["a"])(t.equipmentName.filter((function(t){return t.checked}))))}))}));var i=[];return e.forEach((function(t,e){i.push([]),t.forEach((function(t){i[e].push(t.id+":"+Number(t.state))}))})),i.map((function(t){return t.join(",")})).forEach((function(e){t+=e?e+";":"0:0;"})),t=t.slice(0,t.length-1),console.log(t),t},setData:function(t){},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t},selectCar:function(){this.carListVisible=!0},handleClear:function(){var t=this;this.listQuery.vin="",this.ioControlList.forEach((function(e){e.equipmentSubtypeList.forEach((function(e){e.equipmentName.forEach((function(e){t.$set(e,"checked",!1),t.$set(e,"state",0)}))}))}))},handleFilter:function(){this.listLoad()}}},f=h,m=(i("c203"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,null,null);e["default"]=b.exports},"88a7":function(t,e,i){},"89dd":function(t,e,i){"use strict";var a=i("3c93"),n=i.n(a);n.a},"8a60":function(t,e,i){},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"8adb":function(t,e,i){"use strict";var a=i("070d"),n=i.n(a);n.a},"8b05":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.digTitle,width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[7==t.digType?i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:""},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"读取内容："}},[i("el-input",{attrs:{placeholder:"请输入读取内容",clearable:""},model:{value:t.listQuery.content,callback:function(e){t.$set(t.listQuery,"content",e)},expression:"listQuery.content"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading,isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1):t._e(),7==t.digType?i("app-authorize-button",{attrs:{data:t.buttonList},on:{"click-export":t.handleDataStreamExport,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1):t._e(),i("div",{},[i("app-table",{attrs:{slot:"table",tableHeights:t.tableHeight,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:12==t.digType?t.tableAction1:t.tableAction,isShowOperation:1==t.digType||12==t.digType},on:{"click-viewSolution":t.viewSolution,"click-readFreezeFrame":t.readFreezeFrameResult,"click-detail":t.handleDetail,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["8"!==t.digType&&"5"!==t.digType||"result"!==e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])})],1),i("viewSolutionDialog",{attrs:{visibles:t.viewSolutionVisible,data:t.tableRow,vinNo:t.queryFaultParamList.vin},on:{"update:visibles":function(e){t.viewSolutionVisible=e}}}),i("app-freeze-frame",{attrs:{visibles:t.freezeFrameVisible,faultParamList:t.queryFaultParam},on:{"update:visibles":function(e){t.freezeFrameVisible=e}}}),i("see-detail-drawer",{attrs:{visibles:t.detailVisible,data:t.tableRow},on:{"update:visibles":function(e){t.detailVisible=e}}})],1)])},n=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("ac6a"),i("bd86")),o=i("c1fb"),r=i("fab6"),l=i("9190"),c=i("1ad5"),u=i("0c56"),d=i("4b7d"),p=i("8b66"),h=i("5fe2");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"queryDigResult",doNotInit:!0,mixins:[r["a"],o["a"],l["a"],c["a"]],components:{viewSolutionDialog:d["default"],AppFreezeFrame:p["default"],seeDetailDrawer:h["default"]},computed:{filterTableList:function(){var t=0;switch(this.digType){case"1":case"2":case"3":t=0;break;case"5":t=4;break;case"4":t=1;break;case"7":t=2;break;case"8":t=3;break;case"12":t=5;break;case"10":t=6;break}return this.tableList[t].filter((function(t){return t.checked}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"viewSolution"===t.url||"readFreezeFrame"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=60*t.length,this.actionFixed="right"):this.actionFixed="false",t}},props:{visibles:{type:Boolean,default:!1},digServiceId:{type:String,default:""},digTitle:{type:String,default:""},authouizeList:{type:Array,default:function(){return[]}},digType:{type:String,default:""},queryFaultParamList:{type:Object}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},buttonList:[{functionName:"导出",url:"export",icon:"export",iconType:2}],queryFaultParam:{},actionWidth:0,actionFixed:"false",detailVisible:!1,showfilter:!1,tableAction1:[{functionName:"查看详情",functionNameEn:"查看详情",functionType:2,url:"detail",icon:"detail3",isShow:1}],tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"dtcNameChinese",position:"center",checked:!0,width:140},{value:"维修指引",prop:"enableCriteria",position:"center",checked:!0,width:140},{value:"维修建议",prop:"testPassCondition",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}],[{value:"id",prop:"index",position:"center",checked:!1,needMerge:!0,width:120},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,needMerge:!0,width:120},{value:"故障码",prop:"content",position:"center",checked:!0,needMerge:!0,width:120},{value:"内容",prop:"name",position:"center",checked:!0,width:120},{value:"结果",prop:"value",position:"center",checked:!0,width:120}],[{value:"ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"读取内容",prop:"digContent",position:"center",checked:!0,width:120},{value:"读取结果",prop:"digResult",position:"center",checked:!0,width:120},{value:"原始数据流",prop:"rawData",position:"center",checked:!0,width:120},{value:"失败描述",prop:"digNrcdes",position:"center",checked:!0,width:140},{value:"读取时间",prop:"createdOn",position:"center",checked:!0,width:140}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"写入内容",prop:"content",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:120},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"是否成功",prop:"result",position:"center",checked:!0,width:120},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:140},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:200}],[{value:"诊断车辆",prop:"vinNo",position:"center",checked:!0,width:140},{value:"诊断ECU",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码数量",prop:"errorCount",position:"center",checked:!0,width:120},{value:"读取数量",prop:"readCount",position:"center",checked:!0,width:120}],[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120,fixed:"left"},{value:"零部件名称",prop:"equipments",position:"center",checked:!0,width:110},{value:"控制服务名称",prop:"content",position:"center",checked:!0,width:110},{value:"当前状态",prop:"result",position:"center",checked:!0,width:200},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:140}]],tableHeight:0,list:[],viewSolutionVisible:!1,freezeFrameVisible:!1,exportData:{},reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],listLoading:!1,tableRow:{}}},mounted:function(){},methods:{handleDataStreamExport:function(){Object(u["c"])({token:this.digServiceId,ecuName:this.listQuery.ecuName,content:this.listQuery.content})},readFreezeFrameResult:function(t){if(t.result)if(t.ecuID){var e={vin:this.queryFaultParamList.vin,dxIntType:4,withParams:t.appendContent,ecuId:t.ecuID};this.queryFaultParam=e,this.freezeFrameVisible=!0}else this.$alert("无ECU不能读取冻结帧","提示",{confirmButtonText:"确定"});else this.$alert("请先读取故障码","提示",{confirmButtonText:"确定"})},handleDetail:function(t){t&&(this.tableRow=t),this.detailVisible=!0},viewSolution:function(t){t&&(this.tableRow=t),this.viewSolutionVisible=!0},listLoad:function(){var t=this;this.listLoading=!0,this.exportData={},7==this.digType?Object(u["g"])({token:this.digServiceId,ecuName:this.listQuery.ecuName,content:this.listQuery.content}).then((function(e){var i=e.data;if(0===i.code){var a=[];if(i.data.result){a=i.data.result;var n=i.data.dxType;4===n&&(a=t.createNewData(a))}t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1})):12==this.digType?Object(u["i"])(m({token:this.digServiceId},this.queryFaultParamList)).then((function(e){var i=e.data;0===i.code&&(t.list=i.data||[],t.list.map((function(t){var e=JSON.parse(t.result).dtcList.length||0,i=JSON.parse(t.result).readList.length||0;t.errorCount=e,t.readCount=i})),t.total=i.total||0),t.listLoading=!1})).catch((function(){t.listLoading=!1})):Object(u["f"])({token:this.digServiceId}).then((function(e){var i=e.data;if(0===i.code){var a=[];if(i.data.result){a=JSON.parse(i.data.result);var n=i.data.dxType;4===n&&(a=t.createNewData(a))}t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.reportList=[]},createNewData:function(t){if(0!==t.length){var e=[];return t.forEach((function(t){if(""===t.result||null===t.result){var i={};i.ecuName=t.ecuName,i.content=t.content,i.name="",i.value=t.errorMessage,e.push(i)}else for(var a=JSON.parse(t.result),n=a.length,s=0;s<n;s++){var o={};o.ecuName=t.ecuName,o.content=t.content,o.name=a[s].NAME,o.value=a[s].VALUE+a[s].UNIT,e.push(o)}0})),this.setData(e),e}},setData:function(t){for(var e=0,i=0,a=[],n=[],s=1,o=0;o<t.length;o++){if(a.includes(t[o].ecuName)||(a=[],a.push(t[o].ecuName),t[o].ecuStartMultiRow=!0,t[o].index=s,n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0&&(t[o-e].rowCountEcu=e,t[o-i].rowCountFault=i),s++,e=0,i=0),!n.includes(t[o].content)){if(n=[],n.push(t[o].content),t[o].faultStartMultiRow=!0,o>0){t[o-i].rowCountFault=i}i=0}e++,i++,t.length===o+1&&(t[o+1-e].rowCountEcu=e,t[o+1-i].rowCountFault=i)}return t}}},g=b,v=(i("ed88"),i("2877")),y=Object(v["a"])(g,a,n,!1,null,null,null);e["default"]=y.exports},"8b66":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"读取冻结帧结果",width:"62.5%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"js-system-user app-container",attrs:{slot:"formContent"},slot:"formContent"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!1,tableHeights:t.tableHeight},on:{"row-click":t.rowClick,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("6d60"),r=i("babb"),l=i("d0a1"),c={name:"ReadFreezeFrameDialog",mixins:[s["a"],o["a"],r["a"]],doNotInit:!0,computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},faultParamList:{default:function(){return{}}}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{},showfilter:!1,tableList:[{value:"id",prop:"index",position:"center",checked:!1,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"故障码",prop:"content",position:"center",checked:!0,width:140},{value:"内容",prop:"name",position:"center",checked:!0,width:140},{value:"结果",prop:"value",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],listLoading:!1,tableRow:{},indexList:[]}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{listLoad:function(){var t=this,e=this.faultParamList;e&&e.vin&&e.dxIntType&&(this.listLoading=!0,Object(l["b"])(e).then((function(e){var i=e.data;0===i.code&&(t.list=t.createNewData(i.data)),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},createNewData:function(t){if(0!==t.length){var e=[],i=0;return t.forEach((function(t){if(""===t.result||null===t.result){var a={isStartMultiRow:!0,rowCount:1};a.ecuName=t.ecuName,a.content=t.content,a.index=i,a.name="",a.value=t.errorMessage,e.push(a)}else for(var n=JSON.parse(t.result),s=n.length,o=0;o<s;o++){var r={};r.isStartMultiRow=0===o,r.rowCount=s,r.ecuName=t.ecuName,r.content=t.content,r.index=i,r.name=n[o].NAME,r.value=n[o].VALUE,e.push(r)}i++})),e}},rowClick:function(t,e){this.tableRow=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"f264ea00",null);e["default"]=p.exports},"8b89":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型配置："}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.listQuery.configLevel,callback:function(e){t.$set(t.listQuery,"configLevel",e)},expression:"listQuery.configLevel"}},t._l(t.configLevelList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.configLevel,label:t.configLevelName}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["configLevel"==e.item.prop?i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop)))]):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}})],1)},n=[],s=(i("7514"),i("fab6")),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("3d7f"),u=i("f80b"),d=i("7ac7"),p={name:"vehicleNumberSetting",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:d["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{switchText:function(t){switch(t){case 1:return"低配";case 2:return"中配";case 3:return"高配";default:return"-"}}},watch:{},data:function(){return{listQuery:{carTypeName:"",configLevel:""},configLevelList:[{configLevel:1,configLevelName:"低配"},{configLevel:2,configLevelName:"中配"},{configLevel:3,configLevelName:"高配"}],actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:100,fixed:"left"},{value:"车型配置",prop:"configLevel",position:"center",checked:!0,width:100},{value:"位数",prop:"digit",position:"center",checked:!0,width:100},{value:"参数值",prop:"refValue",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:120}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],carmodellist:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){var t=this;Object(u["d"])().then((function(e){var i=e.data;0==i.code&&(t.carmodellist=i.data||[])}))},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},this.listQuery.carTypeId&&(this.listQuery.carTypeName=this.carmodellist.find((function(e){return e.carTypeId===t.listQuery.carTypeId})).carTypeName),Object(c["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){this.isEdit=!0,this.addUpdateVisible=!0,this.tableRow=t},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this,i={id:t.id};this.$confirm("是否删除此项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"a7fecd8a",null);e["default"]=m.exports},"8bba":function(t,e,i){"use strict";var a=i("2920"),n=i.n(a);n.a},"8bd5":function(t,e,i){"use strict";var a=i("8ee2"),n=i.n(a);n.a},"8e0b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-500"},[a("el-row",{staticClass:"app-500-center",attrs:{gutter:10,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:24}},[a("img",{staticStyle:{height:"30vh"},attrs:{src:i("c517")("./"+t.$store.state.theme.activeName+"/500.png"),alt:""}})]),a("el-col",{staticClass:"textButton",attrs:{span:24}},[a("p",{staticStyle:{"font-size":"20px!important",margin:"15px auto",color:"#000"}},[t._v("\n        "+t._s(t.$t("notFound.wrong"))+"\n      ")])]),a("el-col",{staticClass:"textButton",attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:t.toHome}},[t._v("\n          "+t._s(t.$t("notFound.backHome"))+"\n      ")])],1)],1)],1)},n=[],s={name:"Page505",created:function(){this.$store.dispatch("delAllViews")},methods:{toHome:function(){this.$router.push({path:"/home"})}}},o=s,r=(i("d25f"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"ae9df26a",null);e["default"]=l.exports},"8ee2":function(t,e,i){},"8fe2":function(t,e,i){},9123:function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return s}));var a=i("b775");function n(t){return Object(a["a"])({url:"securityLib/getSecurityLibList",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"/securityLib/createOtxfile",method:"POST",data:t})}function o(t){return Object(a["a"])({url:"securityLib/createSecurityLib",method:"POST",data:t})}function r(t){return Object(a["a"])({url:"securityLib/deleteSecurityLib",method:"delete",data:t})}function l(t){return Object(a["a"])({url:"/securityLib/getOtxList",method:"POST",data:t})}function c(t){return Object(a["a"])({url:"/securityLib/getCarTypeList",method:"get",data:t})}},9144:function(t,e,i){"use strict";var a=i("3f0f"),n=i.n(a);n.a},"915f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择诊断周期配置",icon:"select_dig_config",width:"65%",top:"6vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"诊断周期名称："}},[i("el-input",{attrs:{placeholder:"请输入诊断周期名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.configName,callback:function(e){t.$set(t.listQuery,"configName",e)},expression:"listQuery.configName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中诊断周期",isShowTitle:!0,icon:"icon_carlist",data:t.rowVinno}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("31a9"),l={name:"selectCycleConfig",doNotInit:!0,mixins:[s["a"],o["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.data.vinNo&&(this.rowVinno=this.data.configName,this.tableRow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"诊断周期名称",prop:"configName",position:"center",checked:!0,width:180},{value:"诊断服务数量",prop:"serviceCount",position:"center",checked:!0,width:120},{value:"支持车型",prop:"carTypeName",position:"center",checked:!0,width:80},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),rowVinno:""}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.rowVinno=t.row.configName,this.tableRow=t.row},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("setConfigName",this.tableRow),this.closeDialog()):this.$alert("请选中诊断配置","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.listQuery.configName="",this.listQuery.pageNum=1,this.$emit("update:visibles",!1)}}},c=l,u=i("2877"),d=Object(u["a"])(c,a,n,!1,null,"6c480306",null);e["default"]=d.exports},9190:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a481");var a={data:function(){return{tableHeight:0,drawerBodyHeightPx:0}},methods:{getDrawerOtherHeight:function(){var t=0;document.querySelector(".drawerBox .search_list")&&(t=document.querySelector(".drawerBox .search_list").offsetHeight);var e=0;document.querySelector(".drawerBox .search_list")&&(e=1*this.getStyle(document.querySelector(".drawerBox .search_list"),"marginBottom"));var i=0;document.querySelector(".drawerBox .add-btn")&&(i=document.querySelector(".drawerBox .add-btn").offsetHeight);var a=0;document.querySelector(".drawerBox .pagination-container")&&(a=document.querySelector(".drawerBox .pagination-container").offsetHeight);var n=0;document.querySelector(".drawerBox .section-wrap p")&&(n=document.querySelector(".drawerBox .section-wrap p").offsetHeight);var s=0;document.querySelector(".drawerBox .section-wrap p")&&(s=1*this.getStyle(document.querySelector(".drawerBox .section-wrap p"),"marginBottom"));var o=0;document.querySelector(".drawerBox .otherDrawerBox")&&(o=document.querySelector(".drawerBox .otherDrawerBox").offsetHeight);var r=t+e+i+a+n+s+o;return r},getStyle:function(t,e){if(window.getComputedStyle)return getComputedStyle(t,null)[e].replace("px","")}},watch:{visibles:function(t){var e=this;t&&this.$nextTick((function(){var t=0;document.querySelector(".el-drawer__header")&&(t=document.querySelector(".el-drawer__header").offsetHeight+20);var i=0;document.querySelector(".drawerFoot")&&(i=50),e.drawerBodyHeightPx=window.innerHeight-t-i-20,e.tableHeight=e.drawerBodyHeightPx-e.getDrawerOtherHeight(),document.querySelector(".drawerBox .search-collapse")&&document.querySelector(".drawerBox .search-collapse").addEventListener("click",(function(){e.tableHeight=e.drawerBodyHeightPx-e.getDrawerOtherHeight()}))}))}},mounted:function(){var t=this;this.$nextTick((function(){var e=0;document.querySelector(".el-drawer__header")&&(e=document.querySelector(".el-drawer__header").offsetHeight+20);var i=0;document.querySelector(".drawerFoot")&&(i=50),t.drawerBodyHeightPx=window.innerHeight-e-i-20,t.tableHeight=t.drawerBodyHeightPx-t.getDrawerOtherHeight(),document.querySelector(".drawerBox .search-collapse")&&document.querySelector(".drawerBox .search-collapse").addEventListener("click",(function(){t.tableHeight=t.drawerBodyHeightPx-t.getDrawerOtherHeight()}))}))}}},"91f1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?1==t.editType?"编辑系统模板":"编辑分系统":1==t.addType?"新增系统模板":"新增分系统",width:"40%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-row",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"formCenter",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"90px"}},[i("el-form-item",{attrs:{label:t.isEdit?1==t.editType?"模板名称：":"分系统名称：":1==t.addType?"模板名称：":"分系统名称：",prop:"name"}},[i("el-input",{attrs:{maxlength:"20",placeholder:t.isEdit?1==t.editType?"请输入模板名称":"请输入分系统名称":1==t.addType?"请输入模板名称":"请输入分系统名称",clearable:""},model:{value:t.formInfo.name,callback:function(e){t.$set(t.formInfo,"name",e)},expression:"formInfo.name"}})],1)],1)],1)],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("bd86")),o=(i("c5f6"),i("5c83")),r=i("10aa");i("b775");var l=i("e7d4");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"MenuAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[r["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},addType:{type:Number,default:1}},mounted:function(){},data:function(){var t=this,e=function(e,i,a){if(!i)return a(new Error("请输入".concat(t.isEdit?1==t.editType?"模板名称":"分系统名称":1==t.addType?"模板名称":"分系统名称")))};return{formInfo:{name:"",label:""},rules:{name:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},selectButtonArr:[],editType:1}},watch:{visibles:function(t){t&&(0==this.addType&&(this.formInfo=u({},this.data)),console.log(this.isEdit),this.isEdit&&(this.formInfo=u({},this.data,{name:this.data.label}),this.formInfo.children?this.editType=1:this.editType=0),console.log(this.formInfo,"info"))}},methods:{closeDialog:function(){this.formInfo={},this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},submitForm:function(){var t=this.checkForm({formName:"formCenter",formList:["name"]});if(t){var e=this.formInfo,i=e.name,a=e.id,n={name:i||"",id:a||""};this.isEdit?(n.parentId=this.formInfo.parentId,console.log(n,"postData编辑"),this._updateOrganization(n)):(n.id="",1==this.addType?(n.parentId="",console.log(n,"postData")):n.parentId=this.formInfo.id,console.log(n,"postData"),this._addOrganization(n))}},_addOrganization:function(t){var e=this;Object(l["a"])(t).then((function(i){var a=i.data;0===a.code&&(e.$emit("add-complete",{data:t,resultId:a.data}),e.closeDialog())}))},_updateOrganization:function(t){var e=this;Object(l["d"])(t).then((function(i){var a=i.data;0===a.code&&(e.$emit("update-complete",{data:t}),e.closeDialog())}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,null,null);e["default"]=f.exports},"92bf":function(t,e,i){t.exports=i.p+"assets/img/500.0df3f552.png"},"95c0":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-dialog",{attrs:{visibles:t.visibles,title:"选择分系统",width:"60%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"85px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"分系统名称："}},[i("el-input",{attrs:{placeholder:"请输入分系统名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中分系统",isShowTitle:!0,icon:"icon_select_subsystem",data:t.systemName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,buttonList:t.buttonList,isShowOperation:!0,tableHeights:t.tableHeight-80},on:{"click-detail":t.queryEcuList,"row-dblclick":t.rowDblClick,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\r\n                "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\r\n              ")])]}}])})],1)],1)]),i("query-ecu-list",{attrs:{visibles:t.ecuListVisible,ecuClassId:t.ecuClassId},on:{"update:visibles":function(e){t.ecuListVisible=e}}})],1)},n=[],s=(i("ac6a"),i("c5f6"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"查看ECU",width:"60%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1)]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-80},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n           ")])]}}])})],1)])},u=[],d={name:"QueryECUDialog",mixins:[s["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{ecuName:""},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:100,fixed:"left"},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"波特率",prop:"canbaudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"requestCanId",position:"center",checked:!0,width:120},{value:"接受地址",prop:"responseCanId",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!1,width:140}],total:0,list:[],listLoading:!1,tablerow:null}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.ecuClassId=this.ecuClassId,Object(l["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowClick:function(t){this.tablerow=t},closeDialog:function(){this.formInfo={},this.listQuery.ecuName="",this.$emit("update:visibles",!1)}}},p=d,h=(i("48a7"),i("2877")),f=Object(h["a"])(p,c,u,!1,null,"3bf40744",null),m=f.exports,b={name:"Role",doNotInit:!0,components:{queryEcuList:m},mixins:[s["a"],o["a"],r["a"]],props:{visibles:{type:Boolean,default:!1},carTypeId:{type:String,default:""},data:{type:Object,default:function(){return{}}},configLevel:{type:String|Number}},filters:{disableText:function(t){return t?"启用":"禁用"}},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.data.id&&(this.systemName=this.data.subSystemName,this.tableRow=this.data))}}},data:function(){return{listQuery:{subSystemName:"",ecuName:""},authouizeList:[],showfilter:!1,tableList:[{value:"分系统ID",prop:"id",position:"center",checked:!1},{value:"分系统名称",prop:"subSystemName",position:"center",checked:!0},{value:"创建时间\t",prop:"createdOn",position:"center",checked:!1},{value:"创建人",prop:"createdBy",position:"center",checked:!1},{value:"车型名称\t",prop:"carTypeName",position:"center",checked:!0}],total:0,list:[],cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),tableRow:null,listLoading:!1,addUpdateVisible:!1,isEdit:!1,formInfo:{},ecuListVisible:!1,ecuClassId:"",systemName:"",buttonList:[{functionName:"查看关联ECU",functionNameEn:"查看关联ECU",functionType:2,url:"detail",icon:"detail",isShow:1}]}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},mounted:function(){},methods:{hanleExport:function(){},listLoad:function(){var t=this;""!==this.carTypeId&&(this.listLoading=!0,this.listQuery.carTypeId=this.carTypeId,this.tableRow=null,this.configLevel&&(this.listQuery.configLevel=this.configLevel),Object(l["g"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowClick:function(t){this.list.some((function(e,i){e.id===t.row.id&&(t.$index=i)})),this.systemName=t.row.subSystemName,this.tableRow=t.row},queryEcuList:function(t){this.ecuClassId=t.id,this.ecuListVisible=!0},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.systemName="",this.$emit("update:visibles",!1)},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!=this.tableRow?(this.$emit("setSubSystemName",this.tableRow),this.closeDialog()):this.$alert("请选择分系统","提示",{confirmButtonText:"确定"})}}},g=b,v=Object(h["a"])(g,a,n,!1,null,"1b7a9650",null);e["a"]=v.exports},"9a91":function(t,e,i){},"9b11":function(t,e,i){},"9c25":function(t,e,i){},"9cad":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"读取冻结帧结果",width:"62.5%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"js-system-user app-container",attrs:{slot:"formContent"},slot:"formContent"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!0,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n           "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n         ")])]}}])})],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("6d60"),r=i("babb"),l=i("d0a1"),c={name:"ReadFreezeFrameDialog",mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},faultParamList:{default:function(){return{}}}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{},showfilter:!1,tableList:[{value:"id",prop:"index",position:"center",checked:!1,width:140},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"故障码",prop:"content",position:"center",checked:!0,width:140},{value:"内容",prop:"name",position:"center",checked:!0,width:140},{value:"结果",prop:"value",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],listLoading:!1,tableRow:{},indexList:[]}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{listLoad:function(){var t=this,e=this.faultParamList;e&&e.vin&&e.ecuClassId&&e.dxIntType&&(this.listLoading=!0,Object(l["b"])(e).then((function(e){var i=e.data;0===i.code&&(t.list=t.createNewData(i.data)),t.listLoading=!1,t.$emit("reloadDigLog")})).catch((function(e){t.listLoading=!1})))},createNewData:function(t){if(0!==t.length){var e=[],i=0;return t.forEach((function(t){if(""===t.result||null===t.result){var a={isStartMultiRow:!0,rowCount:1};a.ecuName=t.ecuName,a.content=t.content,a.index=i,a.name="",a.value=t.errorMessage,e.push(a)}else for(var n=JSON.parse(t.result),s=n.length,o=0;o<s;o++){var r={};r.isStartMultiRow=0===o,r.rowCount=s,r.ecuName=t.ecuName,r.content=t.content,r.index=i,r.name=n[o].NAME,r.value=n[o].VALUE,e.push(r)}i++})),e}},rowClick:function(t,e){this.tableRow=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]},objectSpanMethod:function(t){var e=t.row,i=(t.column,t.rowIndex,t.columnIndex);if(0===i||1===i||2===i)return e.isStartMultiRow?{rowspan:e.rowCount,colspan:1}:{rowspan:0,colspan:0}}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"9d763bb6",null);e["default"]=p.exports},"9e57":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{gutter:40,type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:7}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"诊断周期名称："}},[i("el-input",{attrs:{placeholder:"请输入诊断周期名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.configName,callback:function(e){t.$set(t.listQuery,"configName",e)},expression:"listQuery.configName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"click-export":t.exportOfflineConfig,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["configName"===e.item.prop?i("span",{staticClass:"vinNo",on:{click:function(i){return t.querySevice(e.row)}}},[t._v("\n        "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n      ")]):"state"===e.item.prop?i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop])))]):"progress"===e.item.prop?i("span",[i("el-progress",{attrs:{percentage:t._f("getProcess")(e.row[e.item.prop])}})],1):"createdBy"===e.item.prop?i("span",[t._v("\n          "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n      ")]):i("span",[t._v("\n        "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n      ")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}}),i("query-service",{attrs:{visibles:t.queryServiceVisible,configId:t.configId},on:{"update:visibles":function(e){t.queryServiceVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("31a9"),u=i("1983"),d=i("1105"),p={name:"offlineConfig",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"],queryService:d["default"]},filters:{},watch:{},data:function(){return{listQuery:{configName:""},authouizeList:[],actionWidth:0,actionFixed:"",showfilter:!1,tableList:[{value:"诊断周期名称",prop:"configName",position:"center",checked:!0,width:250,fixed:"left"},{value:"诊断次数",prop:"dxNum",position:"center",checked:!0,width:80},{value:"诊断服务数量",prop:"serviceCount",position:"center",checked:!0,width:140},{value:"车速（公里/小时）",prop:"speed",position:"center",checked:!0,width:120},{value:"延迟时间（分钟）",prop:"delay",position:"center",checked:!0,width:120},{value:"诊断间隔时间（秒）",prop:"intervalTime",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:90},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:80},{value:"备注",prop:"remark",position:"center",checked:!0,width:200}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,queryServiceVisible:!1,isEdit:!1,tableRow:{},configId:""}},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"export"===t.url||"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){this.tableRow=t,this.isEdit=!0,this.addUpdateVisible=!0},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this;this.tableRow=t;var i={id:this.tableRow.id,configName:this.tableRow.configName};this.$confirm("是否删除".concat(this.tableRow.configName,"离线诊断配置?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))},querySevice:function(t){this.configId=t.id,this.queryServiceVisible=!0},exportOfflineConfig:function(t){var e={id:t.id,configName:t.configName};Object(c["c"])(e)}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"2e5254f2",null);e["default"]=m.exports},"9eaa":function(t,e,i){},"9f90":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"60px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["status"===e.item.prop?i("span",[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(i){return t.switchChange(e.$index,e.row)}},model:{value:e.row[e.item.prop],callback:function(i){t.$set(e.row,e.item.prop,i)},expression:"scope.row[scope.item.prop]"}})],1):i("span",[t._v("\n\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}})],1)},n=[],s=(i("96cf"),i("3b8d")),o=i("fab6"),r=i("6d60"),l=i("babb"),c=i("7829"),u=i("daee"),d=i("d4e7"),p={name:"rdCarManage",mixins:[o["a"],r["a"],l["a"],c["a"]],components:{AddUpdateDialog:d["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url||"detail"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{vin:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"VIN码",prop:"vin",position:"center",checked:!0,width:180,fixed:"left"},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:160},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:160},{value:"授权状态",prop:"status",position:"center",checked:!0,width:160}],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,isEdit:!1,tableRow:{}}},methods:{switchChange:function(t,e){var i=this;window.event?window.event.cancelBubble=!0:t.stopPropagation();var a=e.status?"开启":"关闭";e.status=1==e.status?0:1,this.$confirm("您确定要".concat(a,"授权吗？"),"".concat(a,"授权"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i._doRDAuth(e);case 2:return t.next=4,function(){e.status=1==e.status?0:1}();case 4:i.$message.success({message:"".concat(a,"成功!")});case 5:case"end":return t.stop()}}),t)})))).catch((function(){}))},_doRDAuth:function(t){var e=this;Object(u["c"])(t).then((function(t){var i=t.data;0===i.code&&e.listLoad()}))},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(u["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleDelete:function(t){var e=this,i={vin:t.vin};this.$confirm("确定要删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"5f534935",null);e["default"]=m.exports},a0cd:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"90px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行车辆选择",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{"padding-top":"15px"},attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"存储路径：",prop:"addressA"}},[i("el-input",{attrs:{placeholder:"请输入存储路径",maxlength:"50"},model:{value:t.listQuery.addressA,callback:function(e){t.$set(t.listQuery,"addressA",e)},expression:"listQuery.addressA"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"存储长度：",prop:"addressB"}},[i("el-input",{attrs:{placeholder:"请输入存储长度",maxlength:"20"},model:{value:t.listQuery.addressB,callback:function(e){t.$set(t.listQuery,"addressB",e)},expression:"listQuery.addressB"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1,buttonName:"执行命令",clearName:"搜索",isSerach:!0},on:{"click-clear":t.handleClear2,"click-filter":t.handleFilter}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.selectECU,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("div",{staticClass:"report-container"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,buttonList:t.tableAction,actionWidth:t.actionWidth,actionFixed:t.actionFixed,isShowOperation:!0},on:{"click-end":t.handleEnd,"click-download":t.handleDownload,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v(t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}},{key:"tableOperation",fn:function(e){return t._l(t.tableAction,(function(a,n){return i("el-tooltip",{key:n,staticClass:"item",attrs:{"open-delay":250,effect:"dark",content:a.functionName,placement:"top"}},["end"===a.url&&22==e.row.status?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleEnd(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e(),e.row["filePath"]?i("span",{staticClass:"card-action",on:{click:function(i){return t.handleDownload(e.row)}}},[i("i",{class:"iconfont icon-"+a.icon})]):t._e()])}))}}])})],1)],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.carData},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,carTypeId:t.carTypeId,data:t.ecuList,type:"readLog",configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("10aa"),u=i("d0a1"),d=i("d10c"),p=i("e28f"),h=i("dfc2"),f=(i("2f62"),{name:"ecuLog",doNotInit:!0,components:{AppCarList:p["default"],AppEcuList:h["a"]},mixins:[s["a"],o["a"],r["a"],l["a"],c["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"end"===t.url||"download"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t},str1:function(){return"诊断ECU："+this.listQuery.ecu}},filters:{switchText:function(t,e){if("ordertype"===e)return 0==t?"下行":1==t?"上行":"-";if("status"!==e)return"reason"===e?211==t?"获取失败":212==t?"文件上传失败":"-":t;switch(t){case"200":return"第一次应答成功（代表TSP收到）";case"201":return"应答失败(如TBOX/TSP超时X秒应答失败返回)";case"202":return"响应成功（车端TBOX收到请求返回ACK给TSP成功）";case"203":return"第二次应答文件上传失败";case"204":return"第二次应答文件上传成功";default:return"-"}}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))};return{listQuery:{vin:"",ecuId:"",ecu:"",resultStr:"",addressA:"",addressB:""},tableList:[{value:"VIN码",prop:"vin",position:"center",checked:!0,width:160,fixed:"left"},{value:"token",prop:"token",position:"center",checked:!0,width:100},{value:"命令类型",prop:"ordertype",position:"center",checked:!0,width:80},{value:"命令状态",prop:"status",position:"center",checked:!0,width:80},{value:"下发时间",prop:"createon",position:"center",checked:!0,width:140},{value:"失败原因",prop:"reason",position:"center",checked:!0,width:180}],authouizeList:[],showfilter:!1,exportData:{},listLoading:!1,carListVisible:!1,ecuListVisible:!1,carData:{},rules:{vin:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},ecuList:{},isTableVisible:!1,carTypeId:"",serviceAddress:"2324",net:"",total:null,isShow:!1,list:[],interval:null,tipText:""}},beforeDestroy:function(){this.list=[],this.tipText=""},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))},this.list=[],this.tipText=""},methods:{handleEnd:function(t){var e=this;this.tableRow=t,this.$confirm("是否结束该ECU日志?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(u["v"])({token:e.tableRow.token}).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"结束成功"}),e.listLoad())}))})).catch((function(){}))},handleDownload:function(t){var e=document.createElement("a");e.href=t.filePath,document.body.appendChild(e);var i=document.createEvent("MouseEvents");i.initEvent("click",!1,!1),e.dispatchEvent(i),document.body.removeChild(e)},handleExport:function(){},listLoad:function(){},selectCar:function(){this.carListVisible=!0},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},selectECU:function(){""!==this.carTypeId?(this.ecuListVisible=!0,this.listQuery.serviceName=""):this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.carTypeId=t.carTypeId,this.carData=t,this.listQuery.ecu="",this.listQuery.ecuId="",this.handleFilter()},loadECU:function(t){"1"===t.net?this.isShow=!0:(this.isShow=!1,this.listQuery.ecu=t.ecuName,this.listQuery.ecuId=t.ecuId,this.ecuList=t,this.net=t.net),this.handleFilter2()},handleClear2:function(){this.listQuery.vin="",this.listQuery.pageNum=1},handleFilter:function(){var t=this.checkForm({formName:"formLeft",formList:["vin"]});t&&this.getList()},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.listQuery.vin};setTimeout((function(){Object(d["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},handleFilter2:function(){var t=this;this.resultStr="";var e=this.checkForm({formName:"formLeft",formList:["vin"]});if(e){"1"===this.net&&(this.serviceAddress=this.serviceAddress+this.listQuery.addressA+this.listQuery.addressB);var i={vin:this.listQuery.vin,ecuId:this.listQuery.ecuId,serviceAddress:this.serviceAddress};this.isTableVisible=!0,this.exportData={},this.listLoading=!0,Object(u["u"])(i).then((function(e){var i=e.data;405===i.code&&t.createSTask(),t.getList(),0===i.code?(t.listQuery.addressA="",t.listQuery.addressB="",t.isShow=!1,t.$message.success({message:"命令下发成功,数据上报中……",duration:2e3}),t.serviceAddress="2344"):(t.listLoading=!1,t.$message.warning({message:"命令下发失败！",duration:2e3}))})).catch((function(e){t.$message.warning({message:"命令下发失败！",duration:2e3}),t.listLoading=!1}))}},getList:function(){var t=this,e={pageNum:this.listQuery.pageNum,pageSize:this.listQuery.pageSize,token:this.$store.state.user.token,vin:this.listQuery.vin};Object(u["k"])(e).then((function(e){var i=e.data;0===i.code?(t.list=i.data,t.total=i.total,t.listLoading=!1):(t.listLoading=!1,t.tipText="数据上报失败！")}))}}}),m=f,b=(i("65e1"),i("2877")),g=Object(b["a"])(m,a,n,!1,null,"342110ba",null);e["default"]=g.exports},a110:function(t,e,i){"use strict";var a=i("8a60"),n=i.n(a);n.a},a215:function(t,e,i){"use strict";var a=i("ecd5"),n=i.n(a);n.a},a2d2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择车型",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"65px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-input",{attrs:{placeholder:"请输入车型名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中车型",isShowTitle:!0,icon:"icon_select_subsystem",data:t.rowCarTypeName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["createdBy"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t\t")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t\t")]):"pdxFileName"===e.item.prop&&e.row[e.item.prop]?i("a",{staticClass:"vinNo",attrs:{href:"file/"+e.row["pdxFilePath"]}},[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop])+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("3ff2"),c={name:"SelectCarTypeDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.rowCarTypeName="",this.tableRow={},this.data.carTypeId&&(this.rowCarTypeName=this.data.carTypeName,this.tableRow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:140,fixed:"left"},{value:"车型配置",prop:"configLevel",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:80},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:250},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,rowCarTypeName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(l["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.carTypeId&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.rowCarTypeName=e.carTypeName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){this.tableRow?(this.$emit("carType",this.tableRow),this.closeDialog()):this.$alert("请选中车型","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"d6906d68",null);e["default"]=p.exports},a457:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/loginLog/getLoginLog",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/operatingLog/getOperatingLog",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/userLifecycleLog/getLifecycleLog",method:"post",data:t})}function r(){return Object(a["a"])({url:"/userLifecycleLog/getLogType",method:"get"})}},a4b6:function(t,e,i){},a4bb:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isSeePermisson?"查看角色":t.isEdit?"编辑角色":"新增角色",wrapperClosable:t.isSeePermisson,width:"700px",isOkButLoading:t.loading,isDrawerFoot:!t.isSeePermisson},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("div",{style:{"min-height":"15vh"}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"formCenter",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"95px"}},[i("vue-linetitle",[i("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[i("el-input",{attrs:{maxlength:20,clearable:"",placeholder:"请输入角色名称",disabled:t.isSeePermisson},model:{value:t.formInfo.roleName,callback:function(e){t.$set(t.formInfo,"roleName",e)},expression:"formInfo.roleName"}})],1),i("el-form-item",{attrs:{label:"角色描述："}},[i("el-input",{attrs:{maxlength:200,rows:4,autosize:{minRows:4,maxRows:4},resize:"none",placeholder:"请输入角色描述",type:"textarea","show-word-limit":!0,disabled:t.isSeePermisson},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1),i("el-form-item",{attrs:{label:"权限设置：",required:""}},[i("div",{staticClass:"tree-wrap divScroll"},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:24}},[t.treeData.length&&!t.isSeePermisson?i("el-checkbox",{staticClass:"allCheckBox",staticStyle:{"margin-left":"24px"},attrs:{indeterminate:t.isIndeterminate},on:{change:t.allCheckedChange},model:{value:t.isAllChecked,callback:function(e){t.isAllChecked=e},expression:"isAllChecked"}},[t._v("全选")]):t._e(),i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],ref:"tree",attrs:{data:t.treeData,"show-checkbox":"","node-key":"functionId","default-expand-all":!1,"expand-on-click-node":t.isSeePermisson,"check-on-click-node":!0,props:t.defaultProps,"default-checked-keys":t.defaultCheckedKeys,"check-strictly":!0},on:{check:t.treeCheck},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,n=e.data;return i("span",{staticClass:"custom-tree-node"},[1===a.level?i("span",[i("span",{staticClass:"ml-xs"},[t._v(t._s(a.title))])]):t._e(),i("span",[t._v(t._s(n.functionName))])])}}])})],1)],1)],1)])],1)],1)],1)],1)],1)])])},n=[],s=(i("8e6e"),i("456d"),i("ac4d"),i("8a81"),i("ac6a"),i("5df3"),i("4f7f"),i("75fc")),o=(i("28a5"),i("bd86")),r=i("3528"),l=i("10aa"),c={data:function(){return{dropCarBrandList:[]}},created:function(){}},u=i("cf45"),d=i("40aa");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={name:"roleAddUpdateDialog",mixins:[l["a"],c,d["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},isSeePermisson:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},data:function(){return{loading:!1,treeLoading:!1,formInfo:{},isAllChecked:!1,isIndeterminate:!1,treeLength:0,treeData:[],treeDataBefore:[],treeDataBaseItem:[],defaultCheckedKeys:[],defaultProps:{children:"children",label:"functionName"},treeDataLevel:[],rules:{roleName:[{required:!0,trigger:["blur","change"],ruleReg:"functionName",tips:"请输入角色名称",errorTips:"支持汉字、字母、数字",validator:this.validInput}]}}},watch:{visibles:{handler:function(t){t&&(this.isEdit?(this.formInfo=h({},this.data),this.formInfo.roleId=this.data.roleId):this.formInfo=h({},{roleName:""}),this._getTreeData(this.isSeePermisson))}}},created:function(){},methods:{closeDialog:function(){this.formInfo={},this.treeData=[],this.defaultCheckedKeys=[],this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},_Add:function(t){var e=this;this.loading=!0,Object(r["b"])(t).then((function(t){var i=t.data;0===i.code?(e.loading=!1,e.$message.success({message:"新增成功",duration:2e3}),e.$emit("add-complete"),e.closeDialog()):e.loading=!1})).catch((function(){e.loading=!1}))},_Update:function(t){var e=this;this.loading=!0,Object(r["h"])(t).then((function(t){var i=t.data;0===i.code?(e.loading=!1,e.$message.success({message:"编辑成功",duration:2e3}),e.$emit("update-complete"),e.closeDialog()):e.loading=!1})).catch((function(){e.loading=!1}))},_getTreeDataRoleId:function(){var t=this;this.treeLoading=!0,Object(r["g"])(this.formInfo.roleId).then((function(e){var i=e.data;if(t.treeLoading=!1,0===i.code&&(console.log("getRoleSetMenu-data.data",i.data),Object(u["f"])(i.data))){var a=[];if(i.data.map((function(t){a.push(t.functionId);var e=t.parentIds?t.parentIds.split(","):[];a=Object(s["a"])(new Set(a.concat(e)))})),t.defaultCheckedKeys=a,t.isSeePermisson){t.treeData=t.treeDataBefore;var n=[];i.data.forEach((function(t){n.push(t.functionId);var e=t.parentIds?t.parentIds.split(","):[];n=Object(s["a"])(new Set(n.concat(e)))})),t.detNoSelect(t.treeData,n),t.setDisable(t.treeData)}t.$nextTick((function(){this.$refs.tree.setCheckedKeys(this.defaultCheckedKeys),this.changeState()}))}}))},_getTreeData:function(t){var e=this;this.treeLoading=!0,Object(r["d"])().then((function(i){var a=i.data;if(e.treeLoading=!1,0===a.code){console.log("data.data",a.data);var n=JSON.parse(JSON.stringify(a.data));e.detIsDisabled(n),e.treeDataBaseItem=e.treeLengthFc(n,[],1),t?e.treeDataBefore=n:(e.treeData=n,e.treeLength=e.treeDataBaseItem.length),e.treeDataLevel=[],e.levelFc(e.treeData,1),e.changeState(),e.isEdit&&e._getTreeDataRoleId()}})).catch((function(){e.treeLoading=!1}))},setDisable:function(t){var e=this;t.forEach((function(t){t.disabled=!0,t.children&&t.children.length>0&&e.setDisable(t.children)}))},levelFc:function(t,e){var i=this;Object(u["f"])(t)&&t.forEach((function(t){t.level=e,i.treeDataLevel.push(t),i.levelFc(t.children,e+1)}))},getTreeChildId:function(t,e){var i=this;Object(u["f"])(t)&&t.forEach((function(t){e.push(t.functionId),i.getTreeChildId(t.children,e)}))},detIsDisabled:function(t){if(Object(u["f"])(t))for(var e=t.length-1;e>=0;e--)0==t[e].isDisabled?t.splice(e,1):this.detIsDisabled(t[e].children)},detNoSelect:function(t,e){if(Object(u["f"])(t))for(var i=t.length-1;i>=0;i--)e.every((function(e){return e!=t[i].functionId}))?t.splice(i,1):this.detNoSelect(t[i].children,e)},filterNode:function(t,e){return!t||-1!==e.functionId.indexOf(t)},treeCheck:function(t,e){var i=this,a=e.checkedKeys.indexOf(t.functionId);if(a>-1){if(this.defaultCheckedKeys.push(t.functionId),Object(u["f"])(t.parentIds)&&t.parentIds.split(",").forEach((function(t){i.defaultCheckedKeys.push(t)})),Object(u["f"])(t.children)){var n=this.treeLengthFc(t.children,[],2);this.defaultCheckedKeys=this.defaultCheckedKeys.concat(n)}this.defaultCheckedKeys=Object(s["a"])(new Set(this.defaultCheckedKeys)),this.$nextTick((function(){this.$refs.tree.setCheckedKeys(this.defaultCheckedKeys),this.changeState()}))}else{if(2!=t.functionType){var o=[];Object(u["f"])(t.children)&&(o=JSON.parse(JSON.stringify(t.children)));var r=[];this.getTreeChildId(o,r);var l=e.checkedKeys;l=l.filter((function(t){return!r.some((function(e){return e===t}))})),this.defaultCheckedKeys=l,this.defaultCheckedKeys=Object(s["a"])(new Set(this.defaultCheckedKeys)),this.parentUnCheck(t.parentId,e.checkedKeys,e.checkedNodes)}else this.defaultCheckedKeys=e.checkedKeys;this.$nextTick((function(){this.$refs.tree.setCheckedKeys(this.defaultCheckedKeys),this.changeState()}))}},parentUnCheck:function(t,e,i){if(t){var a=e.indexOf(t);if(a>-1){var n=i.filter((function(e){return e.functionId==t}))[0],s=n.children.map((function(t){return t.functionId})),o=JSON.parse(JSON.stringify(this.defaultCheckedKeys));if(o=o.filter((function(t){return s.some((function(e){return e===t}))})),0==o.length){var r=this.defaultCheckedKeys.indexOf(t);r>-1&&(this.defaultCheckedKeys.splice(r,1),this.parentUnCheck(n.parentId,e,i))}}}},allCheckedChange:function(t){if(this.isIndeterminate=!1,t){var e=this.treeLengthFc(this.treeData,[],2);this.$refs.tree.setCheckedKeys(e)}else this.$refs.tree.setCheckedKeys([])},changeState:function(){var t=this.$refs.tree.getCheckedKeys().length;this.isAllChecked=t===this.treeLength,this.isIndeterminate=t>0&&t<this.treeLength},treeLengthFc:function(t,e,i){var a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0){var l=o.value;1==i?e.push(l):e.push(l.functionId),l.children&&l.children.length&&this.treeLengthFc(l.children,e,i)}}catch(c){n=!0,s=c}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}return e},submitForm:function(){var t=this;if(this.isSeePermisson)this.closeDialog();else{var e=this.checkForm({formName:"formCenter",formList:["roleName"]});if(e)if(this.defaultCheckedKeys=this.$refs.tree.getCheckedKeys(),0!=this.defaultCheckedKeys.length){var i=[];if(this.defaultCheckedKeys.forEach((function(e){t.treeDataBaseItem.forEach((function(t){t.functionId==e&&3!=t.functionType&&i.push(e)}))})),this.isEdit){var a={remark:this.formInfo.remark,roleId:this.formInfo.roleId,roleName:this.formInfo.roleName,functionIdList:i};this._Update(a)}else{var n={remark:this.formInfo.remark,roleName:this.formInfo.roleName,functionIdList:i};this._Add(n)}}else this.$message.warning({message:"请分配权限！",duration:2e3})}}}},m=f,b=(i("3580"),i("2877")),g=Object(b["a"])(m,a,n,!1,null,"ead87fbe",null);e["default"]=g.exports},a4bb6:function(t,e,i){t.exports=i("8aae")},a77f:function(t,e,i){},a818:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:"日志下载",width:"75%",isDrawerFoot:!1,wrapperClosable:!0},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("fullDataAnalysis",{attrs:{tboxTableRow:t.data}})],1)])],1)},n=[],s=i("4094"),o={name:"fullDataAnalysisDrawer",doNotInit:!0,components:{fullDataAnalysis:s["default"]},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{closeDialog:function(){this.$emit("update:visibles",!1)}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"01d07350",null);e["default"]=c.exports},a865:function(t,e,i){},a8db:function(t,e,i){"use strict";var a=i("e265"),n=i.n(a),s=i("a4bb6"),o=i.n(s);function r(t,e){if(null==t)return{};var i,a,n={},s=o()(t);for(a=0;a<s.length;a++)i=s[a],e.indexOf(i)>=0||(n[i]=t[i]);return n}function l(t,e){if(null==t)return{};var i,a,s=r(t,e);if(n.a){var o=n()(t);for(a=0;a<o.length;a++)i=o[a],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}i.d(e,"a",(function(){return l}))},ab59:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",icon:"icon_ecu",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuname,callback:function(e){t.$set(t.listQuery,"ecuname",e)},expression:"listQuery.ecuname"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-table",{ref:"historyTable",attrs:{slot:"table",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-80},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n          ")])]}}])})],1)])},n=[],s=i("75fc"),o=(i("20d6"),i("6762"),i("2fdb"),i("ac6a"),i("fab6")),r=i("babb"),l=i("6d60"),c=i("f80b"),u={name:"SelectECUDialog",doNotInit:!0,mixins:[o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},propEcuList:{type:Array,default:function(){return[]}}},filters:{},watch:{visibles:function(t){t&&(0===this.propEcuList.length&&(this.listQuery.pageNum=1),this.listLoad())}},data:function(){return{listQuery:{},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:140},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:140},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:140},{value:"接受地址",prop:"responseAddress",position:"center",checked:!0,width:140},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),tablerow:null,ecuList:[],ecuidList:[],getRowKeys:function(t){return t.id}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(c["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.$nextTick((function(){t.toggleSelection(t.propEcuList);for(var e=function(e){t.propEcuList.forEach((function(i){t.list[e].id===i&&t.$refs.historyTable.refTable().toggleRowSelection(t.list[e],!0)}))},i=0;i<t.list.length;i++)e(i)}))),t.listLoading=!1})).then((function(){}))},rowClick:function(t){},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.historyTable.refTable().toggleRowSelection(t,!0)})):this.$refs.historyTable.refTable().clearSelection()},handleSelectionChange:function(t){var e=this;this.ecuList=t;t.forEach((function(t){e.ecuidList.includes(t.id)&&(e.propEcuList.splice(e.propEcuList.findIndex((function(e){return e.id===t.id})),1),e.ecuidList.splice(e.ecuidList.findIndex((function(e){return e===t.id})),1))}))},handleConfirm:function(){if(0!=this.ecuList.length){var t=[].concat(Object(s["a"])(this.ecuList),Object(s["a"])(this.propEcuList));this.$emit("carECU",t),this.closeDialog()}else this.$alert("请选择ECU","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.handleClear(),this.$emit("update:visibles",!1)}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"4f6ea684",null);e["default"]=h.exports},adfa:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"MES授权配置",width:"750px"},on:{"close-drawer":t.closeDrawer,"ok-drawer":t.setMesPermissionFc}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{staticStyle:{width:"100%"},attrs:{model:t.formInfo,"label-width":"auto"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"MES接口数据源："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.dataSource,callback:function(e){t.$set(t.formInfo,"dataSource",e)},expression:"formInfo.dataSource"}},t._l(t.dataSourceList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.mesName,value:t.mesId}})})),1)],1)],1)],1)],1)],1)])},n=[],s=i("c0c7"),o={name:"MES",components:{},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},data:function(){return{formInfo:{dataSource:""},dataSourceList:[]}},watch:{visibles:{handler:function(t){t?this.getUserDataSourceFc():this.formInfo.dataSource=""}}},mounted:function(){this.getMesDataSourceFc()},methods:{getMesDataSourceFc:function(){var t=this;Object(s["o"])().then((function(e){var i=e.data;0===i.code&&(t.dataSourceList=i.data||[])}))},getUserDataSourceFc:function(){var t=this,e={userId:this.data.userId};Object(s["u"])(e).then((function(e){var i=e.data;if(0===i.code){var a=i.data&&i.data.mesId?i.data.mesId:"";a&&t.dataSourceList.some((function(t){return t.mesId===a}))?t.formInfo.dataSource=a:t.formInfo.dataSource=""}}))},setMesPermissionFc:function(){var t=this,e={userId:this.data.userId,mesId:this.formInfo.dataSource};Object(s["y"])(e).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"MES授权成功!",duration:2e3}),t.$emit("MES-complete"),t.closeDrawer())}))},closeDrawer:function(){this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDrawer()}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"59421b96",null);e["default"]=c.exports},b0b1:function(t,e,i){"use strict";var a=i("48f3"),n=i.n(a);n.a},b1ed:function(t,e,i){"use strict";var a=i("edb1"),n=i.n(a);n.a},b2f9:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var a={data:function(){return{currentTime:[]}},mounted:function(){this.currentTimeFun()},methods:{currentTimeFun:function(){this.currentTime=["00:00:00","23:59:59"]}}}},b39a:function(t,e,i){var a=i("d3f4");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b674:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAABoVJREFUeF7tXF1oHUUU/s7cG3Jze1u1JdpWrVqp1FKqoII+SVWqRCESw7IpWGgfK7QPovj3IPgH/jwooj6oD/EhZb0J5sEgKhbf/ClipdZiqdjW2tqo1DY/N2R3jpy6iTfJ3Z3de3dvknbndc+cOfPtnDNnzpwzhKzVRIAyXGoj0HRghoaGWiuVSmliYqLY0tJScF23VSmV11orEVEppbXWbj6fn5icnKy0traOFQqFkY6Ojolm/sTUgREgRkZGluVyuaXMXNJat9QzQaXUJBGNeJ53rlQqnU0bqFSAcRwnB2C5UmqF1npJPUCY+iilRrXWfwH427Isz0Qf93uiwAgguVxuFTO3T6lGXIHi0ovqEdGw53knkwQoMWD6+vpWE1G72Iu4k0uCXuwSMw/39PT8ngS/hoHp7e1dUigUrgHQloRACfAYr1QqR7dt2zbaCK+GgHEcZyWAKxsRIMW+JyzLOlUv/7qAkZ1mbGxsjdZ6Wb0DN6OfUupssVg8Vs8OFhsYx3FKSql19RpXZr6CiG4FsAGAqOBqAJcCKAAQecYBnAEgtuIogIPMvI+I/qgHTN8vOmxZ1kic/rGAcRznEq319UqpWP0ArCSiB5h5C4C1cQSsov2FiD4F8DEzn4zDQ2vNSqkjlmX9E7Vf5AkODg4uHR8fXxcHFGa+gYh2ALhLnNqoQhnoNIAvmPl9Ivo5Kk8Bp62t7XBnZ+e5KH0iAePblA0x1Gc5gF0A7vfVI4oscWlYVg+AN8TJi9JZ1KpYLB6MYnMiAVMul8WmRDK0zHwPET0NYGkUYROgOcfMLxDR51F4iUHu7u4+bKI1AhN1S5YzkFLqUQDdpkFT+t6vtX5VzlQR+Bu38lBgfOdtvWkgIioy88sAbjfRpvz9KyJ6nJnHTONUKpVDYU5gKDCO48iWGurRMnOBiN4CsMkkTJO+/8DMO4moYhhv3LKsg0E0gcA4jiMerXi2gc1XHzF+tzVp0lGH+UZrvTuCWp2yLOtELaY1gdm7d29+eHh4IwAJH4S1J+bRpphA6gfwkoHIa29vP7B582Z3Nl1NYPr6+q7O5XKXhzEloi3M/KJJuvn8TkRPMbM4hYHN87zTPT09x43ASExFa32TwZFrB+A0cUuuF19x5iwAw0EMfK94/+xYzpwV4ziOTHqNQZLnAdxXr7RN7vcJgGfCxszn88e7urpOV9PMAaZcLq8PC0cS0Xpm/iBFjzZp3JiIHmbmQyGrZsy27Z8CgfED12J0w9prAO5MWvqU+X0JQJzPwFYqlQ5UHxVmrBiTGhGRxHMHEzwQpozHNHvNzA8SUWDYc7Y6zQCmv79/red5lwVJy8w7iGhns2aT5DjM/C4RvROiTmds2z4y9X0GMOVyeZPh3udDANclKXATeR0D0BUCjGvb9v45wJjsix95k2P+Ym6dAGp6ujKp0dHRH7dv337+KDG9YgYGBla4rntt0Kz9CNyzixkVInrOt5E1p+G67tGtW7f+OQMYx3HEdxEfpmbzT63iLC3aRkSOHwUImsOwZVmicv+vmAjBqDcXQFih0Z/yNYBHgphUB7GmVWnPnj0blVKtISN/BOCqRiWb5/6/AXgwxABP2LZ9YLYq3Ww4TYuTlMoFfRPBkluCu6PsTNMrxnGcWwwC7mviBNIaSsKed4QAw7Ztfzd7xWTAaF0TmItBlc76d1xBi8azLOv7GSsmM76A1nqu8c226/P5f9N3TtXGN3PwgLkOXnYkAGoeCbJDZMAhUixxFnaoEXYQYC7kQBWA9wC8HeLcBQeqTKFNZpbMTDkzJZXrkpaHO5tvY6FNk53xR7sgg+HVQaoZDt4UxKbrE2a+kYh6L6rrEwHHpE4+gBffhVt2Rfvfr88u9aNe6gtaMdJAngTwULO2lpjjDAAwZWPESwPxbc1iThz6Vmu9K/HEoak/k6WaBazRLDkxRHljprM+FnYNGtNGxCUf0Fq/EkF9hG9j6axVTt+CToD2jexnUZBMLAFaBqszZX43gI4UPWRJmR8C8Pq8pcwLOFmRRbi9abQs594G0kh+JSLJp1tYZTlVW3hDhVx+7dL5Qi5mlkKuVX4hV9EfQ9LdpZDrJBFNF3IBqKuMrymFXFPgZKV/BjMfdSuPslukQGPcksPGNJblmATOyosNCGUF6eG7VvaEQdgCyh69MBkg32vOnkmJCJQ8rOO67hJJbQt7WEeyD/L5/OgF+bBOBKwWJEnD2/WCnFUCQv0LSRbMdKxh3fUAAAAASUVORK5CYII="},b7e8:function(t,e,i){},ba0d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAABmhJREFUeF7tnFmMlEUQx3/VM8vuwq4iBOVQLsUgIWiiJvpkUAOGQ5ZV980XHzFCcDlEfSBRMewCRjTog/qgb0u4JBhEo+HNgxgxiEREOeQQlHAs7DXTZXrYhT3mO2bmm9kFvn79qqur/19XdXV1VQtxy4qAxLhkR6D0wHzxUjmtVVWYtsEkEhV0aDkiSZKYjIgpLKopyqSNdLoVW36ZiuZmZr3XVsqfWHxgHBDNVbeQaK0mmajCalleEzTSQSrdTLriIlXNF4oNVHGAaXouAfcMo7J9OCmG5AVEUKckl2gZ9B/8cZa6jekg8ly/RwuMAyQxYRTJ1AisXFGNYjejllTyDOm/TkYJUHTAbFs2mnRqRMZe9EdzdimRPMO8hhNRDF84MF8uGUKLjkOpjEKggnkILVTKEWauuVQIr8KA2bF0JO12TCECFK3vIHOc2Y2n8uWfHzBup0lXjCVlb8l34JL0S5oLJFqP5rOD5Q5M04Iqyism5W1cxdwB9iFgCphxoKOBoUAF4ORpAc6BnAB7BNgPZg9q/8kLTGec21oPUrehOZf+uQHTtPxWKu3dpGxu/YyMRGUOwgxUJ+Yi4FVakT9RdmHZgdiTOfFIGqXFHKJu9fmw/cJPcNuyaoxOyhGUexF5AXgcOj3bsJJ501ngG1Q/AX4Pzc6BY+Ug8xouhukTDhhnUzrKpoRWH8MwYCEqszvVI4wsudIoojuA9VjOhurs1KqsY38YmxMOmO1L3UoJZ2hFngReA6pDCVs4kVsBb6H6dShWziDPbTwYRBsMTNgtOaFlWFMPPBs0aJG+b8LYNaSlI5B/iK3cHxjnvF3WyYEDiRkMNIA+EkhbVAL5DliG2suBwwyWA35OoD8wW+unBHq0xlSgugGYFihMaQh+QWQB1rb6Duc85Jq1+71ovIHZvngMKTPSl7lTn7RZj/BwaeYcdhT9AaOLAtUqaU8x953j2bhmB+bblUnOXZoKNuGPurzSjzYlCKVNqL7tT2TSDB2yj+krU73psgOz9eW7ULndl6mRGSirgqTr1+/Cq1jd5f9z9TQ1644FA+NiKpXj7/d15IwZgWpTCbfkfPG9iEgd1p7xZJDxig/v7R3L6btimlaMoKx9bIAKvQk8la+0Je63E9XXfcdUOUbtmtPdafoCs71+sm840jAZlc+K6NFGjZvzkJ/HcsCTsSYuU9vwmzcwzvVvGzQ1wLasRXksaumLyk/YjVXnfHq38vZ93Y8KPVdMkBqpGYXRbREeCIuKRzfm7uBZg6p32LOXOvUEZtPiiRhzm6e0V07KC0o1m2jHkY9Q+6E3T3OO+Y2Hur73BGbbkmm+9z4iG4EJ0QpcMm5HUa31tjOaonbd3r7ABNmXTOQtc8y/fpvYeVjJ6ulmJjW0+lemr8wcJa6tmM0rhiPt4z1nbWQOysrrF5XMbN/AZmxk9pbkCHPX/tsTmM+Xj83cC3k1I8tQ6q5zYJqw2uA5B3cv9fTqoz2BCQpGiXm//8MKBf+W71F90XvFXAtidVOlJVMRLffZkbYCdxYsWv8y+BvVGm8DLG3UrtnXc8VsWfqA72laZDcU6YK+dGCdR/WJMDvTtRWzpf5BX/lE9pRO/qKN1IHqoz6qpMxt/KnXiomBwZ20+wJzU6jSBVTdHZdHM2nmN/7cy4+JjS+azfjG2zV0u3O6ZnxjB49M4lEfBy8+EkDWI0F8iPQ4RDpTHIcdsoQdHDA3cqBK+BirH/hs1T6BqqDQpojLfnJnptKkqkbnABcY2gyyM05QIzdmMLxbkKqng9f1d4KuT5D7ED69ua5PHDhB6pSBU27CC7f4ijajO/GlvoS91HdwhU8DWQE8E93mESEnZTNoQDZGrmkgTr7rOXFI+ZGEXRh94lDXj4tTzTyWcJyc6KPbuaSzps1SBO9r0AhNSB9WzqYkbGOg+riOBaezXnX6BnoCtKxC7VehcI8sAdqNlk/KvMoiYFYRPWR1kiH6bv+lzGdCEnGRhfeKLLQsB52ZfxqJHgazc+CV5XTBVWghl6tdgiuFXMo4YFRnIZdLu3fNpbufA04idBZysQer+ZXxlaSQqwucuPQvwM6H3cpDbRcRE4XYkv1GDC7LCZI3Li8OQCguSPcBKH7CIGD1xI9eBBmgTq85fiYlJFDuYZ2kHYLYct+HddS0kTKXbsyHdUJgNRBJCt+uB+KsIpDpf04ZFHSTQr7fAAAAAElFTkSuQmCC"},ba40:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:"任务详情列表",width:"73%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("div",{staticClass:"box1"},[i("div",[t._v("任务名称："+t._s(t.data.taskName))]),i("div",[t._v("诊断周期配置名称："+t._s(t.data.configName))]),i("div",[t._v("创建时间："+t._s(t.data.createdOn))])]),i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"60px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"box1",staticStyle:{"margin-bottom":"0"}},[i("div",[t._v("任务详情列表：共计 "+t._s(t.total)+" 台车辆")])]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["vinNo"===e.item.prop?i("span",{staticClass:"vinNo",on:{click:function(i){return t.handleClick(e.row)}}},[t._v("\r\n              "+t._s(t._f("processData")(e.row[e.item.prop]))+"\r\n            ")]):"state"===e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"90px"},attrs:{type:-1==e.row[e.item.prop]?"danger":1==e.row[e.item.prop]?"":2==e.row[e.item.prop]?"success":3==e.row[e.item.prop]?"":4==e.row[e.item.prop]?"success":"danger",effect:"dark"}},[t._v("\r\n                "+t._s(t._f("switchText")(e.row[e.item.prop]))+"\r\n              ")])],1):i("span",[t._v("\r\n              "+t._s(t._f("processData")(e.row[e.item.prop]))+"\r\n            ")])]}}])})],1)]),i("query-result",{attrs:{visibles:t.queryResultVisible,subTaskId:t.subTaskId,data:Object.assign({},t.data,t.tablerow),authouizeList:t.authouizeList},on:{"update:visibles":function(e){t.queryResultVisible=e}}})],1)},n=[],s=i("fab6"),o=i("babb"),r=i("2228"),l=i("2ab7"),c={name:"QuerySubTask",doNotInit:!0,mixins:[s["a"],o["a"]],components:{queryResult:l["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},taskId:{type:String,default:""},authouizeList:{type:Array,default:[]},data:{type:Object,default:{}}},filters:{switchText:function(t){return-1==t?"失效(被替换)":1==t?"待下发":2==t?"已下发":3==t?"执行中":4==t?"执行完成":"执行异常"}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{vin:""},tableList:[{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:180},{value:"状态",prop:"state",position:"center",checked:!0,width:130},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"下发时间",prop:"deliverTime",position:"center",checked:!0,width:140},{value:"执行时间",prop:"uploadTime",position:"center",checked:!0,width:140},{value:"任务结束时间",prop:"taskEndTime",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),rowECUName:"",tablerow:null,queryResultVisible:!1,subTaskId:"",buttonList:[{functionName:"查看结果",functionNameEn:"查看结果",functionType:2,url:"detail",icon:"detail",isShow:1,iconType:2}]}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,this.listQuery.taskId=this.taskId,Object(r["f"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowClick:function(t){this.tablerow=t.row},closeDialog:function(){this.$emit("update:visibles",!1)},handleClick:function(t){console.log(t),this.queryResultVisible=!0,this.subTaskId=t.id}}},u=c,d=(i("b1ed"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"1e49f932",null);e["default"]=p.exports},babb:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var a={methods:{getcellStyle:function(){return{background:"#F5F7FA !important",color:"#515c60",fontSize:"12px",fontWeight:"bold"}},getRowStyle:function(){return{height:"40px !important",padding:"0"}}}}},bbd7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"创建任务",width:"450px",isOkButLoading:t.listLoading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"85px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"任务名称：",prop:"taskName"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入任务名称",maxlength:"20"},model:{value:t.formInfo.taskName,callback:function(e){t.$set(t.formInfo,"taskName",e)},expression:"formInfo.taskName"}})],1),i("el-form-item",{attrs:{label:"车辆信息：",prop:"vin"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆信息"},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.formInfo.vin,callback:function(e){t.$set(t.formInfo,"vin",e)},expression:"formInfo.vin"}})],1),i("el-form-item",{attrs:{label:"ECU：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"点击进行ECU选择",clearable:""},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.formInfo.ecu,callback:function(e){t.$set(t.formInfo,"ecu",e)},expression:"formInfo.ecu"}})],1),i("el-form-item",{attrs:{label:"OTX文件：",prop:"otxFileId"}},[i("el-input",{attrs:{placeholder:"点击进行选择OTX文件"},nativeOn:{click:function(e){return t.selectOTXFile(e)}},model:{value:t.formInfo.otxFileName,callback:function(e){t.$set(t.formInfo,"otxFileName",e)},expression:"formInfo.otxFileName"}})],1),i("el-form-item",{attrs:{label:"升级包文件：",prop:"upgradePackageId"}},[i("el-input",{attrs:{placeholder:"点击进行选择升级包文件"},nativeOn:{click:function(e){return t.selectUpgradePackage(e)}},model:{value:t.formInfo.upgradePackageName,callback:function(e){t.$set(t.formInfo,"upgradePackageName",e)},expression:"formInfo.upgradePackageName"}})],1),i("otx-list-dialog",{attrs:{visibles:t.OTXListVisible,data:{fileName:t.formInfo.otxFileName,id:t.formInfo.otxFileId,ecu:t.formInfo.ecuId}},on:{"update:visibles":function(e){t.OTXListVisible=e},OTXId:t.loadOTXId}}),i("upgrade-package-dialog",{attrs:{visibles:t.upgradePackageVisible,data:{fileName:t.formInfo.upgradePackageName,id:t.formInfo.upgradePackageId}},on:{"update:visibles":function(e){t.upgradePackageVisible=e},upgradePackage:t.loadUpgradePackage}}),i("app-car-list",{attrs:{visibles:t.carListVisible,data:{vinNo:t.formInfo.vin}},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,data:t.ecuData,carTypeId:t.carData.carTypeId,configLevel:t.carData.configLevel},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}})],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("e75f"),r=i("d10c"),l=i("78a0"),c=i("4adb"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"选择升级包文件",width:"70%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"升级包文件名称："}},[i("el-input",{attrs:{placeholder:"请输入升级包文件名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-message",{attrs:{title:"已选中升级包文件",isShowTitle:!0,icon:"icon_select_subsystem",data:t.fileName}}),i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-50},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["fileSize"==e.item.prop?i("span",[t._v(t._s(t.conver(e.row[e.item.prop])))]):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)])},d=[],p=i("fab6"),h=i("babb"),f=i("6d60"),m=i("ed7c"),b=i("fa06"),g={name:"upgradePackageDialog",doNotInit:!0,mixins:[p["a"],h["a"],f["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.fileName=this.data.fileName,this.listLoad())}}},data:function(){return{listQuery:{fileName:""},tableList:[{value:"升级包名称",prop:"fileName",position:"center",checked:!0,width:100,fixed:"left"},{value:"升级包大小",prop:"fileSize",position:"center",checked:!0,width:150},{value:"上传时间",prop:"createdOn",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,fileName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{conver:m["a"],listLoad:function(){var t=this;this.listLoading=!0,Object(b["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable1.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.fileName=e.fileName,this.tableRow=e},rowDblClick:function(){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("upgradePackage",this.tableRow),this.closeDialog()):this.$alert("请选中升级包文件","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},v=g,y=i("2877"),w=Object(y["a"])(v,u,d,!1,null,"f291d304",null),L=w.exports,k=i("530f"),C=i("10aa"),x=i("40aa");function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O={name:"addUpdateDialog",mixins:[C["a"],x["a"]],components:{otxListDialog:l["a"],upgradePackageDialog:L,AppCarList:k["a"],AppEcuList:c["a"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(){this.formInfo=S({},this.data)},immediate:!0}},data:function(){return{carData:{},ecuListVisible:!1,ecuData:{},formInfo:{taskName:"",vin:"",ecu:"",ecuId:"",otxFileId:"",upgradePackageId:""},listLoading:!1,carListVisible:!1,OTXListVisible:!1,upgradePackageVisible:!1,rules:{taskName:[{required:!0,trigger:["blur","change"],tips:"请输入任务名称",validator:this.validInput,formObjName:"formInfo"}],vin:[{required:!0,trigger:["blur","change"],tips:"请输入车辆信息",vinno:!0,validator:this.validInput,formObjName:"formInfo"}],ecu:[{required:!0,trigger:["blur","change"],tips:"请选择ECU",validator:this.validInput,formObjName:"formInfo"}],otxFileId:[{required:!0,trigger:["blur","change"],tips:"请选择OTX文件",validator:this.validInput,formObjName:"formInfo"}],upgradePackageId:[{required:!0,trigger:["blur","change"],tips:"请选择升级包文件",validator:this.validInput,formObjName:"formInfo"}]}}},methods:{selectCar:function(){this.carListVisible=!0},selectECU:function(){this.formInfo.vin?this.ecuListVisible=!0:this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},loadECU:function(t){this.formInfo.ecu=t.ecuname,this.formInfo.ecuId=t.ecuid,this.ecuData=t,this.formInfo.otxFileName=""},loadCarVinno:function(t){this.formInfo.vin=t.vinNo,this.carData=t,this.formInfo.ecu="",this.formInfo.ecuId="",this.formInfo.otxFileName=""},selectUpgradePackage:function(){this.upgradePackageVisible=!0},loadUpgradePackage:function(t){this.formInfo.upgradePackageId=t.id,this.formInfo.upgradePackageName=t.fileName},selectOTXFile:function(){this.formInfo.ecu?this.OTXListVisible=!0:this.$alert("请先选择ECU","提示",{confirmButtonText:"确定"})},loadOTXId:function(t){this.formInfo.otxFileId=t.id,this.formInfo.otxFileName=t.fileName},closeDialog:function(){this.formInfo={taskName:"",vin:"",ecu:"",ecuId:"",otxFileId:"",upgradePackageId:""},this.ecuData={},this.$emit("update:visibles",!1)},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:1,vin:t.formInfo.vin};setTimeout((function(){Object(r["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){t.$emit("add-complete"),t.closeDialog(),i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},_buttonAdd:function(t){var e=this;this.listLoading=!0,Object(o["a"])(t).then((function(t){var i=t.data;e.listLoading=!1,405!==i.code?(e.$emit("add-complete"),e.closeDialog()):e.createSTask()})).catch((function(){e.listLoading=!1}))},_buttonUpdate:function(){},submitForm:function(){var t=this.checkForm({formName:"formCenter",formList:["taskName","vin","otxFileId","upgradePackageId"]});t&&(this.isEdit?this._buttonUpdate(this.formInfo):this._buttonAdd(this.formInfo))}}},N=O,I=Object(y["a"])(N,a,n,!1,null,"1312002a",null);e["default"]=I.exports},bc76:function(t,e,i){},bd92:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"故障码：","label-width":"65px"}},[i("el-input",{attrs:{placeholder:"请输入故障码",clearable:"",maxlength:"20"},model:{value:t.listQuery.faultCode,callback:function(e){t.$set(t.listQuery,"faultCode",e)},expression:"listQuery.faultCode"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"故障码描述：","label-width":"90px"}},[i("el-input",{attrs:{placeholder:"请输入故障码描述",clearable:"",maxlength:"20"},model:{value:t.listQuery.keyName,callback:function(e){t.$set(t.listQuery,"keyName",e)},expression:"listQuery.keyName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1)],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("f344"),u={name:"fault",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{faultCode:"",keyName:""},authouizeList:[],showfilter:!1,tableList:[{value:"故障码",prop:"digContent",position:"center",checked:!0,fixed:"left",width:80},{value:"故障码描述",prop:"digResult",position:"center",checked:!0,width:300},{value:"诊断车辆数量(辆)",prop:"carCount",position:"center",checked:!0,width:120},{value:"出现次数",prop:"dxCount",position:"center",checked:!0,width:70},{value:"占比",prop:"rateNum",position:"center",checked:!0,width:70}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(c["i"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},hanleExport:function(){Object(c["c"])(this.listQuery)}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"7dbdf2c3",null);e["default"]=h.exports},be10d:function(t,e,i){},bea5:function(t,e,i){"use strict";var a=i("bc76"),n=i.n(a);n.a},c037:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"打印诊断报告结果",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("div",{staticClass:"box1 otherDrawerBox"},[i("div",[t._v("\n\t\t\t\t诊断车辆： "+t._s(t.data.vin||"-")+"；诊断ECU： "+t._s(t.obj.ecu||"-")+"\n\t\t\t")]),i("div",[t._v("\n\t\t\t\t故障码数量： "+t._s(t.obj.dCountZ||"0")+" ；读取数量：\n\t\t\t\t"+t._s(t.obj.readCount||"0")+"\n\t\t\t")])]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.reportList,"max-height":t.tableHeight,"span-method":t.objectSpanMethod,"header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"title",label:"整车信息功能分区",align:"center","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"content",label:"参数名称",align:"center","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"result",label:"数据来源",align:"center","show-overflow-tooltip":!0}})],1)],1)])},n=[],s=i("75fc"),o=(i("ac6a"),i("c1fb")),r=i("fab6"),l=i("9190"),c=i("1ad5"),u=i("0c56"),d={name:"printReport",mixins:[r["a"],o["a"],l["a"],c["a"]],props:{visibles:{type:Boolean,default:!1},digServiceId:{type:String,default:""},data:{type:Object,default:function(){return{}}}},data:function(){return{listQuery:{},showfilter:!1,list:[],obj:{},exportData:{},reportList:[],listLoading:!1,tableRow:{},reportVisible:!1}},methods:{objectSpanMethod:function(t){var e=t.row,i=(t.column,t.rowIndex,t.columnIndex);if(0===i)return"基本信息"===e.title?{rowspan:5,colspan:1}:"故障信息"===e.title?{rowspan:this.obj.dCount,colspan:1}:"参数信息"===e.title?{rowspan:this.obj.readCount,colspan:1}:{rowspan:0,colspan:0}},listLoad:function(){var t=this;this.listLoading=!0,Object(u["f"])({token:this.digServiceId}).then((function(e){var i=e.data;if(0===i.code){t.exportData={};var a=[],n=i.data;t.obj=n,console.log(n),n.result&&(a=JSON.parse(n.result),t.setReport(a)),t.list=a}t.listLoading=!1})).catch((function(){t.listLoading=!1}))},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.reportList=[]},setReport:function(t){var e=t.dtcList||[],i=t.readList||[],a=e.length,n=i.length;this.obj.dCount=a+1,this.obj.dCountZ=a,this.obj.readCount=n;var o="";o=e[0]&&e[0]["ecuName"],e.unshift({title:"故障信息",content:"车辆故障总数",dtcNameChinese:"车辆故障总数",result:"车辆故障总数",ecuName:a}),e[0].title="故障信息",n>0&&(o=i[0]&&i[0]["ecuName"],i[0].title="参数信息"),this.obj.ecu=o,this.exportData={vin:this.data.vin,ecuName:o,dtcCount:a,readCount:n,dtcList:e,readList:i};var r=[{title:"基本信息",content:"车辆vin号",result:this.data.vin},{content:"车型配置",result:this.obj.carTypeName},{content:"车辆颜色",result:"-"},{content:"车辆车牌号",result:"-"},{content:"销售4S店",result:"-"}];e.forEach((function(t){t.content=t.result,t.result=t.ecuName})),this.reportList=[].concat(r,Object(s["a"])(e),Object(s["a"])(i))},cellContentStyle:function(t){t.row;return"background:#F5F7FA;color:#606266;font-weight:bold"},handleExport:function(){}}},p=d,h=(i("9144"),i("2877")),f=Object(h["a"])(p,a,n,!1,null,"b6188664",null);e["default"]=f.exports},c04e:function(t,e,i){var a={"./blue/400.png":"f523","./green/400.png":"1e49","./red/400.png":"2c1d"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="c04e"},c0a3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"新增",width:"400px",loading:t.loading,isOkButLoading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"form",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"60px"},slot:"drawerContent"},[i("el-row",{attrs:{gutter:10}},[i("el-form-item",{attrs:{label:"文件：",prop:"fileName"}},[i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{data:t.formInfo,headers:{Authorization:t.token},action:"","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"http-request":t.uploadFile}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("上传文件")])],1)],1),i("el-col",{attrs:{span:2}},[i("div",{staticStyle:{visibility:"hidden"}},[t._v("占位符")])]),i("el-col",{staticClass:"titleColor",attrs:{span:16}},[t._v("\n\t\t\t\t\t\t"+t._s(t.formInfo.fileName)+"\n\t\t\t\t\t")])],1)],1)],1)],1)],1)},n=[],s=(i("7f7f"),i("5c83")),o=i("9123"),r=i("10aa"),l=i("4360"),c={name:"addUpdateDialog",directives:{elDragDialog:s["a"]},mixins:[r["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},computed:{token:function(){return l["a"].getters.token}},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.fileName)return a(new Error("请上传文件"))};return{formInfo:{fileName:""},rules:{fileName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},fileName:"",loading:!1}},methods:{closeDialog:function(){this.$refs.upload.clearFiles(),this.formInfo.fileName="",this.$emit("update:visibles",!1)},uploadFile:function(t){var e=this,i=t.file,a=new FormData;a.append("file",i),a.append("relationId","123456"),a.append("carTypeName",this.formInfo.carTypeName),a.append("fileName",this.formInfo.fileName),a.append("type",3),this.loading=!0,Object(o["b"])(a).then((function(t){var i=t.data;e.loading=!1,0===i.code?(e.closeDialog(),e.$emit("add-complete")):e.$message.error({message:response.message,duration:2e3})})).catch((function(){e.loading=!1}))},submitForm:function(){var t=this.checkForm({formName:"form",formList:["fileName"]});t&&this.$refs.upload.submit()},handleChange:function(t){if(!(t.name.indexOf(".zip")>-1))return this.$message.warning({message:"请上传后缀名为.zip格式的文件！",duration:2e3}),this.$refs.upload.clearFiles(),void(this.formInfo.fileName="");this.formInfo.fileName=t.name}}},u=c,d=(i("dda7"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"13cf3746",null);e["default"]=p.exports},c203:function(t,e,i){"use strict";var a=i("9b11"),n=i.n(a);n.a},c26b:function(t,e,i){"use strict";var a=i("86cc").f,n=i("2aeb"),s=i("dcbc"),o=i("9b43"),r=i("f605"),l=i("4a59"),c=i("01f9"),u=i("d53b"),d=i("7a56"),p=i("9e1e"),h=i("67ab").fastKey,f=i("b39a"),m=p?"_s":"size",b=function(t,e){var i,a=h(e);if("F"!==a)return t._i[a];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t((function(t,a){r(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=a&&l(a,i,t[c],t)}));return s(u.prototype,{clear:function(){for(var t=f(this,e),i=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=f(this,e),a=b(i,t);if(a){var n=a.n,s=a.p;delete i._i[a.i],a.r=!0,s&&(s.n=n),n&&(n.p=s),i._f==a&&(i._f=n),i._l==a&&(i._l=s),i[m]--}return!!a},forEach:function(t){f(this,e);var i,a=o(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){a(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!b(f(this,e),t)}}),p&&a(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,i){var a,n,s=b(t,e);return s?s.v=i:(t._l=s={i:n=h(e,!0),k:e,v:i,p:a=t._l,n:void 0,r:!1},t._f||(t._f=s),a&&(a.n=s),t[m]++,"F"!==n&&(t._i[n]=s)),t},getEntry:b,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=f(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?u(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,u(1))}),i?"entries":"values",!i,!0),d(e)}}},c3db:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:t.faultTitle,width:"65%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{staticClass:"js-system-user app-container",attrs:{slot:"formContent"},slot:"formContent"},[i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:0,isShowOperation:!0},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[t.faultParamList&&6===t.faultParamList.dxIntType&&"result"===e.item.prop?i("span",[t._v("\n           "+t._s(t._f("getResult")(e.row[e.item.prop]))+"\n         ")]):i("span",[t._v("\n           "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n         ")])]}}])})],1)])},n=[],s=(i("ac6a"),i("6762"),i("2fdb"),i("fab6")),o=i("6d60"),r=i("babb"),l=i("d0a1"),c={name:"ReadFaultListDialog",mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){var t=this.tableList[0];return this.faultTitle.includes("清除故障")&&(t=this.tableList[1]),t.filter((function(t){return t.checked}))},getIcon:function(){switch(this.faultParamList.dxIntType){case 2:return"icon_control_fault";case 3:return"icon_control_history";case 6:return"icon_control_clear"}}},props:{visibles:{type:Boolean,default:!1},faultParamList:{default:function(){return{}}},faultTitle:{type:String,default:""}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{},showfilter:!1,tableList:[[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"故障码",prop:"result",position:"center",checked:!0},{value:"故障码描述",prop:"content",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0,width:100},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0,width:100},{value:"诊断时间",prop:"responseTime",position:"center",checked:!0,width:160}],[{value:"诊断时间",prop:"responseTime",position:"center",checked:!0},{value:"ECU名称",prop:"ecuName",position:"center",checked:!0},{value:"是否成功",prop:"result",position:"center",checked:!0},{value:"负响应代码",prop:"errorCode",position:"center",checked:!0},{value:"负响应描述",prop:"errorMessage",position:"center",checked:!0}]],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),list:[],listLoading:!1,tableRow:{}}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.tableHeight=.6*window.innerHeight})),window.onresize=function(){e.getOtherHeight();e.$nextTick((function(){e.tableHeight=.6*window.innerHeight}))}},methods:{listLoad:function(){var t=this,e=this.faultParamList;e&&e.vin&&e.ecuClassId&&e.dxIntType&&(this.listLoading=!0,Object(l["b"])(e).then((function(i){var a=i.data;if(0===a.code){t.list=a.data;var n=e.dxIntType;2!==n&&3!==n||t.$emit("setFaultContentList",t.getFaultContentList(a.data)),t.$emit("reloadDigLog")}t.listLoading=!1})).catch((function(e){t.listLoading=!1})))},getFaultContentList:function(t){var e="";if(t.length>0){var i=[];t.forEach((function(t){i.includes(t.appendContent)||i.push(t.appendContent)})),e=i.join(",")}return e},rowClick:function(t,e){this.tableRow=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[]}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"77b3fb1c",null);e["default"]=p.exports},c517:function(t,e,i){var a={"./blue/500.png":"5758","./green/500.png":"e8a6","./red/500.png":"92bf"};function n(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="c517"},c540:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"DBC文件名称："}},[i("el-input",{attrs:{placeholder:"请输入DBC文件名称",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-detail":t.queryResult,"click-delete":t.handleDelete,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table"})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete}}),i("detail-dialog",{attrs:{visibles:t.detailVisible,data:t.tableRow},on:{"update:visibles":function(e){t.detailVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("f668"),u=i("1201"),d=i("16da"),p={name:"upgradePackageManage",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"],detailDialog:d["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url||"detail"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},data:function(){return{listQuery:{name:""},detailVisible:!1,actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"DBC文件名称",prop:"dbcName",position:"center",checked:!0,width:200,fixed:"left"},{value:"上传时间",prop:"createTime",position:"center",checked:!0,width:150},{value:"上传人",prop:"userId",position:"center",checked:!0,width:160},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,isEdit:!1,tableRow:{}}},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},queryResult:function(t){this.tableRow=t,console.log(t),this.detailVisible=!0},handleDelete:function(t){var e=this,i={id:t.id};this.$confirm("确定要删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["a"])(i).then((function(t){var i=t.data;0===i.code&&(e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"684a2506",null);e["default"]=m.exports},c643d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAABnRJREFUeF7tnFlsVGUUx3/nznShFBBIsYB0AWqQEDQRE30yUYNGSSRqeNNEfSjQCA9G4vZAomLi8mClLIn4gG8YjD5gCBoT3lyIEYOVWLaWrVJFllI6nZl7zDdQ22nnLjNz7wXpva/3+8453/9+Z/nOd84V4qcgAhLjUhiB6IFp76rCmlSLDNaQqKpGtQo7myQpVk7EjNpYiQwiKbKpQbR6APtqP+taUlF+xPCBMUDAVJKVUyBbC4mK0haYTUOin8zQZeBS2ECFA8wuTdB7ZAZVyZlkrcmlAeExK2FfIZX5m/qF51kl2aB5BAuMAeTi6dlkMnXoddUIWuKx9ERtksk+ps09GyRAwQHzcc8cKjJ12Ilk2FgUpG9lM6STfbzUcCYI/uUDs7N3MgOpRmwmBSFQ2TQsrlJT1c1z9VfKoVUeMB3H6xFrbjkChDZX7dO0NfeWSr80YIynqaxuwLanlso4knmWdYmhwZ5SPFjxwHScq8UaaCnZuFp6O8gybBYj2gjMAW4DqgEjz1XgAnAGlW4sOkEPYMufJYFpjLNd00XbrP5i5hcHzPaj0yCxgKwUNw+tB1mB6HJgfjECjhp7DJV9CHtQzhZFI6EK2aO0Lrjod57/Be44PIVMdUtRoFj2nai8ADwEXItsy39s4DtEP8W2/vBNzoCTHOzixUUmQPR8/AFjbEpFxWLf6mMxA9V1wBPX1cNTkBIGKLAHkXZszvuab9Qqne70Y3P8AbPtZEsRhvYRRN8ApvgStvxBl1F5B/jWFyljkFfP6/Ia6w2Mb5dsVyDyMvCMF9OQ3u9G9QOw0p70fbhyd2BM8NafWuTJCKlB7PeA+73Hhjrie9TaADrgyaW26rBbEOgOzLbuxZ4RrRg3q1uApZ7CRDPgV5C1KIOu7EyEvLqx02mMMzBbT85F7Xr3tRj1oR3kvmjW7JeL/Ija6z3VSqxe1sw7XYhqYWA2apK6E0sQK+EqiuirN9CmeKG0G5V3XQepnaWv6RAbJTN2XGFgOo7MQypmuW9Fezkqm7yku6HvRV/Htva5g5M+R9vCk97AmJzKP913uwZylm3yLbsidMml4nsZ0VXYVp8jARP4TW88ODaXM37HtHfVkaxscJdE30Z4rFRpI52n7AV5090kpE+yZuG50WPGA7P9+CLXdKSocd+fhRjRBo2biZCfReWwI2HVAdqafncGxoT+ycolHgb3Q+DBoKUPmd5+NBd8Oj+ZoUOjjwr5O8ZLjYTZoF8FeCAMGY//yNuIrMTGOe0p+eqUD8yWbpMSmO4orag5Ka+NajUB8/kElW3ORlgu0NpwdPj9GGCOLXW/99HPEZoDFjgqcj2oPOXIzCTTV88/OB4YL/tiMm/KnqhWEQoftZ4ELRjp5vhNsn/j+ebcUWJkx2w+NRMr2+SsRqwA3RiKwNERfQsVYyMLP4mKblrn/JUPzPajDWSTdc7A2BtAVkW3hjA46S7UMlkAB2AyfbQu6MkHxisZJbr5JkgrlIeW8gNIm7OdGUlijajS1p4lucoDp0f0S+CO8iS74bNPobLSeY2SYk3Dofwd03H8HvfTtO5HCOeCPjq8LqLysB/PNLJjtnTf6yqf6IHo5A+NUxqVB5xtjCqtTT/n75gYGDAn7XHATAxVuoSKueMq/JjEVVvzL/k7Jja+5Mrbxhnf2F3DqDunEeMbB3iQKBTgxUcCc34ucCSID5EOh0hjirfEaYdhdzVxElXKDpCtzsGdW6LKK7VpMQfNnZmCqnUJLcQdQ7jM1KaXnclFPnprJsNHJanyA7xhiL2uT+AuRHdOrOsTA46XOuUAnIgXbvEVbe7Tx5f66vdS38DlvwzkNeDpqFxLUXyUL8CjGqPoMhAjwf+6cEh/QlkXfOHQ8KeJS80cNmlcnOiivcWUsyKvIDhfgxZlJIocnLMp+r6n+uSiDe/OFO86X0PIK4mVv4boC6DRTaj1jS8oAyuAvhb0FV8yj65HeTzECFkRvgb56MaVzBtw4iYLlw1ZblsO+mgZZSQnUNl787XlDONVbiOX6V0SWQa26WZpJFellWvkqrnOwpS7X8j1JIl2g9WJmss+Ka2NL5JGrmFw4tY/Dzvv25X78hfBDvLhkt0Y+nPXbhTi9mKPDxo3pLsAFP/CwGP3xD+98GEv49+k+ABp+HhhfqxTkZqMVla5/lhHhlKkq67cmj/W8YnXzTasfHd9s60oIHn+BUY/A3SwUxMqAAAAAElFTkSuQmCC"},c990:function(t,e,i){},cb2c:function(t,e,i){},cbe1:function(t,e,i){},ce7e:function(t,e,i){var a=i("63b6"),n=i("584a"),s=i("294c");t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*s((function(){i(1)})),"Object",o)}},ce90:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑状态码":"新增状态码",width:"40%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"120px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"状态码来源类型：",prop:"codeType"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.codeType,callback:function(e){t.$set(t.formInfo,"codeType",e)},expression:"formInfo.codeType"}},t._l(t.codeTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-form-item",{attrs:{label:"状态码名称：",prop:"codeName"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入状态码名称",maxlength:"20"},model:{value:t.formInfo.codeName,callback:function(e){t.$set(t.formInfo,"codeName",e)},expression:"formInfo.codeName"}})],1),i("el-form-item",{attrs:{label:"状态码：",prop:"code"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入状态码",maxlength:"9"},model:{value:t.formInfo.code,callback:function(e){t.$set(t.formInfo,"code",e)},expression:"formInfo.code"}})],1),i("el-form-item",{attrs:{label:"状态码描述：",prop:"codeDes"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入状态码描述",maxlength:"20"},model:{value:t.formInfo.codeDes,callback:function(e){t.$set(t.formInfo,"codeDes",e)},expression:"formInfo.codeDes"}})],1)],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("5c83"),r=i("64ef"),l=i("10aa"),c=i("40aa");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[l["a"],c["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){this.formInfo=d({},this.data)},immediate:!0}},data:function(){var t=function(t,e,i){if(!e)return i(new Error("请输入状态码来源类型"))},e=function(t,e,i){if(!e)return i(new Error("请输入状态码名称"))},i=function(t,e,i){if(!e)return i(new Error("请输入状态码描述"))};return{formInfo:{},codeStyleList:[{label:"success",value:"成功"},{label:"warning",value:"警告"},{label:"info",value:"提示"},{label:"error",value:"失败"},{label:"alert",value:"弹框"},{label:"confirm",value:"确认"}],codeTypeList:[{label:"平台",value:1},{label:"API",value:2},{label:"终端",value:3}],rules:{codeType:[{required:!0,trigger:"blur",validator:t},{trigger:"change",validator:t}],codeName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],code:[{required:!0,trigger:["blur","change"],ruleReg:"number",tips:"请输入状态码",errorTips:"状态码必须为数字值",validator:this.validInput}],codeDes:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}]}}},methods:{radioChange:function(t){this.formInfo.buttonPosition=t},closeDialog:function(){this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},_buttonAdd:function(t){var e=this;Object(r["a"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("add-complete"),e.closeDialog())}))},_buttonUpdate:function(t){var e=this;Object(r["d"])(t).then((function(t){var i=t.data;0===i.code&&(e.$emit("update-complete"),e.closeDialog())}))},submitForm:function(){var t=this.checkForm({formName:"formCenter",formList:["codeType","codeName","code","codeDes","codeStyle"]});t&&(this.isEdit?this._buttonUpdate(this.formInfo):this._buttonAdd(this.formInfo))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"998d8598",null);e["default"]=m.exports},cf29:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:t.title,width:"35%",top:"30vh",isFooter:t.templateUrl,templateUrl:t.templateUrl,type:"import"},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleSubmit}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:16}},[i("el-form",[i("el-form-item",{attrs:{"label-position":"'right'","label-width":"50px",label:"文件："}},[i("el-input",{attrs:{disabled:""},model:{value:t.leadingInPath,callback:function(e){t.leadingInPath=e},expression:"leadingInPath"}})],1)],1)],1),i("el-col",{attrs:{span:4,type:"flex",align:"end"}},[i("el-upload",{ref:"upload",staticClass:"el-upload-block",attrs:{headers:{Authorization:t.token},"auto-upload":!1,"show-file-list":!1,"file-list":t.fileList,multiple:!0,"before-upload":t.beforeupload,"on-change":t.fileChange,"on-success":t.fileSuccess,"on-error":t.fileError,action:t.action,data:t.data}},[i("el-button",{attrs:{type:"primary"}},[t._v("\n\t\t\t\t\t\t浏览\n\t\t\t\t\t")])],1)],1)],1),i("div",{staticClass:"import-remark"},[i("span",{staticClass:"textColor"},[t._v("注：")]),t._v("若已上传过的文件需重新选择方可上传，最多导入"),i("span",{staticClass:"textColor"},[t._v("\n\t\t\t\t"+t._s(t.maxNumber)+" ")]),t._v("行\n\t\t")]),t._t("default"),t.templateUrl?t._e():i("span",{staticClass:"dialog-footer",attrs:{slot:"footerButton"},slot:"footerButton"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:t.downloadTemplate}},[i("span",{staticClass:"templateUrl"},[i("i",{staticClass:"iconfont icon-import",staticStyle:{"font-size":"12px !important","margin-right":"5px"}}),t._v("下载模板")])]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:t.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v("确定")])],1)],2)])},n=[],s=(i("7f7f"),i("c5f6"),i("5c96"));function o(t){return new Promise((function(e,i){return t.length<=0?(i(!1),!1):/\.(xls|xlsx)$/.test(t[0].name.toLowerCase())?void e(!0):(s["Message"].warning("上传格式不正确，请上传xls或者xlsx格式"),i(!1),!1)}))}var r={name:"ImportDialog",props:{visibles:{type:Boolean,default:!1},action:{type:String,default:""},title:{type:String,default:"导入"},templateUrl:{type:String,default:""},appendToBody:{type:Boolean,default:!1},data:{type:Object,default:null},isData:{type:Boolean,default:!1},maxNumber:{type:Number,default:1e3}},data:function(){return{leadingInPath:"",fileList:[],successList:[],failedList:[],loading:!1,uploadloading:null,uid:"",radioType:1,showVisibles:!1}},computed:{token:function(){return this.$store.getters.token}},watch:{visibles:function(t){t&&(this.fileList=[],this.leadingInPath="",this.uid="")}},methods:{downloadTemplate:function(){},restStatus:function(){this.fileList=[],this.leadingInPath="",this.uploadloading.close()},beforeupload:function(t){this.uid=t.uid},fileChange:function(t,e){var i=this;this.fileList=e.slice(-1),o({0:t.raw}).then((function(){i.leadingInPath=t.name})).catch((function(t){console.log(t)}))},fileSuccess:function(t){0===t.code?(this.$notify({title:"成功",message:"文件上传成功",type:"success",duration:3e3}),this.$emit("upload-success",t.data,t)):this.$message.warning({message:t.message,duration:2e3}),this.restStatus()},fileError:function(t,e,i){this.restStatus()},closeDialog:function(){this.$emit("update:visibles",!1)},handleCancel:function(){this.closeDialog()},handleSubmit:function(){if(0!==this.fileList.length){if(this.uid===this.fileList[0].uid)return this.$message.warning({message:"该文件已上传请重新选择上传文件",duration:2e3}),!1;this.$refs.upload.submit(),this.uploadloading=this.$loading({target:document.querySelector(".el-dialog-import-sim"),text:"文件上传中...",background:"rgba(1, 1, 1, 0.3)",customClass:"svg-otherColor"})}else this.$message.warning({message:"请选择上传文件",duration:2e3})}}},l=r,c=(i("89dd"),i("2877")),u=Object(c["a"])(l,a,n,!1,null,"03e048d7",null);e["a"]=u.exports},d03d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",icon:"icon_ecu",width:"65%",top:"10vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuname,callback:function(e){t.$set(t.listQuery,"ecuname",e)},expression:"listQuery.ecuname"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中",isShowTitle:!0,icon:"icon_carlist",data:t.rowECUName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-120},on:{"row-dblclick":t.rowDblClick,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("c5f6"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c={name:"SelectECUDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""},state:{type:Number,default:0},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.rowECUName="",this.data.ecuName&&(this.rowECUName=this.data.ecuName,this.tableRow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"ODX文件",prop:"odxName",position:"center",checked:!0,width:300},{value:"车型",prop:"carTypeName",position:"center",checked:!0,width:120},{value:"配置级别",prop:"configLevel",position:"center",checked:!0,width:120},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:120},{value:"接受地址",prop:"responseAddress",position:"center",checked:!0,width:120},{value:"创建时间",prop:"createdOn",position:"center",checked:!1,width:140}],total:0,list:[],listLoading:!1,rowECUName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuClassId=this.ecuClassId,this.listQuery.state=this.state,this.listQuery.type=1,Object(l["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.rowECUName=t.row.ecuName,this.tableRow=t.row},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("carECU",this.tableRow),this.closeDialog()):this.$alert("请选中ECU","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"645f2491",null);e["default"]=p.exports},d0a1:function(t,e,i){"use strict";i.d(e,"q",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"r",(function(){return o})),i.d(e,"w",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"o",(function(){return c})),i.d(e,"p",(function(){return u})),i.d(e,"n",(function(){return d})),i.d(e,"l",(function(){return p})),i.d(e,"c",(function(){return h})),i.d(e,"e",(function(){return S})),i.d(e,"d",(function(){return f})),i.d(e,"u",(function(){return m})),i.d(e,"k",(function(){return b})),i.d(e,"m",(function(){return g})),i.d(e,"t",(function(){return v})),i.d(e,"s",(function(){return y})),i.d(e,"i",(function(){return w})),i.d(e,"h",(function(){return L})),i.d(e,"g",(function(){return k})),i.d(e,"f",(function(){return C})),i.d(e,"j",(function(){return x})),i.d(e,"v",(function(){return T}));var a=i("b775");function n(t){return Object(a["a"])({url:"onlineDiagnosis/readCarDTC",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"onlineDiagnosis/clearCarDTC",method:"POST",data:t})}function o(t){return Object(a["a"])({url:"onlineDiagnosis/readCarStream",method:"POST",data:t})}function r(t){return Object(a["a"])({url:"onlineDiagnosis/writeData",method:"POST",data:t})}function l(t){return Object(a["a"])({url:"onlineDiagnosis/dxByECU",method:"POST",data:t})}function c(t){return Object(a["a"])({url:"onlineDiagnosis/ioControl",method:"POST",data:t})}function u(t){return Object(a["a"])({url:"onlineDiagnosis/printDxReport",method:"POST",data:t})}function d(t){return Object(a["a"])({url:"onlineDiagnosis/getWriteList",method:"post",data:t})}function p(t){return Object(a["a"])({url:"onlineDiagnosis/getReadList",method:"POST",data:t})}function h(t){return Object(a["a"])({url:"/operLog/exportDxByEcuOperLog",method:"post",responseType:"arraybuffer",data:t})}function f(t){return Object(a["a"])({url:"/onlineDiagnosis/exportDxReport",method:"post",responseType:"arraybuffer",data:t})}function m(t){return Object(a["a"])({url:"readEcuLog/readLog",method:"POST",data:t})}function b(t){return Object(a["a"])({url:"readEcuLog/getLogList",method:"POST",data:t})}function g(t){return Object(a["a"])({url:"onlineDiagnosis/getVersion",method:"POST",data:t})}function v(t){return Object(a["a"])({url:"/onlineDiagnosis/readSoftwareVersion",method:"POST",data:t})}function y(t){return Object(a["a"])({url:"/onlineDiagnosis/readHardwareVersion",method:"POST",data:t})}function w(t){return Object(a["a"])({url:"/faultErrorCode/getFaultSolution",method:"POST",data:t})}function L(t){return Object(a["a"])({url:"/operLog/getDxResultList",method:"POST",data:t})}function k(t){return Object(a["a"])({url:"/diagnosisLog/getDxResultDataStreamList",method:"POST",data:t})}function C(t){return Object(a["a"])({url:"/operLog/getDiagnosisReport",method:"POST",data:t})}function x(t){return Object(a["a"])({url:"/onlineDiagnosis/getIoEquipment",method:"POST",data:t})}function T(t){return Object(a["a"])({url:"/readEcuLog/stopEcuLog",method:"POST",data:t})}function S(t){return Object(a["a"])({url:"/onlineDiagnosis/exportVersion",method:"post",responseType:"arraybuffer",data:t})}},d25f:function(t,e,i){"use strict";var a=i("a4b6"),n=i.n(a);n.a},d4e7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"新增",width:"500px",loading:t.loading,isOkButLoading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{ref:"form",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"60px"},slot:"drawerContent"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆",readonly:""},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.formInfo.vin,callback:function(e){t.$set(t.formInfo,"vin",e)},expression:"formInfo.vin"}})],1)],1)],1)],1),i("app-car-list",{attrs:{visibles:t.carListVisible,data:t.tableRow},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}})],1)])],1)},n=[],s=i("10aa"),o=i("daee"),r=i("530f"),l={name:"addUpdateDialog",mixins:[s["a"]],components:{AppCarList:r["a"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},computed:{},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.vin)return a(new Error("请输入VIN码"))};return{formInfo:{vin:""},tableRow:{},carListVisible:!1,rules:{vin:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]},loading:!1}},methods:{selectCar:function(){this.carListVisible=!0},loadCarVinno:function(t){this.formInfo.vin=t.vinNo,this.tableRow=t},closeDialog:function(){this.formInfo.vin="",this.$emit("update:visibles",!1)},submitForm:function(){var t=this,e=this.checkForm({formName:"form",formList:["vin"]});e&&(this.loading=!0,Object(o["a"])(this.formInfo).then((function(e){var i=e.data;t.loading=!1,0===i.code&&(t.$emit("add-complete"),t.closeDialog())})).catch((function(){t.loading=!1})))}}},c=l,u=(i("b0b1"),i("2877")),d=Object(u["a"])(c,a,n,!1,null,"30d1a1f4",null);e["default"]=d.exports},d590:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"ODX文件上传",width:"70%",isDrawerFoot:t.isRowVisible,isOkButLoading:t.isOkButLoading},on:{"close-drawer":t.closeDialog,"ok-drawer":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("div",{staticClass:"odx-search"},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",model:t.formInfo,rules:t.rules,"label-width":"85px"}},[t.isEdit?t._e():i("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"文件上传：",prop:"fileName"}},[i("el-input",{attrs:{placeholder:"请输入上传文件",clearable:"",disabled:""},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:{Authorization:t.token},"show-file-list":!1,action:"","auto-upload":!1,"on-progress":t.handleProgess,"on-error":t.handleError,"on-change":t.handleChange,"http-request":t.uploadFile}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("选择ODX文件")]),i("el-button",{attrs:{type:"primary"},on:{click:t.startAnalysis}},[t._v("开始解析")])],1)],1),i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{readonly:"",filterable:"",clearable:"",placeholder:"点击进行车型选择"},nativeOn:{click:function(e){return t.selectCarType(e)}},model:{value:t.formInfo.carTypeName,callback:function(e){t.$set(t.formInfo,"carTypeName",e)},expression:"formInfo.carTypeName"}})],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isRowVisible,expression:"isRowVisible"}],attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ECU名称：",prop:"ecu"}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.formInfo.ecu,callback:function(e){t.$set(t.formInfo,"ecu",e)},expression:"formInfo.ecu"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ODX版本："}},[i("el-input",{attrs:{placeholder:"请输入ODX版本",clearable:"",maxlength:"20"},model:{value:t.formInfo.version,callback:function(e){t.$set(t.formInfo,"version",e)},expression:"formInfo.version"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isRowVisible,expression:"isRowVisible"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务指令："}},[i("el-input",{attrs:{placeholder:"请输入服务指令",clearable:"",maxlength:"20"},on:{input:t.handleSearch},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isRowVisible,expression:"isRowVisible"}],attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"CAN通道："}},[i("span",[t._v(t._s(t.formInfo.can))])])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"波特率："}},[i("span",[t._v(t._s(t.formInfo.baudRate))])])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"发送地址："}},[i("span",[t._v(t._s(t.formInfo.sendAddress))])])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"接受地址："}},[i("span",[t._v(t._s(t.formInfo.receiveAddress))])])],1)],1)],1)],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["alias"===e.item.prop?i("div",{staticClass:"editContent"},[i("el-input",{attrs:{size:"small",maxlength:"20"},model:{value:e.row[e.item.prop],callback:function(i){t.$set(e.row,e.item.prop,i)},expression:"scope.row[scope.item.prop]"}}),i("span",[t._v(t._s(e.row[e.item.prop]))])],1):"description"===e.item.prop?i("div",{staticClass:"editContent"},[i("el-input",{attrs:{size:"small",maxlength:"50"},model:{value:e.row[e.item.prop],callback:function(i){t.$set(e.row,e.item.prop,i)},expression:"scope.row[scope.item.prop]"}}),i("span",[t._v(t._s(e.row[e.item.prop]))])],1):"securityAccess"===e.item.prop?i("div",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("convertSecurityAccess")(e.row[e.item.prop]))+"\n\t\t\t\t\t")]):"sessions"===e.item.prop?i("div",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("convertSession")(e.row[e.item.prop]))+"\n\t\t\t\t\t")]):i("div",[i("span",[t._v(t._s(t._f("processData")(e.row[e.item.prop])))])])]}}])}),i("app-car-type-list",{attrs:{visibles:t.carTypeListVisible,data:t.carTypeData},on:{"update:visibles":function(e){t.carTypeListVisible=e},carType:t.loadCarType}})],1)])},n=[],s=(i("8e6e"),i("456d"),i("bd86")),o=(i("7f7f"),i("ac6a"),i("a481"),i("fab6")),r=i("6d60"),l=i("babb"),c=i("d9a7"),u=i("140c"),d=i("cf45"),p=i("10aa"),h=i("4360");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"SelectECUDialog",mixins:[o["a"],r["a"],p["a"],l["a"]],components:{AppCarTypeList:c["default"]},computed:{token:function(){return h["a"].getters.token},filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},filters:{convertSession:function(t){t=t||"1";var e=t.replace("1","默认").replace("2","编程").replace("3","扩展");return e},convertSecurityAccess:function(t){return t=t||"0",t}},watch:{visibles:{handler:function(t){t&&(this.isEdit&&this.data&&this.data.id?(this._getOdxData(this.data.id),this.isDisabled=!0,this.isRowVisible=!0):this.isRowVisible=!1)}}},data:function(){var t=this,e=function(e,i,a){if(!t.fileName)return a(new Error("请选择上传文件"))},i=function(e,i,a){if(!t.formInfo.ecu)return a(new Error("请输入ECU名称"))};return{isOkButLoading:!1,fileData:null,tableList:[{value:"服务名称",prop:"name",position:"center",checked:!0,width:180},{value:"服务别名",prop:"alias",position:"center",checked:!0,width:120},{value:"服务指令",prop:"content",position:"center",checked:!0,width:80},{value:"安全级别",prop:"securityAccess",position:"center",checked:!0,width:60},{value:"会话模式",prop:"sessions",position:"center",checked:!0,width:80},{value:"服务描述",prop:"description",position:"center",checked:!0,width:120}],content:"",total:0,list:[],cloneList:[],cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),fileName:"",listLoading:!1,tablerow:null,carTypeListVisible:!1,carTypeData:{},formInfo:{version:"",ecu:""},isDisabled:!1,rules:{fileName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],ecu:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}]},isRowVisible:!1}},mounted:function(){this.getData=Object(d["a"])(this.loadS,300)},methods:{selectCarType:function(){this.carTypeListVisible=!0},loadCarType:function(t){this.carTypeData=t,this.formInfo.carTypeId=t.id,this.formInfo.carTypeName=t.carTypeName},handleSearch:function(){this.getData()},loadS:function(){this.list=Object(d["b"])(this.cloneList,this.content,"content")},listLoad:function(){},rowClick:function(t){this.tablerow=t.row},handleCancel:function(){this.closeDialog()},handleConfirm:function(){if(this.isEdit){var t=this.checkForm({formName:"formLeft",formList:["ecu"]});if(!t)return;this._updateOdxData()}else{var e=this.checkForm({formName:"formLeft",formList:["fileName","ecu"]});if(!e)return;this._createOdxData()}},_createOdxData:function(){var t=this;this.isOkButLoading=!0,this.formInfo.serviceObject=JSON.stringify(this.list);var e=new FormData;for(var i in this.formInfo)"serviceList"!=i&&e.append(i,this.formInfo[i]);e.append("file",this.fileData),Object(u["a"])(e).then((function(e){var i=e.data;t.isOkButLoading=!1,0===i.code&&(t.$message.success({message:"添加成功"}),t.$emit("add-complete"),t.closeDialog())})).catch((function(){t.isOkButLoading=!1}))},_updateOdxData:function(){var t=this;this.isOkButLoading=!0;var e={};e.id=this.data.id,e.version=this.formInfo.version,e.baudRate=this.formInfo.baudRate,e.ecu=this.formInfo.ecu;var i=[];this.list.forEach((function(t){var e={};(t.alias||t.description)&&(e.id=t.id,e.alias=t.alias,e.description=t.description,i.push(e))})),e.serviceList=i,Object(u["f"])(e).then((function(e){var i=e.data;t.isOkButLoading=!1,0===i.code&&(t.$emit("update-complete"),t.closeDialog())})).catch((function(){t.isOkButLoading=!1}))},closeDialog:function(){this.formInfo={},this.fileName="",this.content="",this.list=[],this.fileData=null,this.$emit("update:visibles",!1)},startAnalysis:function(){this.fileName?this.$refs.upload.submit():this.$alert("请选择ODX文件","提示",{confirmButton:"确定"})},uploadFile:function(t){var e=this;this.fileData=t.file;var i=t.file;console.log(i,"1231");var a=new FormData;a.append("file",i),this.loading=!0,Object(u["e"])(a).then((function(t){var a=t.data;e.handleSuccess(a,i)})).catch((function(){}))},handleProgess:function(t){this.listLoading=!0},handleChange:function(t){t.name.indexOf(".odx")>-1||t.name.indexOf(".pdx")>-1?this.fileName=t.name:(this.$alert("您选择的文件格式不正确！","提示",{confirmButton:"确定"}),this.$refs.upload.clearFiles())},handleError:function(t,e){this.listLoading=!1,this.$message.warning("系统繁忙，请稍后再试")},handleSuccess:function(t,e){if(this.listLoading=!1,0===t.code&&t.data){this.isRowVisible=!0;var i=t.data;this.formInfo=m({},i),this.formInfo.odxName=e.name,this.toTableData(i.serviceList)}else this.$message.error({message:t.message})},toTableData:function(t){var e=[],i=function(i){var a=t[i];a.forEach((function(t){t.serviceId=t.id,t.funcClass=i;var a=t;delete a.id,e.push(t)}))};for(var a in t)i(a);this.list=e},_getOdxData:function(t){var e=this;this.listLoading=!0,Object(u["c"])({ecuId:t}).then((function(t){var i=t.data;0===i.code&&(e.formInfo=i.data,e.list=i.data.serviceList,e.cloneList=i.data.serviceList,e.listLoading=!1)}))}}},g=b,v=(i("dd8c"),i("2877")),y=Object(v["a"])(g,a,n,!1,null,"17a186ba",null);e["default"]=y.exports},d5f5:function(t,e,i){"use strict";var a=i("1775"),n=i.n(a);n.a},d61f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:t.title,width:"80.5%",top:"8vh",loading:!1,isFooter:!1},on:{"close-dialog":t.closeDialog}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("writeData",{attrs:{carObj:t.data,ecuObj:t.ecuData,systemObj:t.systemData}})],1)])},n=[],s=i("141b"),o={name:"writeInPartsDialog",components:{writeData:s["default"]},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},ecuData:{type:Object,default:function(){return{}}},systemData:{type:Object,default:function(){return{}}}},data:function(){return{title:"写入零部件"}},mounted:function(){},methods:{closeDialog:function(){this.$emit("update:visibles",!1)}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"8c992002",null);e["default"]=c.exports},d6dda:function(t,e,i){},d9a7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择车型",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"65px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-input",{attrs:{placeholder:"请输入车型名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"已选中车型",isShowTitle:!0,icon:"icon_select_subsystem",data:t.rowCarTypeName}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["createdBy"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t\t")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t\t")]):"pdxFileName"===e.item.prop&&e.row[e.item.prop]?i("a",{staticClass:"vinNo",attrs:{href:"file/"+e.row["pdxFilePath"]}},[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop])+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("3ff2"),c={name:"SelectCarTypeDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.rowCarTypeName="",this.tableRow={},this.data.carTypeId&&(this.rowCarTypeName=this.data.carTypeName,this.tableRow=this.data))}}},data:function(){return{listQuery:{},tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:140,fixed:"left"},{value:"车型配置",prop:"configLevel",position:"center",checked:!0,width:140},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:80},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:250},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,rowCarTypeName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(l["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.rowCarTypeName=e.carTypeName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){this.tableRow?(this.$emit("carType",this.tableRow),this.closeDialog()):this.$alert("请选中车型","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"3b8a1c18",null);e["default"]=p.exports},d9b8:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"选择诊断服务",width:"60%",isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.serviceName,callback:function(e){t.$set(t.listQuery,"serviceName",e)},expression:"listQuery.serviceName"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务别名："}},[i("el-input",{attrs:{placeholder:"请输入服务别名",clearable:"",maxlength:"20"},model:{value:t.listQuery.aliasName,callback:function(e){t.$set(t.listQuery,"aliasName",e)},expression:"listQuery.aliasName"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"ECU",isShowTitle:t.isShowTitle,icon:"icon_ecu_title",data:t.rowDigService}}),i("app-table",{attrs:{slot:"table",isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,selectionData:t.selectionDataList,tableHeights:t.tableHeight-120},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)],1)])},n=[],s=i("75fc"),o=(i("20d6"),i("6762"),i("2fdb"),i("ac6a"),i("fab6")),r=i("babb"),l=i("6d60"),c=i("d0a1"),u={doNotInit:!1,name:"selectMultiDigService",mixins:[o["a"],r["a"],l["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},propServiceList:{type:Array,default:function(){return[]}},ecuList:{default:function(){return{}}},ecuClassId:{type:String,default:""}},filters:{},watch:{visibles:function(t){t&&(void 0!==this.ecuList.ecuname&&void 0!==this.ecuList.ecuid||(this.isShowTitle=!1,this.tableList[0].checked=!0),this.listQuery.pageNum=1,this.listLoad(),this.rowDigService=this.ecuList.ecuname)}},data:function(){return{listQuery:{ecuId:""},tableList:[{value:"ECU名称",prop:"ecuName",position:"center",checked:!1},{value:"服务名称",prop:"serviceName",position:"center",checked:!0},{value:"服务别名",prop:"aliasName",position:"center",checked:!0},{value:"指令内容",prop:"content",position:"center",checked:!0}],total:0,list:[],listLoading:!1,rowDigService:"",tablerow:null,serviceList:[],serviceIdList:[],cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),isShowTitle:!0,selectionDataList:[],getRowKeys:function(t){return t.id}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.ecuId=this.ecuList.ecuid,this.listQuery.ecuClassId=this.ecuList.ecuClassId,Object(c["l"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).then((function(){if(t.propServiceList.length>0){t.serviceIdList=[],t.propServiceList.forEach((function(e){t.serviceIdList.push(e.id)}));for(var e=t.list,i=0;i<e.length;i++)t.serviceIdList.includes(e[i].id)&&t.selectionDataList.push(e[i])}}))},rowClick:function(t){},handleSelectionChange:function(t){var e=this;this.serviceList=t;t.forEach((function(t){e.serviceIdList.includes(t.id)&&(e.propServiceList.splice(e.propServiceList.findIndex((function(e){return e.id===t.id})),1),e.serviceIdList.splice(e.serviceIdList.findIndex((function(e){return e===t.id})),1))}))},handleConfirm:function(){if(this.serviceList!==[]){var t=[].concat(Object(s["a"])(this.serviceList),Object(s["a"])(this.propServiceList));this.$emit("setDigService",t),this.closeDialog()}else this.$alert("请选中诊断服务","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.selectionDataList=[],this.$emit("update:visibles",!1),this.handleClear()}}},d=u,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,"6c58c312",null);e["default"]=h.exports},daee:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/empowerTaskEntity/getRDList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/empowerTaskEntity/createRDAuth",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/empowerTaskEntity/deleteRDAuth",method:"POST",data:t})}function r(t){return Object(a["a"])({url:"/empowerTaskEntity/doRDAuth",method:"post",data:t})}},dd8c:function(t,e,i){"use strict";var a=i("41a3"),n=i.n(a);n.a},dda7:function(t,e,i){"use strict";var a=i("cb2c"),n=i.n(a);n.a},dee4:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return l}));i("75fc"),i("55dd"),i("ac6a");var a=i("3fa5");new a["a"];function n(t,e){var i={};return t=t.reduce((function(t,a){return i[a[e]]||(i[a[e]]=!0,i[a[e]]&&t.push(a)),t}),[]),t}function s(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);return e=e.format("yyyy-MM-dd hh:mm:ss"),e}function o(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59);return e=e.format("yyyy-MM-dd hh:mm:ss"),e}function r(t,e){var i=new Date(t),a=new Date(e),n=a.getTime()-i.getTime(),s=n/864e5;return!(s>90)}function l(t,e){var i=t?Date.parse(t):0,a=e?Date.parse(e):0,n=Math.abs((a-i)/864e5);return n}},df38:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"诊断报告",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.reportList,"max-height":t.tableHeight,"header-row-style":t.headerRowStyle,"row-style":t.rowStyle,"header-cell-style":t.headerCellStyle,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"content",label:"故障描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.content?e.row.content.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t"),e.row.content&&e.row.content.split(";")[1]?i("span",[t._v(t._s(e.row.content.split(";")[1]))]):t._e()]}}])}),i("el-table-column",{attrs:{prop:"result",width:"350",label:"故障码"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.result?e.row.result.split(";")[0]:""))]),t._v("    \n\t\t\t\t\t"),e.row.result&&e.row.result.split(";")[1]?i("span",[t._v(t._s(e.row.result.split(";")[1]))]):t._e()]}}])})],1)],1)])},n=[],s=(i("8e6e"),i("bd86")),o=(i("ac6a"),i("456d"),i("75fc")),r=i("c1fb"),l=i("fab6"),c=i("6d60"),u=i("1ad5"),d=(i("0c56"),i("f80b")),p=i("d0a1");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"queryDigResult",doNotInit:!0,mixins:[l["a"],r["a"],c["a"],u["a"]],props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){}}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},filters:{getResult:function(t){var e="失败";return"1"===t&&(e="成功"),e}},data:function(){return{listQuery:{},showfilter:!1,tableHeight:0,list:[],exportData:{},reportList:[{value:"故障码",prop:"result",position:"center",checked:!0,width:120},{value:"故障码描述",prop:"content",position:"center",checked:!0,width:140}],listLoading:!1,tableRow:{},reportVisible:!1}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.tableHeight=.6*window.innerHeight})),window.onresize=function(){e.getOtherHeight();e.$nextTick((function(){e.tableHeight=.6*window.innerHeight}))}},methods:{listLoad:function(){this.exportData={};var t=[],e=this.data;console.log(e,"as1231"),e.result&&(t=JSON.parse(e.result),this.setReport(t)),this.list=t},closeDialog:function(){this.$emit("update:visibles",!1),this.list=[],this.faultParamList={},this.data={},this.reportList=[]},setReport:function(t){var e=t.dtcList||"",i=t.readList||"",a=e.length,n=i.length;if(0!==a||0!==n){var s="";a>0?s=e[0]["ecuName"]:e=[{content:"暂无数据",result:""}],n>0?s=""===s?i[0]["ecuName"]:s:i=[{content:"暂无数据",result:""}],this.exportData={vin:this.data.vinNo,ecuName:s,dtcCount:a,readCount:n,dtcList:e,readList:i};var r=[{content:"诊断车辆："+this.data.vinNo+";诊断ECU："+s,result:"故障码数量："+a+";读取数量："+n},{content:"故障描述",result:"故障码"}],l=[{content:"读取内容",result:"读取结果"}];this.reportList=[].concat(r,Object(o["a"])(e),l,Object(o["a"])(i))}},cellContentStyle:function(t){var e=t.row;if("故障描述"===e.content||"读取内容"===e.content)return"background:#F5F7FA;color:#606266;font-weight:bold"},handleExport:function(){var t=this;if("12"===this.digType)return 0===Object.keys(this.exportData).length?void this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"}):void Object(p["d"])(this.exportData);if(0!==this.list.length){var e=[];this.list.forEach((function(i){var a=f({},i);"5"!==t.digType&&"8"!==t.digType||(a.result="1"===a.result?"成功":"失败"),e.push(a)})),Object(d["a"])(this.getExportData("查看结果",this.filterTableList,e))}else this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})}}},b=m,g=i("2877"),v=Object(g["a"])(b,a,n,!1,null,null,null);e["default"]=v.exports},df84:function(t,e,i){"use strict";var a=i("668e"),n=i.n(a);n.a},dfc2:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择ECU",width:"912px",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"62px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.subloading,expression:"subloading"}],staticClass:"system-container"},[i("app-message",{attrs:{title:"请选择分系统",isShowTitle:!0,icon:"icon_sub_system",data:t.errorMessage}}),i("div",{staticClass:"system-btn"},t._l(t.subSystemList,(function(e,a){return i("el-button",{key:a,class:["",e.isSelect?"select-subsystem-btn":"noselect-subsystem-btn"],staticStyle:{width:"calc(20% - 10px)",margin:"5px"},attrs:{type:e.isSelect?"primary":"info"},on:{click:function(i){return t.clickSubSystem(e.id)}}},[t._v("\n                "+t._s(e.subSystemName)+"\n              ")])})),1)],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.eculoading,expression:"eculoading"},{name:"show",rawName:"v-show",value:t.isShowEcu,expression:"isShowEcu"}],staticClass:"ecu-list"},[i("app-message",{attrs:{title:"请选择ECU",isShowTitle:!0,icon:"icon_ecu_title",data:t.rowECUName}}),i("ul",{staticClass:"checkbox-ul"},t._l(t.list,(function(e,a){return i("li",{key:a,staticClass:"checkbox-li",style:{borderLeft:a>0&&a%6!==0?"0":"",borderTop:a>=6?"0":""},on:{click:function(i){return t.changeHandle(e)}}},[i("div",{staticClass:"div1"},[i("el-checkbox",{on:{change:function(i){return t.changeHandle(e)}},model:{value:e.isSelect,callback:function(i){t.$set(e,"isSelect",i)},expression:"item.isSelect"}})],1),i("div",{staticClass:"checkbox-text"},[i("span",[t._v(t._s(e.ecuName))])])])})),0)],1)],1)])},n=[],s=(i("ac6a"),i("c5f6"),i("fab6")),o=i("babb"),r=i("f80b"),l={name:"SelectECUDialog",doNotInit:!0,mixins:[s["a"],o["a"]],computed:{},props:{visibles:{type:Boolean,default:!1},ecuClassId:{type:String,default:""},carTypeId:{type:String,default:""},data:{type:Object,default:{}},configLevel:{type:String|Number}},filters:{},watch:{visibles:{handler:function(t){t&&(this.listLoad(),this.data.ecuName&&(this.tableRow={ecuName:this.data.ecuName,id:this.data.ecuId},this.listQuery.ecuClassId=this.data.ecuClassId,this.subId=this.data.subId))}}},data:function(){return{listQuery:{ecuClassId:""},tableList:[],total:0,list:[],subSystemList:[],index:"",radio:"",listLoading:!1,rowECUName:"",errorMessage:"",isShowEcu:!1,subloading:!1,eculoading:!1,tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),subId:""}},mounted:function(){},methods:{listLoad:function(){var t=this;console.log(this.data,"data"),this.listQuery.carTypeId=this.carTypeId,this.listQuery.pageSize=100,this.subloading=!0,this.configLevel&&(this.listQuery.configLevel=this.configLevel),Object(r["g"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&i.total>0?(t.subSystemList=i.data,t.subSystemList.forEach((function(e){e.id==t.subId?(t.$set(e,"isSelect",!0),t.loadEcu(e.id)):t.$set(e,"isSelect",!1)}))):t.errorMessage="暂无数据",t.subloading=!1}))},loadEcu:function(t){var e=this;this.isShowEcu=!0,this.list=[],this.listQuery.ecuClassId=t,this.eculoading=!0,Object(r["f"])(this.listQuery).then((function(t){var i=t.data;0===i.code&&(e.list=i.data,e.list.forEach((function(t){t.id==e.data.ecuId?e.$set(t,"isSelect",!0):e.$set(t,"isSelect",!1)}))),e.eculoading=!1}))},clickSubSystem:function(t){this.subId=t,this.loadEcu(t);for(var e=0;e<this.subSystemList.length;e++)this.subSystemList[e].id==t?this.$set(this.subSystemList[e],"isSelect",!0):this.$set(this.subSystemList[e],"isSelect",!1)},changeHandle:function(t){this.$set(t,"isSelect",!t.isSelect),this.tableRow=t,this.rowECUName=t.isSelect?"   "+t.ecuName:"";for(var e=t.id,i=0;i<this.list.length;i++)this.list[i].id!=e&&this.$set(this.list[i],"isSelect",!1)},handleConfirm:function(){if(null!==this.tableRow){var t={ecuName:this.tableRow.ecuName,ecuId:this.tableRow.id,ecuClassId:this.listQuery.ecuClassId,subId:this.subId};this.$emit("carECU",t),this.closeDialog()}else this.$alert("请选中ECU","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1),this.subSystemList=[],this.list=[],this.tableRow=null,this.rowECUName="",this.errorMessage=""}}},c=l,u=(i("7e80"),i("2877")),d=Object(u["a"])(c,a,n,!1,null,null,null);e["a"]=d.exports},dfd3:function(t,e,i){},e095:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"查看命令",width:"50%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("el-row",{attrs:{slot:"drawerContent",type:"flex",justify:"center",align:"top"},slot:"drawerContent"},[i("el-col",[i("el-form",{ref:"formLeft",attrs:{model:t.formInfo,"label-position":"right","label-width":"60px"}},[i("el-form-item",{attrs:{label:"下发命令："}},[i("el-scrollbar",{staticStyle:{height:"calc(50vh - 60px)"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("json-viewer",{staticClass:"send-data",attrs:{value:t.sendParam,copyable:t.copyable,"expand-depth":4,boxed:"",sort:""},scopedSlots:t._u([{key:"copy",fn:function(e){return[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.copied?"复制成功":"复制")+"\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),i("el-form-item",{attrs:{label:"返回数据："}},[i("el-scrollbar",{staticStyle:{height:"calc(50vh - 60px)"},attrs:{"wrap-class":"default-scrollbar__wrap"}},[i("json-viewer",{staticClass:"send-data",attrs:{value:t.responseParam,copyable:t.copyable2,"expand-depth":4,boxed:"",sort:""},scopedSlots:t._u([{key:"copy",fn:function(e){return[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.copied?"复制成功":"复制")+"\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1)],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("0c56"),r=i("cf45");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={name:"queryCommand",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{formInfo:{},sendParam:{},responseParam:{},copyable:{copyText:"复制",copiedText:"复制成功"},copyable2:{copyText:"复制",copiedText:"复制成功"}}},watch:{visibles:{handler:function(t){t&&this.setData()},immediate:!0}},methods:{setData:function(){var t=this,e={token:this.data.token};Object(o["e"])(e).then((function(e){var i=e.data;0===i.code&&(t.formInfo=c({},i.data),t.sendParam=Object(r["e"])(i.data.sendParam)&&JSON.parse(i.data.sendParam),t.sendParam.cmd=Object(r["e"])(t.sendParam.cmd)&&JSON.parse(t.sendParam.cmd),t.responseParam=Object(r["e"])(i.data.responseParam)&&JSON.parse(i.data.responseParam))}))},closeDialog:function(){this.formInfo.responseParam="",this.formInfo.sendParam="",this.$emit("update:visibles",!1)},handlecancle:function(){this.closeDialog()}}},d=u,p=(i("df84"),i("2877")),h=Object(p["a"])(d,a,n,!1,null,"22832651",null);e["default"]=h.exports},e0b8:function(t,e,i){"use strict";var a=i("7726"),n=i("5ca1"),s=i("2aba"),o=i("dcbc"),r=i("67ab"),l=i("4a59"),c=i("f605"),u=i("d3f4"),d=i("79e5"),p=i("5cc5"),h=i("7f20"),f=i("5dbc");t.exports=function(t,e,i,m,b,g){var v=a[t],y=v,w=b?"set":"add",L=y&&y.prototype,k={},C=function(t){var e=L[t];s(L,t,"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof y&&(g||L.forEach&&!d((function(){(new y).entries().next()})))){var x=new y,T=x[w](g?{}:-0,1)!=x,S=d((function(){x.has(1)})),O=p((function(t){new y(t)})),N=!g&&d((function(){var t=new y,e=5;while(e--)t[w](e,e);return!t.has(-0)}));O||(y=e((function(e,i){c(e,y,t);var a=f(new v,e,y);return void 0!=i&&l(i,b,a[w],a),a})),y.prototype=L,L.constructor=y),(S||N)&&(C("delete"),C("has"),b&&C("get")),(N||T)&&C(w),g&&L.clear&&delete L.clear}else y=m.getConstructor(e,t,b,w),o(y.prototype,i),r.NEED=!0;return h(y,t),k[t]=y,n(n.G+n.W+n.F*(y!=v),k),g||m.setStrong(y,t,b),y}},e0e5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"navigationAllDivBox"},[i("div",{staticClass:"divTree divScroll"},t._l(t.treeData,(function(e,a){return i("div",{key:a,style:{minWidth:"160px",width:"160px"}},[i("div",{staticClass:"topTitle"},[t._v("\n          "+t._s(e.functionName)+"\n        ")]),i("el-tree",{ref:"tree",refInFor:!0,staticClass:"tree-line divScroll",staticStyle:{height:"calc(100vh - 223px)","margin-bottom":"20px","padding-bottom":"5px"},attrs:{data:[e],"node-key":"functionId","default-expand-all":!0,"expand-on-click-node":!0,props:t.defaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return i("span",{staticClass:"custom-tree-node"},[1===a.functionType?i("span",[i("span",[i("el-tag",{attrs:{type:"info",effect:"dark"},on:{click:function(e){return t.nodeClick(a)}}},[t._v("\n                  "+t._s(a.functionName)+"\n                ")])],1)]):i("span",[i("span",[t._v(t._s(a.functionName))])])])}}],null,!0)})],1)})),0)])])},n=[],s=i("cf45"),o=(i("5f87"),{name:"navigationAll",mixins:[],data:function(){return{treeData:[],loading:!1,defaultProps:{children:"children",label:"functionName"}}},watch:{},filters:{},computed:{},mounted:function(){this.treeData=JSON.parse(JSON.stringify(this.$store.getters.roles)),this.detNoItem(this.treeData)},methods:{detNoItem:function(t){if(Object(s["f"])(t))for(var e=t.length-1;e>=0;e--)0==t[e].isShow||0==t[e].isDisabled||2==t[e].functionType?t.splice(e,1):this.detNoItem(t[e].children)},nodeClick:function(t){1==t.functionType&&this.$router.push({name:t.url})}}}),r=o,l=(i("1fa9"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"2ca678c0",null);e["default"]=c.exports},e10c:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"登录账户："}},[i("el-input",{attrs:{placeholder:"请输入登录账户",clearable:""},model:{value:t.listQuery.loginName,callback:function(e){t.$set(t.listQuery,"loginName",e)},expression:"listQuery.loginName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"用户姓名："}},[i("el-input",{attrs:{placeholder:"请输入用户姓名",clearable:""},model:{value:t.listQuery.realName,callback:function(e){t.$set(t.listQuery,"realName",e)},expression:"listQuery.realName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"受控车辆："}},[i("el-input",{attrs:{placeholder:"请输入受控车辆",clearable:""},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作模块："}},[i("el-input",{attrs:{placeholder:"请输入操作模块",clearable:""},model:{value:t.listQuery.operateModule,callback:function(e){t.$set(t.listQuery,"operateModule",e)},expression:"listQuery.operateModule"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"分系统名称："}},[i("el-input",{attrs:{placeholder:"请输入分系统名称",clearable:""},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-filter":function(e){t.showfilter=!0},"click-export":t.hanleExport}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-detail":t.queryResult,"click-detailCommand":t.queryCommand,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["status"==e.item.prop?i("span",[i("el-tag",{attrs:{type:1==e.row.status?"success":0==e.row.status?"danger":2==e.row.status?"dark":"info",effect:"dark"}},[t._v("\n                "+t._s(1==e.row.status?"执行成功":0==e.row.status?"失败":2==e.row.status?"诊断中":"-")+"\n              ")])],1):"userName"===e.item.prop?i("span",[t._v("\n            "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n          ")]):i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1),i("dig-result",{attrs:{visibles:t.digResultVisible,digTitle:t.digTitle,digType:t.digType,vin:t.controlVin,data:t.tableRow,digServiceId:t.digServiceId,authouizeList:t.componentAuthouizeList},on:{"update:visibles":function(e){t.digResultVisible=e}}}),i("query-command",{attrs:{visibles:t.queryCommandVisible,data:t.tableRow},on:{"update:visibles":function(e){t.queryCommandVisible=e}}}),t.printVisible?i("print-report",{attrs:{visibles:t.printVisible,data:t.tableRow,digServiceId:t.digServiceId},on:{"update:visibles":function(e){t.printVisible=e}}}):t._e()],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("62ec"),u=i("e095"),d=i("0c56"),p=i("b2f9"),h=i("c037"),f={name:"digLog",mixins:[s["a"],o["a"],r["a"],p["a"],l["a"]],components:{digResult:c["default"],queryCommand:u["default"],PrintReport:h["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"export"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"detailCommand"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{printVisible:!1,listQuery:{startTime:"",endTime:"",vinNo:""},actionWidth:0,actionFixed:"",authouizeList:[],componentAuthouizeList:[],showfilter:!1,tableList:[{value:"登录账户",prop:"loginName",position:"center",checked:!0,fixed:"left",width:200},{value:"用户姓名",prop:"userName",position:"center",checked:!0,width:100},{value:"操作时间",prop:"operateTime",position:"center",checked:!0,width:140},{value:"受控车辆",prop:"vin",position:"center",checked:!0,width:180},{value:"操作模块",prop:"operateModule",position:"center",checked:!0,width:160},{value:"分系统/ECU名称",prop:"subSysName",position:"center",checked:!0,width:200},{value:"客户端ip",prop:"operateIp",position:"center",checked:!0,width:100},{value:"浏览器",prop:"operateBrowser",position:"center",checked:!0,width:100},{value:"任务状态",prop:"status",position:"center",checked:!0,width:100}],tableHeight:0,startDatePicker:this.beginDate(),endDatePicker:this.processDate(),cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{},digResultVisible:!1,digServiceId:"",digTitle:"",digType:"",controlVin:"",queryCommandVisible:!1}},mounted:function(){},methods:{hanleExport:function(){this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):Object(d["a"])(this.listQuery)},listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):(this.listLoading=!0,Object(d["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},rowClick:function(t){this.tableRow=t},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},beginDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.endTime?new Date(t.listQuery.endTime).getTime()<e.getTime():e.getTime()>Date.now()}}},processDate:function(){var t=this;return{disabledDate:function(e){return t.listQuery.startTime?new Date(t.listQuery.startTime).getTime()>e.getTime():e.getTime()>Date.now()}}},getstartTime:function(t){this.listQuery.startTime=t},getendTime:function(t){this.listQuery.endTime=t},handleAdd:function(){},addComplete:function(){this.listLoad()},handleUpdate:function(){},updateComplete:function(){},handleDelete:function(){},queryResult:function(t){this.tableRow=t,this.digServiceId=t.token;var e=t.operateModule,i="";switch(t.operateModule){case"一键读取整车故障":e="读取整车故障",i="1";break;case"一键清除整车故障":case"清除整车故障":e="清除整车故障",i="5";break;case"读取当前故障":i="2";break;case"读取历史故障":i="3";break;case"读取冻结帧":i="4";break;case"读取整车数据流":i="7";break;case"写入零部件":i="8";break;case"一键读取软件版本号":i="15";break;case"一键读取硬件版本号":i="16";break;case"输入输出控制":i="10";break;case"打印诊断报告":i="12",this.controlVin=t.vin;break}e+="结果",this.digTitle=e,this.digType=i,12==this.digType?this.printVisible=!0:this.digResultVisible=!0},queryCommand:function(t){this.tableRow=t,this.queryCommandVisible=!0}}},m=f,b=i("2877"),g=Object(b["a"])(m,a,n,!1,null,"7b5a9118",null);e["default"]=g.exports},e181:function(t,e,i){"use strict";var a=i("8059"),n=i.n(a);n.a},e1f0:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑车型":"新增车型",width:"40%",isOkButLoading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"82px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.changeCarType},model:{value:t.formInfo.carTypeId,callback:function(e){t.$set(t.formInfo,"carTypeId",e)},expression:"formInfo.carTypeId"}},t._l(t.carTypeList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.carTypeId,label:t.carTypeName}})})),1)],1),i("el-form-item",{attrs:{label:"车型配置：",prop:"configLevel"}},[i("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formInfo.configLevel,callback:function(e){t.$set(t.formInfo,"configLevel",e)},expression:"formInfo.configLevel"}},t._l(t.configLevelList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.configLevel,label:t.configLevelName}})})),1)],1),i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:18}},[i("el-form-item",{attrs:{label:"PDX文件：",prop:"fileName"}},[i("el-input",{attrs:{placeholder:"请上传PDX文件",clearable:"",disabled:""},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo-type",attrs:{headers:{Authorization:t.token},action:t.uploadUrl,"show-file-list":!1,data:t.formInfo,"auto-upload":!1,"on-progress":t.handleProgess,"on-error":t.handleError,"on-change":t.handleChange,"on-success":t.handleSuccess}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("选择文件")])],1)],1)],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("7514"),i("bd86")),o=i("5c83"),r=i("3ff2"),l=i("10aa"),c=i("f80b"),u=i("4360");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={name:"ButtonAddUpdateDialog",directives:{elDragDialog:o["a"]},mixins:[l["a"]],props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(t){t&&(this.setCarTypeName(),this.isEdit?(this.formInfo=p({},this.data),this.uploadUrl="/api/diagnosis/carType/updateSupportCarTypePdx",this.fileName=this.data.pdxFileName):(this.fileName="",this.uploadUrl="/api/diagnosis/carType/createCarTypePdx"))},immediate:!0}},computed:{token:function(){return u["a"].getters.token}},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.carTypeId)return a(new Error("请选择车型名称"))},i=function(e,i,a){if(!t.formInfo.configLevel)return a(new Error("请选择车型配置"))};return{formInfo:{carTypeId:"",configLevel:""},carTypeList:"",rules:{carTypeId:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],configLevel:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}]},configLevelList:[{configLevel:1,configLevelName:"低配"},{configLevel:2,configLevelName:"中配"},{configLevel:3,configLevelName:"高配"}],fileName:"",listLoading:!1,loading:!1,uploadUrl:"",fileFlag:!1,pdxVisble:!1}},methods:{setCarTypeName:function(){var t=this;Object(c["d"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},changeCarType:function(t){var e=this.carTypeList.find((function(e){return e.carTypeId===t}));this.formInfo.carTypeName=e.carTypeName},submitForm:function(){this.isEdit?this._updateSupportCarType():this._createSupportCarType()},_createSupportCarType:function(){var t=this,e=this.checkForm({formName:"formCenter",formList:["carTypeId","configLevel"]});e&&(this.loading=!0,this.fileFlag?this.$refs.upload.submit():Object(r["a"])(this.formInfo).then((function(e){var i=e.data;t.loading=!1,0===i.code&&(t.$emit("add-complete"),t.closeDialog())})).catch((function(){t.loading=!1})))},_updateSupportCarType:function(t){var e=this,i=this.checkForm({formName:"formCenter",formList:["carTypeId"]});if(i)if(this.loading=!0,this.fileFlag)this.$refs.upload.submit();else{var a={carTypeName:this.formInfo.carTypeName,carTypeId:this.formInfo.carTypeId,configLevel:this.formInfo.configLevel,id:this.formInfo.id,remark:this.formInfo.remark};Object(r["e"])(a).then((function(t){var i=t.data;e.loading=!1,0===i.code&&(e.$emit("update-complete"),e.closeDialog())})).catch((function(){e.loading=!1}))}},closeDialog:function(){this.fileName="",this.formInfo={},this.$emit("update:visibles",!1)},headleCancel:function(){this.closeDialog()},handleProgess:function(t){this.listLoading=!0},handleChange:function(t){t.name.indexOf(".pdx")>-1?(this.fileName=t.name,this.fileFlag=!0):(this.$alert("您选择的文件格式不正确！","提示",{confirmButton:"确定"}),this.$refs.upload.clearFiles())},handleError:function(t,e){this.listLoading=!1,this.loading=!1,this.$message.warning("系统繁忙，请稍后再试")},handleSuccess:function(t,e){this.loading=!1,0!=t.code&&this.$message.warning({message:t.message}),this.isEdit?this.$emit("update-complete"):this.$emit("add-complete"),this.closeDialog()}}},f=h,m=(i("6e2b"),i("2877")),b=Object(m["a"])(f,a,n,!1,null,"5e3c0f4a",null);e["default"]=b.exports},e265:function(t,e,i){t.exports=i("ed33")},e28f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择车辆",width:"65%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"70px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("vin-select",{attrs:{"is-vin":!0},model:{value:t.listQuery.vinNo,callback:function(e){t.$set(t.listQuery,"vinNo",e)},expression:"listQuery.vinNo"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称：",prop:"carTypeId"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"车辆列表",isShowTitle:!0,icon:"icon_carlist",data:t.rowVinno}}),i("app-table",{ref:"singleTable",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-150},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["isOnline"===e.item.prop?i("span",[i("el-tag",{attrs:{type:"0"===e.row.isOnline?"info":"1"===e.row.isOnline?"success":"info",effect:"dark"}},[t._v("\n                    "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n                  ")])],1):i("span",[t._v("\n              "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n            ")])]}}])})],1)],1)])},n=[],s=(i("ac6a"),i("fab6")),o=i("babb"),r=i("6d60"),l=i("f80b"),c={name:"SelectCarDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{switchText:function(t,e){if("isOnline"===e){var i="离线";return"1"===t&&(i="在线"),i}}},watch:{visibles:{handler:function(t){t&&(this.data.vinNo&&(this.rowVinno=this.data.vinNo,this.tablerow=this.data),this.listLoad(),this._getSupportCarTypeList())}}},data:function(){return{listQuery:{},tableList:[{value:"VIN码",prop:"vinNo",position:"center",checked:!0,width:160},{value:"是否在线",prop:"isOnline",position:"center",checked:!0,width:80},{value:"车型名称",prop:"carTypeCode",position:"center",checked:!0,width:120},{value:"项目代号",prop:"batchCode",position:"center",checked:!0,width:120}],total:0,list:[],listLoading:!1,rowVinno:"",tablerow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),carTypeList:"",batchList:""}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(l["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.vinNo==t.data.vinNo&&t.$refs.singleTable.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.rowVinno=t.row.vinNo,this.tablerow=t.row},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tablerow?(this.$emit("carVinno",this.tablerow),this.closeDialog()):this.$alert("请选中授权车辆","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.formInfo={},this.$emit("update:visibles",!1),this.rowVinno=""},_getSupportCarTypeList:function(){var t=this;Object(l["h"])().then((function(e){var i=e.data;0===i.code&&(t.carTypeList=i.data||[])}))},loadBatch:function(t){var e=this;this.listQuery.batchId&&(this.listQuery.batchId=""),Object(l["b"])({carTypeId:t}).then((function(t){var i=t.data;0===i.code&&(e.batchList=i.data)}))}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"4eefdb3c",null);e["default"]=p.exports},e2ee:function(t,e,i){"use strict";var a=i("3b18"),n=i.n(a);n.a},e382:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"65px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"登录账户："}},[i("el-input",{attrs:{placeholder:t.$t("login.userPlaceholderName"),clearable:""},model:{value:t.listQuery.loginName,callback:function(e){t.$set(t.listQuery,"loginName",e)},expression:"listQuery.loginName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"工作邮箱："}},[i("el-input",{attrs:{placeholder:"请输入工作邮箱",clearable:""},model:{value:t.listQuery.email,callback:function(e){t.$set(t.listQuery,"email",e)},expression:"listQuery.email"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"手机号码："}},[i("el-input",{attrs:{placeholder:"请输入手机号码",clearable:""},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"角色："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.roleId,callback:function(e){t.$set(t.listQuery,"roleId",e)},expression:"listQuery.roleId"}},t._l(t.roleNameList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.roleName,value:t.roleId}})})),1)],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{staticStyle:{visibility:"hidden"},attrs:{label:"占位符"}},[i("el-input")],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-filter":t.handleFilter,"click-collapse":t.handleCollapse,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,isShowOperation:!0},on:{"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["isDisabled"===e.item.prop?i("span",[i("el-switch",{on:{change:function(i){return t.switchChange(e.$index,e.row)}},model:{value:e.row.isDisabled,callback:function(i){t.$set(e.row,"isDisabled",i)},expression:"scope.row.isDisabled"}})],1):"isLocked"===e.item.prop?i("span",[i("el-switch",{on:{change:function(i){return t.lockedChange(e.$index,e.row)}},model:{value:e.row.isLocked,callback:function(i){t.$set(e.row,"isLocked",i)},expression:"scope.row.isLocked"}})],1):"userType"===e.item.prop?i("span",[t._v("\n            "+t._s(0===e.row[e.item.prop]?"内部账户":"外部账户")+"\n          ")]):"isAdmin"===e.item.prop?i("span",[t._v("\n            "+t._s(0===e.row[e.item.prop]?"普通用户":"超级管理员")+"\n          ")]):"loginName"===e.item.prop?i("span",[i("a",{staticClass:"vinNo",on:{click:function(i){return t.handleDetail(e.row)}}},[t._v(t._s(e.row[e.item.prop]?e.row[e.item.prop]:"-"))])]):i("span",[t._v("\n            "+t._s(e.row[e.item.prop]||(0===e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n          ")])]}},{key:"tableOperation",fn:function(e){return[i("div",{staticStyle:{"text-align":"left !important"}},t._l(t.tableAction,(function(a,n){return i("a",{key:n,on:{mouseenter:function(e){t.activeIndex=n},mouseleave:function(e){t.activeIndex=null}}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.functionName,disabled:t.activeIndex!=n,placement:"top"}},["setRole"==a.url&&1==e.row.isAdmin?i("span"):"setCar"==a.url&&1==e.row.isAdmin?i("span"):i("span",{staticClass:"card-action",on:{click:function(i){return t.authouizeButtonAction(e.row,a)}}},[i("i",{class:"iconfont icon-"+a.icon})])])],1)})),0)]}}])})],1),i("add-user",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},userComplete:t.userComplete}})],1)},n=[],s=(i("ac6a"),i("fab6")),o=i("6d60"),r=i("c1fb"),l=i("7829"),c=i("c0c7"),u=i("3528"),d=i("47a1"),p={name:"user",components:{AddUser:d["default"]},mixins:[s["a"],o["a"],r["a"],l["a"]],data:function(){return{activeIndex:null,listQuery:{email:"",mobile:"",roleId:""},showfilter:!1,tableList:[{value:"登录账户",prop:"loginName",width:125,checked:!0,fixed:"left",position:"center"},{value:"工作邮箱",prop:"email",width:140,checked:!0,position:"center"},{value:"手机号码",prop:"mobile",width:100,checked:!0,position:"center"},{value:"用户类型",prop:"userType",width:90,checked:!0,position:"center"},{value:"用户类别",prop:"isAdmin",width:100,checked:!0,position:"center"},{value:"所属角色",prop:"userRole",width:140,checked:!0,position:"center"},{value:"最近登录时间",prop:"lastLoginTime",width:140,checked:!0,position:"center"},{value:"用户状态",prop:"isDisabled",width:70,checked:!0,position:"center"},{value:"锁定状态",prop:"isLocked",width:70,checked:!0,position:"center"}],multipleSelection:[],authouizeList:[],tableHeight:0,total:0,list:[],listLoading:!1,roleNameList:[],isEdit:0,addUpdateVisible:!1,tableRow:{},isPut:!1,actionWidth:0,actionFixed:"right",MESVisible:!1,DBCVisible:!1}},watch:{},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"delete"===t.url||"update"===t.url||"resetPwd"===t.url||"setRole"===t.url||"setCar"===t.url||"MESAuthority"===t.url||"DBCParamAuth"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=40*t.length,this.actionFixed="right"):this.actionFixed="false",t},activeName:function(){return this.$store.state.theme.activeName}},mounted:function(){this.allRoleFc()},methods:{allRoleFc:function(){var t=this;Object(u["a"])().then((function(e){var i=e.data;0===i.code&&(t.roleNameList=i.data||[])})).catch((function(){}))},rowClick:function(t){if("admin"===t.loginName)return!1;var e=[];e.push(t),this.toggleSelection(e)},listLoad:function(){var t=this;this.list=[],this.listLoading=!0,Object(c["s"])(this.listQuery).then((function(e){var i=e.data;t.listLoading=!1,0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(t){t.isDisabled=1===t.isDisabled,t.isLocked=1===t.isLocked,t.userRole=t.userRoleList.length?t.userRoleList.map((function(t){return t.roleName})).join("、"):""})))})).catch((function(){t.listLoading=!1}))},authouizeButtonAction:function(t,e){switch(e.url){case"update":this.handleUpdate(t);break;case"delete":this.handleDelete(t);break;case"resetPwd":this.handleResetPwd(t);break;case"setRole":this.handleSetRole(t);break;case"setCar":this.handleSetCar(t);break;case"MESAuthority":this.handleMESAuthority(t);break;case"DBCParamAuth":this.handleDBCParamAuth(t);break;default:break}},handleDetail:function(t,e){window.event?window.event.cancelBubble=!0:e.stopPropagation(),this.tableRow=t,this.isEdit=4,this.addUpdateVisible=!0},handleAdd:function(){this.isEdit=0,this.addUpdateVisible=!0},handleMESAuthority:function(t){this.tableRow=t,this.MESVisible=!0},handleDBCParamAuth:function(t){this.tableRow=t,this.DBCVisible=!0},userComplete:function(){this.listLoad()},closeDrawer:function(){this.$emit("update:visibles",!1)},handleUpdate:function(t){console.log(11),this.tableRow=t,this.isEdit=1,this.addUpdateVisible=!0},handleDelete:function(t){var e=this;this.$confirm("删除此用户，会删除相关信息！","删除用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={userId:t.userId,loginName:e.$store.state.user.loginName};Object(c["e"])(i).then((function(t){var i=t.data;0===i.code&&(e.listLoad(),e.$message.success({message:"删除用户成功!",duration:2e3}))}))})).catch((function(){}))},handleResetPwd:function(t){var e=this;this.$confirm("确定要重置密码？","重置密码",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["x"])(t.userId).then((function(t){var i=t.data;0===i.code&&(e.listLoad(),e.$message.success({message:"重置密码成功!",duration:2e3}))}))})).catch((function(){}))},handleSetRole:function(t){this.tableRow=t,this.isEdit=2,this.addUpdateVisible=!0},handleSetCar:function(t){this.tableRow=t,this.isEdit=3,this.addUpdateVisible=!0},switchChange:function(t,e){var i=this;console.log("row",e),window.event?window.event.cancelBubble=!0:t.stopPropagation();var a=e.isDisabled;e.isDisabled=!e.isDisabled,a?this.$confirm("您确定要启用这个账户吗？","启用账户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i._isEnable(e),i.$message.success({message:"启用成功!"})})).catch((function(){})):this.$confirm("您确定要禁用这个账户吗？","禁用账户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("row",e),i._isDisable(e),i.$message.success({message:"禁用成功!"})})).catch((function(){}))},_isEnable:function(t){var e=this;Object(c["i"])(t).then((function(t){var i=t.data;0===i.code&&e.listLoad()}))},_isDisable:function(t){var e=this;Object(c["f"])(t).then((function(t){var i=t.data;0===i.code&&e.listLoad()}))},lockedChange:function(t,e){var i=this;console.log("row",e),window.event?window.event.cancelBubble=!0:t.stopPropagation();var a=e.isLocked;e.isLocked=!e.isLocked,a?this.$confirm("您确定要解除锁定该账户吗？","解锁账户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("row",e),i._isUnLocked(e),i.$message.success({message:"解锁成功!"})})).catch((function(){})):this.$confirm("您确定要锁定该账户吗？","锁定账户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i._isLocked(e),i.$message.success({message:"锁定成功!"})})).catch((function(){}))},_isLocked:function(t){var e=this;Object(c["w"])(t).then((function(t){var i=t.data;0===i.code&&e.listLoad()}))},_isUnLocked:function(t){var e=this;Object(c["C"])(t).then((function(t){var i=t.data;0===i.code&&e.listLoad()}))}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"7b9f9af8",null);e["default"]=m.exports},e6af:function(t,e,i){},e75f:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var a=i("b775");function n(t){return Object(a["a"])({url:"/emergencyBrush/getEmergencyBrushList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/emergencyBrush/createEmergencyBrush",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/emergencyBrush/deleteEmergencyBrush",method:"delete",data:t})}},e7d4:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("b775");function n(t){return Object(a["a"])({url:"/subsystemTemplate/getList",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"/subsystemTemplate/create",method:"POST",data:t})}function o(t){return Object(a["a"])({url:"/subsystemTemplate/update",method:"POST",data:t})}function r(t){return Object(a["a"])({url:"/subsystemTemplate/delete",method:"POST",data:t})}},e800:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"解决方案",width:"500px",isDrawerFoot:!1,wrapperClosable:!0},on:{"close-drawer":t.closeDialog}},[i("div",{attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("el-form",{ref:"formCenter",attrs:{model:t.formInfo,"label-position":"right","label-width":"70px"}},[i("el-form-item",{attrs:{label:"方案内容："}},[i("el-input",{attrs:{placeholder:"请输入方案内容",type:"textarea",maxlength:"50",rows:"4","show-word-limit":"",resize:"none",readonly:""},model:{value:t.result.solution,callback:function(e){t.$set(t.result,"solution",e)},expression:"result.solution"}})],1)],1)],1)])},n=[],s=i("d0a1"),o={name:"viewSolutionDialog",props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},vinNo:{type:String,default:""}},watch:{visibles:{handler:function(t){t&&(this.result="",this.content1=this.data.content||"",this._getFaultSolution(this.data))},immediate:!0}},data:function(){return{formInfo:{},result:{},content1:""}},methods:{_getFaultSolution:function(t){var e=this,i={faultCode:t.result,vinNo:this.vinNo,ecuName:t.ecuName};Object(s["i"])(i).then((function(t){var i=t.data;0===i.code&&(e.result=i.data)}))},closeDialog:function(){this.$emit("update:visibles",!1)}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"087e0651",null);e["default"]=c.exports},e85a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑安全库":"新增安全库",width:"40%",loading:t.loading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"form",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"100px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"选择ECU：",prop:"ecuNames"}},[i("el-input",{attrs:{readonly:"",clearable:"",placeholder:"选择ECU"},nativeOn:{click:function(e){return t.selectECU(e)}},model:{value:t.formInfo.ecuNames,callback:function(e){t.$set(t.formInfo,"ecuNames",e)},expression:"formInfo.ecuNames"}})],1),i("el-form-item",{attrs:{label:"安全库文件：",prop:"fileName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{data:t.formInfo,headers:{Authorization:t.token},action:"","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"http-request":t.uploadFile}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("上传文件")])],1)],1),i("el-col",{staticClass:"titleColor",attrs:{span:18}},[t._v("\r\n            "+t._s(t.formInfo.fileName)+"\r\n            ")])],1)],1),i("el-form-item",{attrs:{label:"备注："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1)],1)],1),i("app-ecu-list",{attrs:{visibles:t.ecuListVisible,state:1,data:t.ecuData},on:{"update:visibles":function(e){t.ecuListVisible=e},carECU:t.loadECU}})],1)},n=[],s=(i("7f7f"),i("5c83")),o=i("9123"),r=i("10aa"),l=i("d03d"),c=i("4360"),u={name:"ButtonAddUpdateDialog",directives:{elDragDialog:s["a"]},mixins:[r["a"]],components:{AppEcuList:l["default"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},computed:{token:function(){return c["a"].getters.token}},watch:{visibles:{handler:function(t){},immediate:!0}},data:function(){var t=this,e=function(e,i,a){if(!t.formInfo.ecuNames)return a(new Error("请选择ECU"))},i=function(e,i,a){if(!t.formInfo.fileName)return a(new Error("请上传文件"))};return{formInfo:{ecuId:"",ecuNames:"",fileName:"",remark:""},rules:{ecuNames:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}],fileName:[{required:!0,trigger:"blur",validator:i},{trigger:"change",validator:i}]},fileName:"",loading:!1,ecuListVisible:!1,ecuData:{}}},methods:{radioChange:function(t){this.formInfo.buttonPosition=t},closeDialog:function(){this.formInfo={ecuId:"",ecuNames:"",fileName:"",remark:""},this.ecuData={},this.$emit("update:visibles",!1)},selectECU:function(){this.ecuListVisible=!0},uploadFile:function(t){var e=this,i=t.file,a=new FormData;a.append("file",i),a.append("relationId",this.formInfo.ecuId),a.append("ecuNames",this.formInfo.ecuNames),a.append("fileName",this.formInfo.fileName),a.append("remark",this.formInfo.remark),a.append("type",1),this.loading=!0,Object(o["b"])(a).then((function(t){var i=t.data;e.loading=!1,0===i.code?(e.closeDialog(),e.$emit("add-complete")):e.$message.error({message:response.message,duration:2e3})})).catch((function(){e.loading=!1}))},submitForm:function(){var t=this.checkForm({formName:"form",formList:["ecuNames","fileName"]});t&&this.$refs.upload.submit()},handleChange:function(t){if(!(t.name.indexOf(".so")>-1))return this.$message.warning({message:"请上传后缀名为.so格式的文件！",duration:2e3}),this.$refs.upload.clearFiles(),void(this.formInfo.fileName="");this.formInfo.fileName=t.name},loadECU:function(t){this.formInfo.ecuNames=t.ecuName,this.formInfo.ecuId=t.id,this.ecuData=t}}},d=u,p=(i("088f"),i("2877")),h=Object(p["a"])(d,a,n,!1,null,"55f30fbf",null);e["default"]=h.exports},e8a6:function(t,e,i){t.exports=i.p+"assets/img/500.3d910463.png"},eca5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:t.isEdit?"编辑":"创建任务",width:"550px",isOkButLoading:t.listLoading,isDrawerFoot:!0},on:{"close-drawer":t.closeDialog,"ok-drawer":t.submitForm}},[i("el-form",{ref:"formCenter",attrs:{slot:"drawerContent",rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"100px"},slot:"drawerContent"},[i("el-form-item",{attrs:{label:"任务名称：",prop:"taskName"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入任务名称",maxlength:"20"},model:{value:t.formInfo.taskName,callback:function(e){t.$set(t.formInfo,"taskName",e)},expression:"formInfo.taskName"}})],1),i("el-form-item",{attrs:{label:"选择车辆：",prop:"vinNo"}},[i("el-input",{attrs:{placeholder:"点击进行选择车辆"},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.formInfo.vinNo,callback:function(e){t.$set(t.formInfo,"vinNo",e)},expression:"formInfo.vinNo"}})],1),i("el-form-item",{attrs:{label:"DBC文件：",prop:"dbcId"}},[i("el-input",{attrs:{placeholder:"点击进行选择DBC文件"},nativeOn:{click:function(e){return t.selectDBCFile(e)}},model:{value:t.formInfo.dbcName,callback:function(e){t.$set(t.formInfo,"dbcName",e)},expression:"formInfo.dbcName"}})],1),i("el-form-item",{attrs:{label:"选择服务：",prop:"sigNames"}},[i("el-input",{attrs:{placeholder:"点击进行选择服务"},nativeOn:{click:function(e){return t.selectDbcService(e)}},model:{value:t.formInfo.sigNames,callback:function(e){t.$set(t.formInfo,"sigNames",e)},expression:"formInfo.sigNames"}})],1),i("el-form-item",{attrs:{label:"抽样频率：",prop:"freq"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.freq,callback:function(e){t.$set(t.formInfo,"freq",e)},expression:"formInfo.freq"}},t._l(t.freqList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-form-item",{attrs:{label:"存储容量：",prop:"size"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formInfo.size,callback:function(e){t.$set(t.formInfo,"size",e)},expression:"formInfo.size"}},t._l(t.sizeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-form-item",{attrs:{label:"截止日期：",prop:"duration"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择","value-format":"yyyy-MM-dd HH:mm:ss",clearable:""},model:{value:t.formInfo.duration,callback:function(e){t.$set(t.formInfo,"duration",e)},expression:"formInfo.duration"}})],1),i("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"50",rows:"4","show-word-limit":"",resize:"none"},model:{value:t.formInfo.remark,callback:function(e){t.$set(t.formInfo,"remark",e)},expression:"formInfo.remark"}})],1),i("dbc-list-dialog",{attrs:{visibles:t.DBCListVisible,data:{fileName:t.formInfo.dbcName,id:t.formInfo.dbcId}},on:{"update:visibles":function(e){t.DBCListVisible=e},DBCId:t.loadDBCId}}),i("select-DBC-service-dialog",{attrs:{visibles:t.dbcServiceVisible,selectList1:t.selectList,dbcId:t.formInfo.dbcId},on:{"update:visibles":function(e){t.dbcServiceVisible=e},dbcService:t.loadDbcService}}),i("app-car-list",{attrs:{visibles:t.carListVisible,data:{vinNo:t.formInfo.vinNo}},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}})],1)],1)},n=[],s=(i("7f7f"),i("ac6a"),i("43d0")),o=i("d10c"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{staticClass:"ordinary",attrs:{visibles:t.visibles,title:"选择DBC文件",width:"70%",top:"8vh",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"DBC文件名称："}},[i("el-input",{attrs:{placeholder:"请输入DBC文件名称",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-message",{attrs:{title:"已选中DBC文件",isShowTitle:!0,icon:"icon_select_subsystem",data:t.fileName}}),i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-50},on:{"row-click":t.rowClick,"row-dblclick":t.rowDblClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)])},l=[],c=i("fab6"),u=i("babb"),d=i("6d60"),p=i("f668"),h={name:"dbcListDialog",doNotInit:!0,mixins:[c["a"],u["a"],d["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&(this.fileName=this.data.fileName,this.listLoad())}}},data:function(){return{listQuery:{name:""},tableList:[{value:"DBC文件名称",prop:"dbcName",position:"center",checked:!0,width:200,fixed:"left"},{value:"上传时间",prop:"createTime",position:"center",checked:!0,width:150},{value:"上传人",prop:"userId",position:"center",checked:!0,width:160},{value:"备注",prop:"remark",position:"center",checked:!0,width:160}],total:0,list:[],listLoading:!1,fileName:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,Object(p["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.list.forEach((function(e){e.id==t.data.id&&t.$refs.singleTable1.refTable().setCurrentRow(e)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){var e=t.row;this.fileName=e.fileName,this.tableRow=e},rowDblClick:function(t){this.handleConfirm()},handleConfirm:function(){null!==this.tableRow?(this.$emit("DBCId",this.tableRow),this.closeDialog()):this.$alert("请选中DBC文件","提示",{confirmButtonText:"确定"})},closeDialog:function(){this.$emit("update:visibles",!1)}}},f=h,m=i("2877"),b=Object(m["a"])(f,r,l,!1,null,"4fcae3da",null),g=b.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,title:"选择DBC服务",icon:"icon_car",width:"65%",top:"5%",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.handleConfirm}},[i("div",{staticClass:"box-list",attrs:{slot:"formContent"},slot:"formContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"85px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-message",{attrs:{title:"服务列表",isShowTitle:!0,icon:"icon_carlist",data:t.rowVinno}}),i("app-table",{ref:"multiTable",attrs:{slot:"table",rowKey:"id",isTableNumber:!0,isTableSelection:!0,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight-20},on:{"row-click":t.clickRow,select:t.rowSelect,"select-all":t.selectAll,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},y=[],w=(i("20d6"),i("75fc")),L=i("dee4"),k={name:"selectDBCServiceDialog",doNotInit:!0,mixins:[c["a"],u["a"],d["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},selectList1:{type:Array,default:function(){return[]}},dbcId:{type:String,default:""}},watch:{visibles:function(t){t&&(this.selectList=Object(w["a"])(this.selectList1),this.listLoad())}},data:function(){return{listQuery:{name:""},tableList:[{value:"服务名称",prop:"name",position:"center",checked:!0,width:300}],total:0,selectList:[],list:[],listLoading:!1,rowVinno:"",tablerow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),carTypeList:"",batchList:"",getRowKeys:function(t){return t.id}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.id=this.dbcId,Object(p["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.$nextTick((function(){t.rowVinno="已选中"+t.selectList.length+"个";for(var e=function(e){t.selectList.forEach((function(i){t.list[e].id===i.id&&t.$refs.multiTable.refTable().toggleRowSelection(t.list[e],!0)}))},i=0;i<t.list.length;i++)e(i)}))),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowSelect:function(t,e){var i=this.selectList.findIndex((function(t){return t.id===e.id}));i>-1?this.selectList.splice(i,1):this.selectList.push(e),this.changdu=t.length,this.rowVinno="已选中"+this.changdu+"个"},selectAll:function(t){var e=this;if(this.changdu>t.length)for(var i=function(t){var i=e.selectList.findIndex((function(i){return i.id===e.list[t].id}));i>-1&&e.selectList.splice(i,1)},a=0;a<this.list.length;a++)i(a);else for(var n=0;n<this.list.length;n++)this.selectList.push(this.list[n]);this.changdu=t.length,this.rowVinno="已选中"+this.changdu+"个",this.selectList=Object(L["b"])(Object(w["a"])(this.selectList),"id")},clickRow:function(t){var e=t.row,i=this.selectList.findIndex((function(t){return t.id===e.id}));i>-1?this.selectList.splice(i,1):this.selectList.push(e),this.changdu=this.selectList.length,this.rowVinno="已选中"+this.changdu+"个"},handleConfirm:function(){this.selectList!==[]?(this.$emit("dbcService",this.selectList),this.closeDialog()):this.$alert("请选中车辆","提示",{confirmButtonText:"确定"})},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.listQuery={pageNum:1,pageSize:10,name:""},this.rowVinno="",this.changdu=0,this.list=[],this.selectList=[],this.total=0,this.$refs.multiTable.refTable().clearSelection(),this.$emit("update:visibles",!1)}}},C=k,x=Object(m["a"])(C,v,y,!1,null,"15ac63b4",null),T=x.exports,S=i("530f"),O=i("10aa"),N=i("40aa"),I={name:"addUpdateDialog",mixins:[O["a"],N["a"]],components:{dbcListDialog:g,selectDBCServiceDialog:T,AppCarList:S["a"]},props:{visibles:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){return[]}}},watch:{visibles:{handler:function(){},immediate:!0}},data:function(){return{formInfo:{taskName:"",vinNo:"",dbcId:"",dbcName:"",sigNames:"",sigIds:"",freq:"",size:"",duration:"",realtime:1,remark:""},selectList:[],listLoading:!1,carListVisible:!1,DBCListVisible:!1,dbcServiceVisible:!1,sizeList:[{label:"5kb",value:5},{label:"10kb",value:10},{label:"50kb",value:50},{label:"1M",value:1024},{label:"5M",value:5120},{label:"10M",value:10240},{label:"15M",value:15360},{label:"20M",value:20480}],freqList:[{label:"100ms",value:100},{label:"200ms",value:200},{label:"500ms",value:500},{label:"1000ms",value:1e3},{label:"2000ms",value:2e3},{label:"5000ms",value:5e3}],rules:{taskName:[{required:!0,trigger:["blur","change"],tips:"请输入任务名称",validator:this.validInput,formObjName:"formInfo"}],vinNo:[{required:!0,trigger:["blur","change"],tips:"请输入车辆信息",vinno:!0,validator:this.validInput,formObjName:"formInfo"}],dbcId:[{required:!0,trigger:["blur","change"],tips:"请选择DBC文件",validator:this.validInput,formObjName:"formInfo"}],sigNames:[{required:!0,trigger:["blur","change"],tips:"请选择服务",validator:this.validInput,formObjName:"formInfo"}],freq:[{required:!0,trigger:["blur","change"],tips:"请选择抽样频率",validator:this.validInput,formObjName:"formInfo"}],size:[{required:!0,trigger:["blur","change"],tips:"请选择存储容量",validator:this.validInput,formObjName:"formInfo"}],duration:[{required:!0,trigger:["blur","change"],tips:"请选择截止日期",validator:this.validInput,formObjName:"formInfo"}],remark:[{trigger:["blur","change"],tips:"请输入备注",validator:this.validInput,formObjName:"formInfo"}]}}},methods:{selectCar:function(){this.carListVisible=!0},loadCarVinno:function(t){this.formInfo.vinNo=t.vinNo},selectDbcService:function(){this.formInfo.dbcId?this.dbcServiceVisible=!0:this.$message.warning({message:"请先选择DBC文件",duration:2e3})},loadDbcService:function(t){var e=[],i=[];t.forEach((function(t){e.push(t.name),i.push(t.id)})),this.formInfo.sigNames=e.join(","),this.formInfo.sigIds=i.join(","),this.selectList=t},selectDBCFile:function(){this.DBCListVisible=!0},loadDBCId:function(t){this.formInfo.dbcId=t.id,this.formInfo.dbcName=t.dbcName},closeDialog:function(){this.selectList=[],this.formInfo={taskName:"",vinNo:"",dbcId:"",dbcName:"",sigNames:"",sigIds:"",freq:"",size:"",duration:"",realtime:1,remark:""},this.$emit("update:visibles",!1)},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:1,vin:t.formInfo.vinNo};setTimeout((function(){Object(o["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){t.$emit("add-complete"),t.closeDialog(),i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},_buttonAdd:function(t){var e=this;this.listLoading=!0,this.formInfo.size=+this.formInfo.size,this.formInfo.realtime=1,Object(s["a"])(t).then((function(t){var i=t.data;e.listLoading=!1,405!==i.code?(e.$emit("add-complete"),e.closeDialog()):e.createSTask()})).catch((function(){e.listLoading=!1}))},_buttonUpdate:function(){},submitForm:function(){var t=this.checkForm({formName:"formCenter",formList:["taskName","vinNo","dbcId","sigNames","freq","size","duration"]});t&&(this.isEdit?this._buttonUpdate(this.formInfo):this._buttonAdd(this.formInfo))}}},D=I,j=(i("d5f5"),Object(m["a"])(D,a,n,!1,null,"2c18d970",null));e["default"]=j.exports},ecd5:function(t,e,i){},ed33:function(t,e,i){i("014b"),t.exports=i("584a").Object.getOwnPropertySymbols},ed7c:function(t,e,i){"use strict";function a(t){var e="",i=1024*t;e=i<102.4?i.toFixed(1)+"B":i<104857.6?(i/1024).toFixed(1)+"KB":i<107374182.4?(i/1048576).toFixed(1)+"MB":(i/1073741824).toFixed(1)+"GB";var a=e+"";return a}i.d(e,"a",(function(){return a}))},ed88:function(t,e,i){"use strict";var a=i("9c25"),n=i.n(a);n.a},edb1:function(t,e,i){},ee1f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"DBC服务详情",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"85px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"服务名称："}},[i("el-input",{attrs:{placeholder:"请输入服务名称",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap pt-md"},[i("app-table",{ref:"multiTable",attrs:{slot:"table",rowKey:"id",isTableNumber:!0,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("f668"),c={name:"dbcDetailDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},watch:{visibles:function(t){t&&this.listLoad()}},data:function(){return{listQuery:{name:""},tableList:[{value:"服务名称",prop:"name",position:"center",checked:!0,width:300}],total:0,list:[],listLoading:!1,tablerow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),carTypeList:"",batchList:"",getRowKeys:function(t){return t.id}}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.id=this.data.id,Object(l["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.listQuery={pageNum:1,pageSize:10,name:""},this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"70df9b63",null);e["default"]=p.exports},ef3c:function(t,e,i){"use strict";i.r(e);i("a481");var a,n,s={beforeCreate:function(){var t=this.$route,e=t.params,i=t.query,a=e.path;this.$router.replace({path:"/"+a,query:i})},render:function(t){return t()}},o=s,r=i("2877"),l=Object(r["a"])(o,a,n,!1,null,null,null);e["default"]=l.exports},ef4a:function(t,e,i){},efe2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-dialog",{attrs:{visibles:t.visibles,icon:"icon_import",title:"导入",width:"35%",loading:!1,isFooter:!0},on:{"close-dialog":t.closeDialog,"handle-submit":t.submitForm}},[i("div",{attrs:{slot:"formContent"},slot:"formContent"},[i("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formInfo,"label-position":"right","label-width":"50px"}},[i("el-form-item",{attrs:{label:"文件：",prop:"fileName"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{placeholder:"点击选择文件",clearable:""},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),i("el-col",{attrs:{span:2}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:{Authorization:t.token},action:"/api/diagnosis/securityLib/createSecurityLib","show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange,"on-success":t.handleSuccess,"on-error":t.handleError}},[i("el-button",{staticClass:"import-btn",attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("浏览")])],1)],1)],1)],1)],1)],1)])},n=[],s=(i("7f7f"),i("5c83")),o=i("10aa"),r=i("2228"),l=i("4360"),c={name:"ButtonAddUpdateDialog",directives:{elDragDialog:s["a"]},mixins:[o["a"]],props:{visibles:{type:Boolean,default:!1}},computed:{token:function(){return l["a"].getters.token}},watch:{visibles:{handler:function(t){this.fileName=""},immediate:!0}},data:function(){var t=this,e=function(e,i,a){if(!t.fileName)return a(new Error("请选择文件"))};return{formInfo:{},fileName:"",isError:!1,rules:{fileName:[{required:!0,trigger:"blur",validator:e},{trigger:"change",validator:e}]}}},methods:{closeDialog:function(){this.$emit("update:visibles",!1)},submitForm:function(){var t=this.checkForm({formName:"form",formList:["fileName"]});t&&(-1!==this.fileName.indexOf(".so")?this.isError?this.$message.warning({message:"请重新导入"}):this.$refs.upload.submit():this.$message.warning({message:"您选择的文件格式不正确！"}))},download:function(){Object(r["c"])()},handleChange:function(t){t.response&&t.response.code?this.isError=!0:(this.fileName=t.name,this.isError=!1)},handleSuccess:function(t,e){0===t.code?(this.$emit("upload-success",e),this.closeDialog()):this.$message.warning({message:t.message})},handleError:function(t,e){this.$message.warning("系统繁忙，请稍后再试")}}},u=c,d=(i("68a6"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"ebf797aa",null);e["default"]=p.exports},f134:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{gutter:40,type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-input",{attrs:{placeholder:"请输入车型名称",clearable:""},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"PDX文件名："}},[i("el-input",{attrs:{placeholder:"请输入PDX文件名",clearable:""},model:{value:t.listQuery.pdxFileName,callback:function(e){t.$set(t.listQuery,"pdxFileName",e)},expression:"listQuery.pdxFileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["carTypeName"===e.item.prop?i("span",{staticClass:"vinNo",on:{click:function(i){return t.fileDetail(e.row)}}},[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")]):"createdBy"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n\t\t\t\t")]):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t")]):"pdxFileName"===e.item.prop&&e.row[e.item.prop]?i("a",{staticClass:"vinNo",attrs:{href:"file/"+e.row["pdxFilePath"]}},[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop])+"\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}}),i("file-detail-dialog",{attrs:{visibles:t.fileVisible,data:t.tableRow},on:{"update:visibles":function(e){t.fileVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("3ff2"),u=i("e1f0"),d=i("f36a"),p={name:"supportCarType",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"],fileDetailDialog:d["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url||"detail"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{pdxFileName:"",carTypeName:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:140,fixed:"left"},{value:"车型配置",prop:"configLevel",position:"center",checked:!0,width:140},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:250},{value:"创建人",prop:"createdBy",position:"center",checked:!0,width:80},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140},{value:"备注",prop:"remark",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{},fileVisible:!1}},mounted:function(){},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){this.tableRow=t,this.isEdit=!0,this.addUpdateVisible=!0},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this,i={carTypeId:t.id,carTypeName:t.carTypeName};this.$confirm("是否删除".concat(t.carTypeName,"车型?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad()),e.tableRow={}}))})).catch((function(){}))},fileDetail:function(t){this.tableRow=t,this.fileVisible=!0}}},h=p,f=i("2877"),m=Object(f["a"])(h,a,n,!1,null,"6db41626",null);e["default"]=m.exports},f15b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"授权记录",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"请求授权类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.requestType,callback:function(e){t.$set(t.listQuery,"requestType",e)},expression:"listQuery.requestType"}},t._l(t.authTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"业务类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},t._l(t.businessTypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{label:"授权状态："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.state,callback:function(e){t.$set(t.listQuery,"state",e)},expression:"listQuery.state"}},t._l(t.authStateList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"开始时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:8}},[i("el-form-item",{attrs:{label:"结束时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[t._v("\n\t\t\tVIN码: "+t._s(t.data.vin)+"\n\t\t\t"),i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableNumber:!0,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["type"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.businessTypeList.find((function(t){return t.value===e.row[e.item.prop]}))&&t.businessTypeList.find((function(t){return t.value===e.row[e.item.prop]})).label||"-")+"\n\t\t\t\t\t")]):"requestType"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.authTypeList.find((function(t){return t.value===e.row[e.item.prop]}))&&t.authTypeList.find((function(t){return t.value===e.row[e.item.prop]})).label||"-")+"\n\t\t\t\t\t")]):"state"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.authStateList.find((function(t){return t.value===e.row[e.item.prop]}))&&t.authStateList.find((function(t){return t.value===e.row[e.item.prop]})).label||"-")+"\n\t\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("processData")(e.row[e.item.prop]))+"\n\t\t\t\t\t")])]}}])})],1)],1)])},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("5fd2"),c={name:"detailDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{vin:"",requestType:"",type:"",state:"",startTime:"",endTime:""},businessTypeList:[{label:"其他业务",value:0},{label:"应急刷写",value:1}],authTypeList:[{label:"车机",value:0},{label:"APP",value:1}],authStateList:[{label:"请求授权中",value:1},{label:"授权成功",value:2},{label:"拒绝授权",value:3}],tableList:[{value:"请求授权类型",prop:"requestType",position:"center",checked:!0,width:200},{value:"业务类型",prop:"type",position:"center",checked:!0,width:150},{value:"授权状态",prop:"state",position:"center",checked:!0,width:150},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:180}],total:0,list:[],listLoading:!1,tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.vin=this.data.vin,Object(l["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"704e02ba",null);e["default"]=p.exports},f188:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"65px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"工作邮箱："}},[i("el-input",{attrs:{placeholder:"请输入工作邮箱",clearable:""},model:{value:t.listQuery.email,callback:function(e){t.$set(t.listQuery,"email",e)},expression:"listQuery.email"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间","default-time":"00:00:00"},model:{value:t.listQuery.startTime,callback:function(e){t.$set(t.listQuery,"startTime",e)},expression:"listQuery.startTime"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"结束时间：",prop:"endTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间","default-time":"23:59:59"},model:{value:t.listQuery.endTime,callback:function(e){t.$set(t.listQuery,"endTime",e)},expression:"listQuery.endTime"}})],1)],1),i("el-col",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{span:6}},[i("el-form-item",{attrs:{label:"客户端IP："}},[i("el-input",{attrs:{filterable:"",clearable:"",placeholder:"请输入客户端IP"},model:{value:t.listQuery.ipAddress,callback:function(e){t.$set(t.listQuery,"ipAddress",e)},expression:"listQuery.ipAddress"}})],1)],1)],1),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"手机号："}},[i("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"登录结果："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.success,callback:function(e){t.$set(t.listQuery,"success",e)},expression:"listQuery.success"}},t._l(t.loginResult,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"用户类型："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.userType,callback:function(e){t.$set(t.listQuery,"userType",e)},expression:"listQuery.userType"}},t._l(t.commontData.usertypeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)],1)],1),i("app-search-button",{attrs:{slot:"bottom",isdisabled:t.listLoading},on:{"click-collapse":t.handleCollapse,"click-filter":t.handleFilter,"click-clear":t.handleClear},slot:"bottom"})],1),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{on:{"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["userType"==e.item.prop?i("span",[t._v("\n          "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n        ")]):"success"==e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"50px"},attrs:{type:1==e.row.success?"success":"danger",effect:"dark"}},[t._v("\n            "+t._s(1===e.row["success"]?"成功":"失败")+"\n          ")])],1):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1)],1)},n=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fab6"),r=i("6d60"),l=i("c1fb"),c=i("7829"),u=i("dee4"),d=i("2f62"),p=i("a457");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"loginLog",filters:{switchText:function(t,e){return"success"===e?0===t?"失败":" 成功":"userType"===e?0===t?"内部用户":" 外部用户":void 0}},mixins:[o["a"],r["a"],l["a"],c["a"]],data:function(){return{listQuery:{email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),ipAddress:"",success:"",userType:""},loginResult:[{label:"成功",value:1},{label:"失败",value:0}],showfilter:!1,listLoading:!1,authouizeList:[],tableHeight:0,total:0,list:[],tableRow:{},tableList:[{value:"工作邮箱",prop:"email",width:125,checked:!0,fixed:"left",position:"center"},{value:"手机号",prop:"mobile",width:100,checked:!0,position:"center"},{value:"登录时间",prop:"loginTime",position:"center",width:140,checked:!0},{value:"客户端IP",prop:"ipAddress",position:"center",width:100,checked:!0},{value:"客户端浏览器",prop:"explore",position:"center",width:160,checked:!0},{value:"登录结果",prop:"success",position:"center",checked:!0,width:80},{value:"用户类型",prop:"userType",position:"center",checked:!0,width:80}]}},watch:{},computed:f({filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},Object(d["c"])(["commontData"])),mounted:function(){},methods:{handleClear:function(){this.listQuery={pageNum:1,pageSize:10,email:"",mobile:"",startTime:Object(u["e"])(),endTime:Object(u["d"])(),ipAddress:"",success:"",userType:""},this.listLoad()},rowClick:function(t){var e=t.row;this.tableRow={},this.list.some((function(t,i){t.id===e.id&&(e.$index=i)})),this.tableRow=e},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},listLoad:function(){var t=this;this.listQuery.startTime&&this.listQuery.endTime?this.listQuery.startTime&&this.listQuery.endTime&&new Date(this.listQuery.startTime).getTime()>new Date(this.listQuery.endTime).getTime()?this.$message.warning({message:"开始时间不能大于结束时间",duration:2e3}):Object(u["c"])(this.listQuery.startTime,this.listQuery.endTime)>1?this.$message.warning({message:"只能查询一天之内的数据!",duration:2e3}):(this.listLoading=!0,this.list=[],Object(p["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total,t.tableRow={}),t.listLoading=!1})).catch((function(){t.listLoading=!1}))):this.$message.warning({message:"请输入所有查询时间!",duration:2e3})}}},b=m,g=i("2877"),v=Object(g["a"])(b,a,n,!1,null,"75e3b2f5",null);e["default"]=v.exports},f344:function(t,e,i){"use strict";i.d(e,"j",(function(){return n})),i.d(e,"l",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"h",(function(){return l})),i.d(e,"e",(function(){return c})),i.d(e,"b",(function(){return s})),i.d(e,"f",(function(){return u})),i.d(e,"a",(function(){return d})),i.d(e,"k",(function(){return p})),i.d(e,"d",(function(){return h})),i.d(e,"i",(function(){return f})),i.d(e,"c",(function(){return m}));var a=i("b775");function n(t){return Object(a["a"])({url:"/onlineDiagonsisReport/getDiagonsisList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/onlineDiagonsisReport/exportDiagonsis",method:"post",responseType:"arraybuffer",data:t})}function o(t){return Object(a["a"])({url:"/failureReason/getSystemList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/failureReason/getCarModelList",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/failureReason/getErrorList",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/failureReason/exportError",method:"post",responseType:"arraybuffer",data:t})}function u(t){return Object(a["a"])({url:"/vehicleTypeDiagnosis/getCarModelList",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/vehicleTypeDiagnosis/exportCarModel",method:"post",responseType:"arraybuffer",data:t})}function p(t){return Object(a["a"])({url:"/VehicleOnlineDiagnosis/getOnlineCarList",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/VehicleOnlineDiagnosis/exportOnlineCar",method:"post",responseType:"arraybuffer",data:t})}function f(t){return Object(a["a"])({url:"/faultRate/getFaultRateList",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/report/exportFaultRate",method:"post",responseType:"arraybuffer",data:t})}},f36a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-drawer",{attrs:{visibles:t.visibles,title:"任务详情列表",width:"73%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"60px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"文件名："}},[i("el-input",{attrs:{placeholder:"请输入文件名",clearable:"",maxlength:"20"},model:{value:t.listQuery.odxFileName,callback:function(e){t.$set(t.listQuery,"odxFileName",e)},expression:"listQuery.odxFileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,tableHeights:t.tableHeight,total:t.total,buttonList:t.buttonList,isShowOperation:!0},on:{"click-download":t.handleClick,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["state"===e.item.prop?i("span",[i("el-tag",{staticStyle:{width:"50px"},attrs:{type:0===e.row.state?"danger":1===e.row.state?"success":"info",effect:"dark"}},[t._v("\r\n                "+t._s(t._f("switchText")(e.row[e.item.prop]))+"\r\n              ")])],1):i("span",[t._v("\r\n                "+t._s(t._f("processData")(e.row[e.item.prop]))+"\r\n            ")])]}}])})],1)])],1)},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("3ff2"),c={name:"filedetaildialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{switchText:function(t){return 0===t?"失败":1===t?"成功":"-"}},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{carTypeId:"",odxFileName:""},tableList:[{value:"文件名称",prop:"odxFileName",position:"center",checked:!0,width:180},{value:"状态",prop:"state",position:"center",checked:!0,width:70},{value:"失败原因",prop:"message",position:"center",checked:!0,width:140},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],total:0,list:[],listLoading:!1,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),rowECUName:"",tablerow:null,queryResultVisible:!1,subTaskId:"",buttonList:[{functionName:"下载",functionNameEn:"下载",functionType:2,url:"download",icon:"export",isShow:1,iconType:2}]}},mounted:function(){},methods:{listLoad:function(){var t=this;this.visibles&&(this.listLoading=!0,console.log(this.data),this.listQuery.carTypeId=this.data.id,Object(l["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1})))},closeDialog:function(){this.listQuery.carTypeId="",this.listQuery.odxFileName="",this.listQuery.pageNum=1,this.$emit("update:visibles",!1)},handleClick:function(t){console.log(t),window.location.href="file/"+t.odxFilePath}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"5fc1bed6",null);e["default"]=p.exports},f523:function(t,e,i){t.exports=i.p+"assets/img/400.0eed54f1.png"},f5c4:function(t,e,i){},f5db:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form",{ref:"formLeft",attrs:{"label-position":"right",model:t.listQuery,rules:t.rules,"label-width":"82px"}},[i("el-form-item",{attrs:{label:"选择车辆：",prop:"vin"}},[i("el-input",{attrs:{readonly:"",placeholder:"点击进行选择车辆"},nativeOn:{click:function(e){return t.selectCar(e)}},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"选择分系统："}},[i("el-input",{attrs:{readonly:"",placeholder:"点击进行选择分系统"},nativeOn:{click:function(e){return t.selectSubSystem(e)}},model:{value:t.listQuery.subSystemName,callback:function(e){t.$set(t.listQuery,"subSystemName",e)},expression:"listQuery.subSystemName"}})],1)],1)],1),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"data-road"},[i("span",{staticClass:"active-msg",style:{color:t.isDisabledReadButton?"red":"gold"}},[t._v(t._s(t.activeMessage))])])])],1)],1)]),i("app-command-btn",{attrs:{slot:"footer",buttonList:t.buttonList},on:{"click-filter":t.handleFilter},slot:"footer"}),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,buttonList:t.buttonList,isShowOperation:!0},on:{"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return[t._v("\n      "+t._s(e.row[e.item.prop])+"\n    ")]}}])}),i("app-car-list",{attrs:{visibles:t.carListVisible},on:{"update:visibles":function(e){t.carListVisible=e},carVinno:t.loadCarVinno}}),i("sub-system-select",{attrs:{visibles:t.subSystemSelectVisible,carTypeId:t.carTypeId},on:{"update:visibles":function(e){t.subSystemSelectVisible=e},setSubSystemName:t.setSubSystemName}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("10aa"),l=i("babb"),c=i("1ad5"),u=i("d0a1"),d=i("f80b"),p=i("530f"),h=i("95c0"),f=i("cf45"),m={name:"readCarStream",mixins:[s["a"],o["a"],r["a"],l["a"],c["a"]],components:{AppCarList:p["a"],SubSystemSelect:h["a"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},data:function(){var t=this,e=function(e,i,a){if(!t.listQuery.vin)return a(new Error("请点击选择车辆"))};return{timer:null,listQuery:{vin:"",ecuClassId:""},authouizeList:[],showfilter:!1,tableList:[{value:"读取时间",prop:"st",position:"center",checked:!0,fixed:"left"},{value:"ECU名称",prop:"ecu",position:"center",checked:!0},{value:"读取内容",prop:"readcontent",position:"center",checked:!0},{value:"读取结果",prop:"result",position:"center",checked:!0},{value:"原始数据流",prop:"rawdata",position:"center",checked:!0},{value:"失败描述",prop:"nrcdes",position:"center",checked:!0}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,carListVisible:!1,subSystemSelectVisible:!1,tableRow:{},isOpen:!1,isDisabledReadButton:!0,rules:{vin:[{required:!0,trigger:"change",validator:e}]},activeMessage:"",websocketSendFinish:!1,carTypeId:"",buttonList:[{icon:"icon_read_stream",buttonName:"执行整车读取",buttonEvent:"filter"}]}},mounted:function(){var t=this,e=this.getOtherHeight(),i=this;this.$nextTick((function(){t.tableHeight=window.innerHeight-e})),window.onresize=function(){var t=i.getOtherHeight();i.$nextTick((function(){i.tableHeight=window.innerHeight-t}))}},methods:{handleExport:function(){0!==this.list.length?Object(d["a"])(this.getExportData("读取整车数据流结果",this.tableList,this.list)):this.$alert("暂无结果可导出","提示",{confirmButtonText:"确定"})},listLoad:function(){},rowClick:function(t){this.$refs.table.toggleRowSelection(t),this.list.some((function(e,i){e.buttonId===t.buttonId&&(t.$index=i)})),this.tableRow=t},selectCar:function(){this.carListVisible=!0},loadCarVinno:function(t){this.listQuery.vin=t.vinNo,this.carTypeId=t.carTypeId},handleFilter:function(){var t=this,e=this.checkForm({formName:"formLeft",formList:["vin"]});if(e){this.list=[];var i=Object(f["c"])(),a={vin:this.listQuery.vin,ecuClassId:this.listQuery.ecuClassId,token:i};this.activeMessage="正在下发命令...",this.listLoading=!0,Object(u["r"])(a).then((function(e){var i=e.data;console.log("执行成功"),0===i.code?(t.activeMessage="命令下发成功，等待结果上报……",t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout((function(){t.activeMessage="等待结果已超时",t.listLoading=!1}),12e4)):0!==i.code&&(t.activeMessage="",t.listLoading=!1)})).catch((function(e){t.activeMessage="",t.listLoading=!1}))}},selectSubSystem:function(){""!==this.listQuery.vin?this.subSystemSelectVisible=!0:this.$alert("请先选择车辆","提示",{confirmButtonText:"确定"})},setSubSystemName:function(t){this.listQuery.subSystemName=t.subSystemName,this.listQuery.ecuClassId=t.id}}},b=m,g=(i("79d5"),i("2877")),v=Object(g["a"])(b,a,n,!1,null,"0c477ca4",null);e["default"]=v.exports},f668:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"e",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return o}));var a=i("b775");function n(t){return Object(a["a"])({url:"/TbusLog/getDbcFileList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/TbusLog/getDbcFileInfo",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/TbusLog/getTbusTaskSig",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/TbusLog/parseFile",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/TbusLog/deleteFile",method:"delete",data:t})}},f7a9:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"75px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"VIN码："}},[i("el-input",{attrs:{placeholder:"请输入VIN码",clearable:"",maxlength:"20"},model:{value:t.listQuery.vin,callback:function(e){t.$set(t.listQuery,"vin",e)},expression:"listQuery.vin"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeName,callback:function(e){t.$set(t.listQuery,"carTypeName",e)},expression:"listQuery.carTypeName"}},t._l(t.carTypeNameList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"下发状态："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"下发状态"},model:{value:t.listQuery.uploadStatus,callback:function(e){t.$set(t.listQuery,"uploadStatus",e)},expression:"listQuery.uploadStatus"}},t._l(t.uploadStatusList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.text,value:t.value}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-update":t.handUploadLog,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-import":t.handleClick,"click-fullDataAnalysisBtn":t.handleFullDataAnalysisBtn,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["uploadStatus"==e.item.prop?i("span",[i("el-tag",{attrs:{type:"0"==e.row.uploadStatus?"success":"1"==e.row.uploadStatus?"":"2"==e.row.uploadStatus?"success":"3"==e.row.uploadStatus?"danger":"info",effect:"dark"}},[t._v("\n              "+t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop))+"\n            ")])],1):"uploadedBy"===e.item.prop?i("span",[t._v("\n              "+t._s(e.row[e.item.prop]?e.row[e.item.prop].split("@")[0]:"-")+"\n          ")]):i("span",[t._v("\n            "+t._s(t._f("processData")(e.row[e.item.prop])))])]}}])})],1),i("log-dialog",{attrs:{visibles:t.uploadlogvisible},on:{"update:visibles":function(e){t.uploadlogvisible=e}}}),i("full-data-analysis-drawer",{attrs:{visibles:t.fullDataAnalysisVisible,data:t.tableRow},on:{"update:visibles":function(e){t.fullDataAnalysisVisible=e}}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("571f"),u=i("d10c"),d=i("8154"),p=i("a818"),h={name:"tboxLog",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{logDialog:d["default"],fullDataAnalysisDrawer:p["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"update"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"import"===t.url||"fullDataAnalysisBtn"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{switchText:function(t,e){return"uploadStatus"===e?0==t?"初始":1==t?"下发中":2==t?"下发成功":3==t?"下发失败":"-":t||(0===t?t:"-")}},watch:{},data:function(){return{listQuery:{},fullDataAnalysisVisible:!1,authouizeList:[],showfilter:!1,uploadStatusList:[{text:"初始",value:"0"},{text:"下发中",value:"1"},{text:"下发成功",value:"2"},{text:"下发失败",value:"3"}],tableList:[{value:"VIN码",prop:"vin",position:"center",checked:!0,width:160,fixed:"left"},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:100},{value:"下发状态",prop:"uploadStatus",position:"center",checked:!0,width:140},{value:"下发时间",prop:"uploadTime",position:"center",checked:!0,width:140},{value:"创建人",prop:"uploadedBy",position:"center",checked:!0,width:80},{value:"备注",prop:"uploadNote",position:"center",checked:!0,width:140}],carTypeNameList:[],tableHeight:0,total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{},uploadlogvisible:!1,actionWidth:0,actionFixed:"right"}},mounted:function(){this.getcarTypeNameList()},methods:{handleFullDataAnalysisBtn:function(t){t&&(this.tableRow=t),this.fullDataAnalysisVisible=!0},getcarTypeNameList:function(){var t=this;Object(c["a"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.carTypeNameList=i.data)}))},listLoad:function(){var t=this;this.listLoading=!0,Object(c["b"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},createSTask:function(){var t=this;this.$confirm("当前车辆未授权，是否请求授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(e,i,a){if("confirm"===e){i.confirmButtonLoading=!0;var n={type:0,vin:t.tableRow.vin};setTimeout((function(){Object(u["a"])(n).then((function(e){var i=e.data;0===i.code&&(t.$message.success({message:"请求成功",duration:2e3}),a())})).finally((function(){i.confirmButtonLoading=!1}))}),2e3)}else a()}}).finally((function(){}))},handleClick:function(t){var e=this;t&&(this.tableRow=t);var i={vin:t.vin};this.listLoading=!0,Object(c["d"])(i).then((function(t){var i=t.data;405===i.code&&e.createSTask(),0===i.code&&(e.listLoad(),e.$message.success({message:"上传命令下发成功"})),e.listLoading=!1}))},handUploadLog:function(){this.uploadlogvisible=!0}}},f=h,m=i("2877"),b=Object(m["a"])(f,a,n,!1,null,"c007d4ec",null);e["default"]=b.exports},f7c8:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"90px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"所属ECU名称："}},[i("el-input",{attrs:{placeholder:"请输入ECU名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.ecuName,callback:function(e){t.$set(t.listQuery,"ecuName",e)},expression:"listQuery.ecuName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"车型名称："}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.listQuery.carTypeId,callback:function(e){t.$set(t.listQuery,"carTypeId",e)},expression:"listQuery.carTypeId"}},t._l(t.carmodellist,(function(t,e){return i("el-option",{key:e,attrs:{label:t.carTypeName,value:t.carTypeId}})})),1)],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList,"scroll-line":8},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-delete":t.handleDelete,"click-update":t.handleUpdate,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["state"===e.item.prop?i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop])))]):"progress"===e.item.prop?i("span",[i("el-progress",{attrs:{percentage:t._f("getProcess")(e.row[e.item.prop])}})],1):"configLevel"===e.item.prop?i("span",[t._v("\n\t\t\t\t\t"+t._s(1==e.row[e.item.prop]?"低配":2==e.row[e.item.prop]?"中配":3==e.row[e.item.prop]?"高配":"-")+"\n\t\t\t\t")]):i("span",[t._v("\n\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n\t\t\t\t")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}}),i("sub-system-select",{attrs:{visibles:t.subSystemSelectVisible},on:{"update:visibles":function(e){t.subSystemSelectVisible=e},setSubSystemName:t.setSubSystemName}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("140c"),u=i("f80b"),d=i("d590"),p=i("95c0"),h={name:"odx",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:d["default"],SubSystemSelect:p["a"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"detail"===t.url||"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{},watch:{},data:function(){return{listQuery:{subSystemName:"",ecuClassId:"",carTypeId:"",ecuName:""},carmodellist:[],actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"ODX文件名",prop:"odxName",position:"center",checked:!0,width:300,fixed:"left"},{value:"车型名称",prop:"carTypeName",position:"center",checked:!0,width:100},{value:"配置级别",prop:"configLevel",position:"center",checked:!0,width:100},{value:"PDX文件名",prop:"pdxFileName",position:"center",checked:!0,width:180},{value:"所属ECU名称",prop:"ecuName",position:"center",checked:!0,width:120},{value:"波特率",prop:"baudrate",position:"center",checked:!0,width:100},{value:"发送地址",prop:"sendAddress",position:"center",checked:!0,width:100},{value:"接收地址",prop:"responseAddress",position:"center",checked:!0,width:100},{value:"版本号",prop:"version",position:"center",checked:!0,width:60},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],subSystemSelectVisible:!1,listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){var t=this;Object(u["h"])().then((function(e){var i=e.data;0==i.code&&(t.carmodellist=i.data||[])}))},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,Object(c["d"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},handleClick:function(t){this.addUpdateVisible=!0,this.isEdit=!0,this.tableRow=t},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){t&&(this.tableRow=t),this.isEdit=!0,this.addUpdateVisible=!0},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this;this.tableRow=t;var i={ecuId:this.tableRow.id,ecuName:this.tableRow.ecuName};this.$confirm("是否删除所属ECU名称为".concat(this.tableRow.ecuName,"的文件?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))},selectSubSystem:function(){this.subSystemSelectVisible=!0},setSubSystemName:function(t){this.listQuery.subSystemName=t.subSystemName,this.listQuery.ecuClassId=t.id}}},f=h,m=i("2877"),b=Object(m["a"])(f,a,n,!1,null,"5004b06c",null);e["default"]=b.exports},f80b:function(t,e,i){"use strict";i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return r})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return d}));var a=i("b775");function n(t){return Object(a["a"])({url:"common/getEcuList",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"subsystem/getSubSystemEcuList",method:"POST",data:t})}function o(){return Object(a["a"])({url:"common/getCarTypeList",method:"get"})}function r(){return Object(a["a"])({url:"common/getSupportCarTypeList",method:"get"})}function l(t){return Object(a["a"])({url:"common/getSubSystemList",method:"post",data:t})}function c(t){return Object(a["a"])({url:"common/exportExcel",method:"post",responseType:"arraybuffer",data:t})}function u(t){return Object(a["a"])({url:"/common/getBachCodeList",method:"get",params:t})}function d(t){return Object(a["a"])({url:"common/getCurrentUserCarList",method:"POST",data:t})}},f86c:function(t,e,i){},f8b0:function(t,e,i){t.exports=i.p+"assets/img/default_finish.25e7073e.png"},f8c1:function(t,e,i){"use strict";var a=i("4b14"),n=i.n(a);n.a},f9a7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-drawer",{attrs:{visibles:t.visibles,title:"查看TBUS日志文件",width:"70%",wrapperClosable:!0,isDrawerFoot:!1},on:{"close-drawer":t.closeDialog}},[i("div",{staticClass:"box-list",attrs:{slot:"drawerContent"},slot:"drawerContent"},[i("app-search",{staticStyle:{border:"none"},attrs:{"show-title":!1,"custom-class":"custom-search"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:8}},[i("el-form",{attrs:{"label-position":"right",model:t.listQuery,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"文件名称："}},[i("el-input",{attrs:{placeholder:"请输入文件名称",clearable:""},model:{value:t.listQuery.fileName,callback:function(e){t.$set(t.listQuery,"fileName",e)},expression:"listQuery.fileName"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap pt-md"},[i("app-table",{ref:"singleTable1",attrs:{slot:"table",rowKey:"id",isTableNumber:!0,isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,isShowOperation:!1,tableHeights:t.tableHeight},on:{"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["fileName"==e.item.prop?i("span",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载文件",placement:"top"}},[i("a",{staticClass:"vinNo",attrs:{href:"file/"+e.row["filePath"]}},[t._v(t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])])],1):i("span",[t._v("\n\t\t\t\t\t\t"+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-")))])]}}])})],1)],1)])},n=[],s=i("fab6"),o=i("babb"),r=i("9190"),l=i("43d0"),c={name:"detailDialog",doNotInit:!0,mixins:[s["a"],o["a"],r["a"]],computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))}},props:{visibles:{type:Boolean,default:!1},data:{type:Object,default:{}}},filters:{},watch:{visibles:{handler:function(t){t&&this.listLoad()}}},data:function(){return{listQuery:{fileName:""},tableList:[{value:"VIN",prop:"vinNo",position:"center",checked:!0,width:160},{value:"DBC文件",prop:"dbcName",position:"center",checked:!0,width:250},{value:"文件名称",prop:"fileName",position:"center",checked:!0,width:300},{value:"上传时间",prop:"receiveTime",position:"center",checked:!0,width:200}],total:0,list:[],listLoading:!1,name:"",tableRow:null,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle()}},mounted:function(){},methods:{listLoad:function(){var t=this;this.listLoading=!0,this.listQuery.token=this.data.token,Object(l["e"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleCancel:function(){this.closeDialog()},closeDialog:function(){this.listQuery.fileName="",this.$emit("update:visibles",!1)}}},u=c,d=i("2877"),p=Object(d["a"])(u,a,n,!1,null,"373c5c5a",null);e["default"]=p.exports},fa06:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}));var a=i("b775");function n(t){return Object(a["a"])({url:"/securityLib/getUpgradePackageList",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/securityLib/deleteSecurityLib",method:"delete",data:t})}},fa3e:function(t,e,i){},fab6:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("20d6"),i("ac6a"),i("28a5"),i("a481");var a={data:function(){return{listQuery:{pageNum:1,pageSize:10},listQuerys:{},collapse:!1}},created:function(){this.$options.doNotInit||this.listLoad()},computed:{},methods:{putOn:function(t){var e=this;this.isPut=t,this.$nextTick((function(){e.minBoxHeight=document.body.clientHeight-document.querySelector(".search_list").offsetHeight-document.querySelector(".app-header").offsetHeight-document.querySelector(".tags-view-container").offsetHeight-48}))},handleFilter:function(){this.listQuery.pageNum=1,this.listQuery.orderfield&&(this.listQuery.orderfield=""),this.listLoad()},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.listLoad()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.listLoad()},handleClear:function(){for(var t in this.listQuery)"pageNum"!==t&&"pageSize"!==t&&(this.listQuery[t]="");this.total&&(this.total=0),this.list&&(this.list=[]),this.listQuerys={},this.listQuery.pageNum=1,this.listLoad()},handleCollapse:function(t){this.collapse=t},sortChange:function(t){var e=t.order;null!==e&&(this.listQuery.pageNum=1,this.listQuery.orderField=t.prop,this.listQuery.direction=e.replace(/ending/,""),this.listLoad())},setOrderField:function(t,e){var i=this;if(t){var a=t.split(",");a.forEach((function(t){var a=e.findIndex((function(e){return e.prop===t}));a>-1&&i.$set(e[a],"sortable","custom")}))}},rowClick:function(t){var e=[];e.push(t),this.toggleSelection(e)},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.table.toggleRowSelection(t)})):this.$refs.table.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}}}},fde5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-404"},[a("el-row",{staticClass:"app-404-center",attrs:{gutter:10,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:24}},[a("img",{staticStyle:{height:"30vh"},attrs:{src:i("c04e")("./"+t.$store.state.theme.activeName+"/400.png"),alt:""}})]),a("el-col",{staticClass:"textButton",attrs:{span:24}},[a("p",{staticStyle:{"font-size":"20px!important",margin:"15px auto",color:"#000"}},[t._v("\n        "+t._s(t.$t("notFound.error"))+"\n      ")])]),a("el-col",{staticClass:"textButton",attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:t.toHome}},[t._v("\n          "+t._s(t.$t("notFound.backHome"))+"\n      ")])],1)],1)],1)},n=[],s={name:"Page404",created:function(){this.$store.dispatch("delAllViews")},methods:{toHome:function(){this.$router.push({path:"/home"})}}},o=s,r=(i("0ceb"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"1a565744",null);e["default"]=l.exports},ffcb:function(t,e,i){"use strict";var a=i("05d7"),n=i.n(a);n.a},ffe2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-system-user app-container"},[i("app-search",[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{attrs:{model:t.listQuery,"label-width":"80px"}},[i("el-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"状态码名称："}},[i("el-input",{attrs:{placeholder:"请输入状态码名称",clearable:"",maxlength:"20"},model:{value:t.listQuery.codeName,callback:function(e){t.$set(t.listQuery,"codeName",e)},expression:"listQuery.codeName"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"状态码："}},[i("el-input",{attrs:{placeholder:"请输入状态码",clearable:"",maxlength:"20"},model:{value:t.listQuery.errorCode,callback:function(e){t.$set(t.listQuery,"errorCode",e)},expression:"listQuery.errorCode"}})],1)],1)],1)],1)],1),i("div",{attrs:{slot:"bottom"},slot:"bottom"},[i("app-search-button",{attrs:{isCollapse:!1},on:{"click-filter":t.handleFilter,"click-clear":t.handleClear}})],1)]),i("div",{staticClass:"section-wrap",style:{"min-height":t.minBoxHeight+"px"}},[i("app-authorize-button",{attrs:{data:t.authouize},on:{"click-add":t.handleAdd,"click-filter":function(e){t.showfilter=!0}}},[i("checked-Filter",{attrs:{slot:"check-filter",show:t.showfilter,list:t.tableList},on:{"update:show":function(e){t.showfilter=e}},slot:"check-filter"})],1),i("app-table",{attrs:{slot:"table",isTableSelection:!1,list:t.list,listLoading:t.listLoading,filterTableList:t.filterTableList,pageObj:t.listQuery,total:t.total,actionWidth:t.actionWidth,actionFixed:t.actionFixed,buttonList:t.tableAction,isShowOperation:!0},on:{"click-update":t.handleUpdate,"click-delete":t.handleDelete,"row-click":t.rowClick,"handle-selection-change":t.handleSelectionChange,"sort-change":t.sortChange,"handle-size-change":t.handleSizeChange,"handle-current-change":t.handleCurrentChange},slot:"table",scopedSlots:t._u([{key:"tableContent",fn:function(e){return["codeType"==e.item.prop?i("span",[t._v(t._s(t._f("switchText")(e.row[e.item.prop],e.item.prop)))]):i("span",[t._v("\n          "+t._s(e.row[e.item.prop]||("0"==e.row[e.item.prop]?e.row[e.item.prop]:"-"))+"\n        ")])]}}])})],1),i("add-update-dialog",{attrs:{visibles:t.addUpdateVisible,"is-edit":t.isEdit,data:t.isEdit?t.tableRow:{}},on:{"update:visibles":function(e){t.addUpdateVisible=e},"add-complete":t.addComplete,"update-complete":t.updateComplete}})],1)},n=[],s=i("fab6"),o=i("6d60"),r=i("babb"),l=i("7829"),c=i("64ef"),u=i("ce90"),d={name:"faultCode",mixins:[s["a"],o["a"],r["a"],l["a"]],components:{AddUpdateDialog:u["default"]},computed:{filterTableList:function(){return this.tableList.filter((function(t){return t.checked}))},authouize:function(){return this.authouizeList.filter((function(t){return"create"===t.url}))},tableAction:function(){var t=this.authouizeList.filter((function(t){return"update"===t.url||"delete"===t.url}));return t.length>0?(1===t.length?this.actionWidth=60:this.actionWidth=45*t.length,this.actionFixed="right"):this.actionFixed="false",t}},filters:{switchText:function(t){switch(t){case 1:return"平台";case 2:return"API";case 3:return"终端"}},getCodeStyle:function(t){var e=[{label:"success",value:"成功"},{label:"warning",value:"警告"},{label:"info",value:"提示"},{label:"error",value:"失败"},{label:"alert",value:"弹框"},{label:"confirm",value:"确认"}],i=e.filter((function(e){return e.label===t}))[0];return i?i.value:""}},watch:{},data:function(){return{listQuery:{codeName:"",errorCode:""},actionWidth:0,actionFixed:"",authouizeList:[],showfilter:!1,tableList:[{value:"状态码",prop:"code",position:"center",checked:!0,width:70,fixed:"left"},{value:"状态码来源类型",prop:"codeType",position:"center",checked:!0,width:120},{value:"状态码名称",prop:"codeName",position:"center",checked:!0,width:140},{value:"状态码描述",prop:"codeDes",position:"center",checked:!0,width:180},{value:"创建时间",prop:"createdOn",position:"center",checked:!0,width:140}],tableHeight:0,cellStyle:this.getcellStyle(),rowStyle:this.getRowStyle(),total:0,list:[],listLoading:!1,addUpdateVisible:!1,lookFunctionVisible:!1,isEdit:!1,tableRow:{}}},mounted:function(){},methods:{hanleExport:function(){},listLoad:function(){var t=this;this.listLoading=!0,this.tableRow={},Object(c["c"])(this.listQuery).then((function(e){var i=e.data;0===i.code&&(t.list=i.data,t.total=i.total),t.listLoading=!1}))},rowClick:function(t){this.list.some((function(e,i){e.buttonId===t.row.buttonId&&(t.row.$index=i)})),this.tableRow=t.row},tableRowIsSlect:function(){var t=this.tableRow.$index;return void 0!==t},handleAdd:function(){this.isEdit=!1,this.addUpdateVisible=!0},addComplete:function(){this.listLoad(),this.$message.success({message:"新增成功"})},handleUpdate:function(t){this.isEdit=!0,this.addUpdateVisible=!0,this.tableRow=t},updateComplete:function(){this.listLoad(),this.$message.success({message:"编辑成功"})},handleDelete:function(t){var e=this,i={id:t.id,codeName:t.codeName};this.$confirm("是否删除".concat(t.codeName,"状态码?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(i).then((function(t){var i=t.data;0===i.code&&(e.list&&1===e.list.length?(e.listQuery.pageNum=e.listQuery.pageNum>1?e.listQuery.pageNum-1:e.listQuery.pageNum,e.listLoad()):e.list.splice(e.tableRow.$index,1),e.total--,e.$message.success({message:"删除成功"}),e.listLoad())}))})).catch((function(){}))}}},p=d,h=i("2877"),f=Object(h["a"])(p,a,n,!1,null,"1375629f",null);e["default"]=f.exports}}]);